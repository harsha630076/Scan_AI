var Mk=Object.defineProperty;var Rm=e=>{throw TypeError(e)};var Dk=(e,t,n)=>t in e?Mk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $e=(e,t,n)=>Dk(e,typeof t!="symbol"?t+"":t,n),Fu=(e,t,n)=>t.has(e)||Rm("Cannot "+n);var D=(e,t,n)=>(Fu(e,t,"read from private field"),n?n.call(e):t.get(e)),ve=(e,t,n)=>t.has(e)?Rm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),se=(e,t,n,r)=>(Fu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),it=(e,t,n)=>(Fu(e,t,"access private method"),n);var Ka=(e,t,n,r)=>({set _(s){se(e,t,s,n)},get _(){return D(e,t,r)}});function Lk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function By(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $k(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var zy={exports:{}},Dc={},Hy={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ma=Symbol.for("react.element"),Fk=Symbol.for("react.portal"),Uk=Symbol.for("react.fragment"),Bk=Symbol.for("react.strict_mode"),zk=Symbol.for("react.profiler"),Hk=Symbol.for("react.provider"),Wk=Symbol.for("react.context"),Vk=Symbol.for("react.forward_ref"),qk=Symbol.for("react.suspense"),Gk=Symbol.for("react.memo"),Kk=Symbol.for("react.lazy"),Om=Symbol.iterator;function Yk(e){return e===null||typeof e!="object"?null:(e=Om&&e[Om]||e["@@iterator"],typeof e=="function"?e:null)}var Wy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vy=Object.assign,qy={};function oi(e,t,n){this.props=e,this.context=t,this.refs=qy,this.updater=n||Wy}oi.prototype.isReactComponent={};oi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gy(){}Gy.prototype=oi.prototype;function Mh(e,t,n){this.props=e,this.context=t,this.refs=qy,this.updater=n||Wy}var Dh=Mh.prototype=new Gy;Dh.constructor=Mh;Vy(Dh,oi.prototype);Dh.isPureReactComponent=!0;var Mm=Array.isArray,Ky=Object.prototype.hasOwnProperty,Lh={current:null},Yy={key:!0,ref:!0,__self:!0,__source:!0};function Qy(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Ky.call(t,r)&&!Yy.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ma,type:e,key:o,ref:i,props:s,_owner:Lh.current}}function Qk(e,t){return{$$typeof:Ma,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $h(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ma}function Jk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dm=/\/+/g;function Uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jk(""+e.key):t.toString(36)}function kl(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ma:case Fk:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Uu(i,0):r,Mm(s)?(n="",e!=null&&(n=e.replace(Dm,"$&/")+"/"),kl(s,t,n,"",function(u){return u})):s!=null&&($h(s)&&(s=Qk(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Dm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Mm(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+Uu(o,a);i+=kl(o,t,n,c,s)}else if(c=Yk(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+Uu(o,a++),i+=kl(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ya(e,t,n){if(e==null)return e;var r=[],s=0;return kl(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Xk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bt={current:null},El={transition:null},Zk={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:El,ReactCurrentOwner:Lh};function Jy(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Ya,forEach:function(e,t,n){Ya(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ya(e,function(){t++}),t},toArray:function(e){return Ya(e,function(t){return t})||[]},only:function(e){if(!$h(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=oi;me.Fragment=Uk;me.Profiler=zk;me.PureComponent=Mh;me.StrictMode=Bk;me.Suspense=qk;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zk;me.act=Jy;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vy({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Lh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Ky.call(t,c)&&!Yy.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ma,type:e.type,key:s,ref:o,props:r,_owner:i}};me.createContext=function(e){return e={$$typeof:Wk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hk,_context:e},e.Consumer=e};me.createElement=Qy;me.createFactory=function(e){var t=Qy.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:Vk,render:e}};me.isValidElement=$h;me.lazy=function(e){return{$$typeof:Kk,_payload:{_status:-1,_result:e},_init:Xk}};me.memo=function(e,t){return{$$typeof:Gk,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=El.transition;El.transition={};try{e()}finally{El.transition=t}};me.unstable_act=Jy;me.useCallback=function(e,t){return bt.current.useCallback(e,t)};me.useContext=function(e){return bt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return bt.current.useDeferredValue(e)};me.useEffect=function(e,t){return bt.current.useEffect(e,t)};me.useId=function(){return bt.current.useId()};me.useImperativeHandle=function(e,t,n){return bt.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return bt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return bt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return bt.current.useMemo(e,t)};me.useReducer=function(e,t,n){return bt.current.useReducer(e,t,n)};me.useRef=function(e){return bt.current.useRef(e)};me.useState=function(e){return bt.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return bt.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return bt.current.useTransition()};me.version="18.3.1";Hy.exports=me;var h=Hy.exports;const V=By(h),Fh=Lk({__proto__:null,default:V},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE=h,tE=Symbol.for("react.element"),nE=Symbol.for("react.fragment"),rE=Object.prototype.hasOwnProperty,sE=eE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oE={key:!0,ref:!0,__self:!0,__source:!0};function Xy(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)rE.call(t,r)&&!oE.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:tE,type:e,key:o,ref:i,props:s,_owner:sE.current}}Dc.Fragment=nE;Dc.jsx=Xy;Dc.jsxs=Xy;zy.exports=Dc;var l=zy.exports,Zy={exports:{}},Lt={},e0={exports:{}},t0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,C){var P=A.length;A.push(C);e:for(;0<P;){var $=P-1>>>1,L=A[$];if(0<s(L,C))A[$]=C,A[P]=L,P=$;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var C=A[0],P=A.pop();if(P!==C){A[0]=P;e:for(var $=0,L=A.length,F=L>>>1;$<F;){var G=2*($+1)-1,ee=A[G],Q=G+1,z=A[Q];if(0>s(ee,P))Q<L&&0>s(z,ee)?(A[$]=z,A[Q]=P,$=Q):(A[$]=ee,A[G]=P,$=G);else if(Q<L&&0>s(z,P))A[$]=z,A[Q]=P,$=Q;else break e}}return C}function s(A,C){var P=A.sortIndex-C.sortIndex;return P!==0?P:A.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,m=3,p=!1,b=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(A){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=A)r(u),C.sortIndex=C.expirationTime,t(c,C);else break;C=n(u)}}function x(A){if(v=!1,g(A),!b)if(n(c)!==null)b=!0,M(_);else{var C=n(u);C!==null&&B(x,C.startTime-A)}}function _(A,C){b=!1,v&&(v=!1,w(k),k=-1),p=!0;var P=m;try{for(g(C),f=n(c);f!==null&&(!(f.expirationTime>C)||A&&!R());){var $=f.callback;if(typeof $=="function"){f.callback=null,m=f.priorityLevel;var L=$(f.expirationTime<=C);C=e.unstable_now(),typeof L=="function"?f.callback=L:f===n(c)&&r(c),g(C)}else r(c);f=n(c)}if(f!==null)var F=!0;else{var G=n(u);G!==null&&B(x,G.startTime-C),F=!1}return F}finally{f=null,m=P,p=!1}}var E=!1,j=null,k=-1,N=5,T=-1;function R(){return!(e.unstable_now()-T<N)}function I(){if(j!==null){var A=e.unstable_now();T=A;var C=!0;try{C=j(!0,A)}finally{C?U():(E=!1,j=null)}}else E=!1}var U;if(typeof y=="function")U=function(){y(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=I,U=function(){K.postMessage(null)}}else U=function(){S(I,0)};function M(A){j=A,E||(E=!0,U())}function B(A,C){k=S(function(){A(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,M(_))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var C=3;break;default:C=m}var P=m;m=C;try{return A()}finally{m=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,C){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var P=m;m=A;try{return C()}finally{m=P}},e.unstable_scheduleCallback=function(A,C,P){var $=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?$+P:$):P=$,A){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=P+L,A={id:d++,callback:C,priorityLevel:A,startTime:P,expirationTime:L,sortIndex:-1},P>$?(A.sortIndex=P,t(u,A),n(c)===null&&A===n(u)&&(v?(w(k),k=-1):v=!0,B(x,P-$))):(A.sortIndex=L,t(c,A),b||p||(b=!0,M(_))),A},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(A){var C=m;return function(){var P=m;m=C;try{return A.apply(this,arguments)}finally{m=P}}}})(t0);e0.exports=t0;var iE=e0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE=h,Dt=iE;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n0=new Set,na={};function Ls(e,t){Ho(e,t),Ho(e+"Capture",t)}function Ho(e,t){for(na[e]=t,e=0;e<t.length;e++)n0.add(t[e])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vd=Object.prototype.hasOwnProperty,lE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lm={},$m={};function cE(e){return Vd.call($m,e)?!0:Vd.call(Lm,e)?!1:lE.test(e)?$m[e]=!0:(Lm[e]=!0,!1)}function uE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dE(e,t,n,r){if(t===null||typeof t>"u"||uE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function St(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){st[e]=new St(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];st[t]=new St(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){st[e]=new St(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){st[e]=new St(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){st[e]=new St(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){st[e]=new St(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){st[e]=new St(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){st[e]=new St(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){st[e]=new St(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uh=/[\-:]([a-z])/g;function Bh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uh,Bh);st[t]=new St(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uh,Bh);st[t]=new St(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uh,Bh);st[t]=new St(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){st[e]=new St(e,1,!1,e.toLowerCase(),null,!1,!1)});st.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){st[e]=new St(e,1,!1,e.toLowerCase(),null,!0,!0)});function zh(e,t,n,r){var s=st.hasOwnProperty(t)?st[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dE(t,n,s,r)&&(n=null),r||s===null?cE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sr=aE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),so=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),qd=Symbol.for("react.profiler"),r0=Symbol.for("react.provider"),s0=Symbol.for("react.context"),Wh=Symbol.for("react.forward_ref"),Gd=Symbol.for("react.suspense"),Kd=Symbol.for("react.suspense_list"),Vh=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),o0=Symbol.for("react.offscreen"),Fm=Symbol.iterator;function wi(e){return e===null||typeof e!="object"?null:(e=Fm&&e[Fm]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,Bu;function Ii(e){if(Bu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bu=t&&t[1]||""}return`
`+Bu+e}var zu=!1;function Hu(e,t){if(!e||zu)return"";zu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{zu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ii(e):""}function fE(e){switch(e.tag){case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 2:case 15:return e=Hu(e.type,!1),e;case 11:return e=Hu(e.type.render,!1),e;case 1:return e=Hu(e.type,!0),e;default:return""}}function Yd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oo:return"Fragment";case so:return"Portal";case qd:return"Profiler";case Hh:return"StrictMode";case Gd:return"Suspense";case Kd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case s0:return(e.displayName||"Context")+".Consumer";case r0:return(e._context.displayName||"Context")+".Provider";case Wh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vh:return t=e.displayName||null,t!==null?t:Yd(e.type)||"Memo";case gr:t=e._payload,e=e._init;try{return Yd(e(t))}catch{}}return null}function hE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yd(t);case 8:return t===Hh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function i0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pE(e){var t=i0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ja(e){e._valueTracker||(e._valueTracker=pE(e))}function a0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=i0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qd(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Um(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Br(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l0(e,t){t=t.checked,t!=null&&zh(e,"checked",t,!1)}function Jd(e,t){l0(e,t);var n=Br(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xd(e,t.type,Br(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xd(e,t,n){(t!=="number"||Vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ri=Array.isArray;function wo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Br(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Zd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Ri(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Br(n)}}function c0(e,t){var n=Br(t.value),r=Br(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function u0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ef(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?u0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xa,d0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xa=Xa||document.createElement("div"),Xa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ra(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mE=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(e){mE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bi[t]=Bi[e]})});function f0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bi.hasOwnProperty(e)&&Bi[e]?(""+t).trim():t+"px"}function h0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=f0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var gE=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tf(e,t){if(t){if(gE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function nf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=null;function qh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sf=null,xo=null,bo=null;function Wm(e){if(e=$a(e)){if(typeof sf!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Bc(t),sf(e.stateNode,e.type,t))}}function p0(e){xo?bo?bo.push(e):bo=[e]:xo=e}function m0(){if(xo){var e=xo,t=bo;if(bo=xo=null,Wm(e),t)for(e=0;e<t.length;e++)Wm(t[e])}}function g0(e,t){return e(t)}function v0(){}var Wu=!1;function y0(e,t,n){if(Wu)return e(t,n);Wu=!0;try{return g0(e,t,n)}finally{Wu=!1,(xo!==null||bo!==null)&&(v0(),m0())}}function sa(e,t){var n=e.stateNode;if(n===null)return null;var r=Bc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var of=!1;if(Jn)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){of=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{of=!1}function vE(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var zi=!1,ql=null,Gl=!1,af=null,yE={onError:function(e){zi=!0,ql=e}};function wE(e,t,n,r,s,o,i,a,c){zi=!1,ql=null,vE.apply(yE,arguments)}function xE(e,t,n,r,s,o,i,a,c){if(wE.apply(this,arguments),zi){if(zi){var u=ql;zi=!1,ql=null}else throw Error(W(198));Gl||(Gl=!0,af=u)}}function $s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function w0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vm(e){if($s(e)!==e)throw Error(W(188))}function bE(e){var t=e.alternate;if(!t){if(t=$s(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Vm(s),e;if(o===r)return Vm(s),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function x0(e){return e=bE(e),e!==null?b0(e):null}function b0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=b0(e);if(t!==null)return t;e=e.sibling}return null}var S0=Dt.unstable_scheduleCallback,qm=Dt.unstable_cancelCallback,SE=Dt.unstable_shouldYield,_E=Dt.unstable_requestPaint,ze=Dt.unstable_now,kE=Dt.unstable_getCurrentPriorityLevel,Gh=Dt.unstable_ImmediatePriority,_0=Dt.unstable_UserBlockingPriority,Kl=Dt.unstable_NormalPriority,EE=Dt.unstable_LowPriority,k0=Dt.unstable_IdlePriority,Lc=null,Pn=null;function CE(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Lc,e,void 0,(e.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:TE,NE=Math.log,jE=Math.LN2;function TE(e){return e>>>=0,e===0?32:31-(NE(e)/jE|0)|0}var Za=64,el=4194304;function Oi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Oi(a):(o&=i,o!==0&&(r=Oi(o)))}else i=n&~s,i!==0?r=Oi(i):o!==0&&(r=Oi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-un(t),s=1<<n,r|=e[n],t&=~s;return r}function PE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-un(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=PE(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function lf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function E0(){var e=Za;return Za<<=1,!(Za&4194240)&&(Za=64),e}function Vu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Da(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-un(t),e[t]=n}function IE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-un(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Kh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Se=0;function C0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var N0,Yh,j0,T0,P0,cf=!1,tl=[],Pr=null,Ar=null,Ir=null,oa=new Map,ia=new Map,yr=[],RE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gm(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":oa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(t.pointerId)}}function bi(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=$a(t),t!==null&&Yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function OE(e,t,n,r,s){switch(t){case"focusin":return Pr=bi(Pr,e,t,n,r,s),!0;case"dragenter":return Ar=bi(Ar,e,t,n,r,s),!0;case"mouseover":return Ir=bi(Ir,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return oa.set(o,bi(oa.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ia.set(o,bi(ia.get(o)||null,e,t,n,r,s)),!0}return!1}function A0(e){var t=ds(e.target);if(t!==null){var n=$s(t);if(n!==null){if(t=n.tag,t===13){if(t=w0(n),t!==null){e.blockedOn=t,P0(e.priority,function(){j0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rf=r,n.target.dispatchEvent(r),rf=null}else return t=$a(n),t!==null&&Yh(t),e.blockedOn=n,!1;t.shift()}return!0}function Km(e,t,n){Cl(e)&&n.delete(t)}function ME(){cf=!1,Pr!==null&&Cl(Pr)&&(Pr=null),Ar!==null&&Cl(Ar)&&(Ar=null),Ir!==null&&Cl(Ir)&&(Ir=null),oa.forEach(Km),ia.forEach(Km)}function Si(e,t){e.blockedOn===t&&(e.blockedOn=null,cf||(cf=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,ME)))}function aa(e){function t(s){return Si(s,e)}if(0<tl.length){Si(tl[0],e);for(var n=1;n<tl.length;n++){var r=tl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pr!==null&&Si(Pr,e),Ar!==null&&Si(Ar,e),Ir!==null&&Si(Ir,e),oa.forEach(t),ia.forEach(t),n=0;n<yr.length;n++)r=yr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<yr.length&&(n=yr[0],n.blockedOn===null);)A0(n),n.blockedOn===null&&yr.shift()}var So=sr.ReactCurrentBatchConfig,Ql=!0;function DE(e,t,n,r){var s=Se,o=So.transition;So.transition=null;try{Se=1,Qh(e,t,n,r)}finally{Se=s,So.transition=o}}function LE(e,t,n,r){var s=Se,o=So.transition;So.transition=null;try{Se=4,Qh(e,t,n,r)}finally{Se=s,So.transition=o}}function Qh(e,t,n,r){if(Ql){var s=uf(e,t,n,r);if(s===null)td(e,t,r,Jl,n),Gm(e,r);else if(OE(s,e,t,n,r))r.stopPropagation();else if(Gm(e,r),t&4&&-1<RE.indexOf(e)){for(;s!==null;){var o=$a(s);if(o!==null&&N0(o),o=uf(e,t,n,r),o===null&&td(e,t,r,Jl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else td(e,t,r,null,n)}}var Jl=null;function uf(e,t,n,r){if(Jl=null,e=qh(r),e=ds(e),e!==null)if(t=$s(e),t===null)e=null;else if(n=t.tag,n===13){if(e=w0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jl=e,null}function I0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kE()){case Gh:return 1;case _0:return 4;case Kl:case EE:return 16;case k0:return 536870912;default:return 16}default:return 16}}var Nr=null,Jh=null,Nl=null;function R0(){if(Nl)return Nl;var e,t=Jh,n=t.length,r,s="value"in Nr?Nr.value:Nr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Nl=s.slice(e,1<r?1-r:void 0)}function jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nl(){return!0}function Ym(){return!1}function $t(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nl:Ym,this.isPropagationStopped=Ym,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),t}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xh=$t(ii),La=De({},ii,{view:0,detail:0}),$E=$t(La),qu,Gu,_i,$c=De({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(qu=e.screenX-_i.screenX,Gu=e.screenY-_i.screenY):Gu=qu=0,_i=e),qu)},movementY:function(e){return"movementY"in e?e.movementY:Gu}}),Qm=$t($c),FE=De({},$c,{dataTransfer:0}),UE=$t(FE),BE=De({},La,{relatedTarget:0}),Ku=$t(BE),zE=De({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),HE=$t(zE),WE=De({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VE=$t(WE),qE=De({},ii,{data:0}),Jm=$t(qE),GE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=YE[e])?!!t[e]:!1}function Zh(){return QE}var JE=De({},La,{key:function(e){if(e.key){var t=GE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XE=$t(JE),ZE=De({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xm=$t(ZE),eC=De({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),tC=$t(eC),nC=De({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),rC=$t(nC),sC=De({},$c,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oC=$t(sC),iC=[9,13,27,32],ep=Jn&&"CompositionEvent"in window,Hi=null;Jn&&"documentMode"in document&&(Hi=document.documentMode);var aC=Jn&&"TextEvent"in window&&!Hi,O0=Jn&&(!ep||Hi&&8<Hi&&11>=Hi),Zm=" ",eg=!1;function M0(e,t){switch(e){case"keyup":return iC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var io=!1;function lC(e,t){switch(e){case"compositionend":return D0(t);case"keypress":return t.which!==32?null:(eg=!0,Zm);case"textInput":return e=t.data,e===Zm&&eg?null:e;default:return null}}function cC(e,t){if(io)return e==="compositionend"||!ep&&M0(e,t)?(e=R0(),Nl=Jh=Nr=null,io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return O0&&t.locale!=="ko"?null:t.data;default:return null}}var uC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uC[e.type]:t==="textarea"}function L0(e,t,n,r){p0(r),t=Xl(t,"onChange"),0<t.length&&(n=new Xh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wi=null,la=null;function dC(e){K0(e,0)}function Fc(e){var t=co(e);if(a0(t))return e}function fC(e,t){if(e==="change")return t}var $0=!1;if(Jn){var Yu;if(Jn){var Qu="oninput"in document;if(!Qu){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Qu=typeof ng.oninput=="function"}Yu=Qu}else Yu=!1;$0=Yu&&(!document.documentMode||9<document.documentMode)}function rg(){Wi&&(Wi.detachEvent("onpropertychange",F0),la=Wi=null)}function F0(e){if(e.propertyName==="value"&&Fc(la)){var t=[];L0(t,la,e,qh(e)),y0(dC,t)}}function hC(e,t,n){e==="focusin"?(rg(),Wi=t,la=n,Wi.attachEvent("onpropertychange",F0)):e==="focusout"&&rg()}function pC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fc(la)}function mC(e,t){if(e==="click")return Fc(t)}function gC(e,t){if(e==="input"||e==="change")return Fc(t)}function vC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:vC;function ca(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vd.call(t,s)||!fn(e[s],t[s]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function og(e,t){var n=sg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sg(n)}}function U0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?U0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B0(){for(var e=window,t=Vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vl(e.document)}return t}function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yC(e){var t=B0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&U0(n.ownerDocument.documentElement,n)){if(r!==null&&tp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=og(n,o);var i=og(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wC=Jn&&"documentMode"in document&&11>=document.documentMode,ao=null,df=null,Vi=null,ff=!1;function ig(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ff||ao==null||ao!==Vl(r)||(r=ao,"selectionStart"in r&&tp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vi&&ca(Vi,r)||(Vi=r,r=Xl(df,"onSelect"),0<r.length&&(t=new Xh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ao)))}function rl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lo={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},Ju={},z0={};Jn&&(z0=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Uc(e){if(Ju[e])return Ju[e];if(!lo[e])return e;var t=lo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in z0)return Ju[e]=t[n];return e}var H0=Uc("animationend"),W0=Uc("animationiteration"),V0=Uc("animationstart"),q0=Uc("transitionend"),G0=new Map,ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,t){G0.set(e,t),Ls(t,[e])}for(var Xu=0;Xu<ag.length;Xu++){var Zu=ag[Xu],xC=Zu.toLowerCase(),bC=Zu[0].toUpperCase()+Zu.slice(1);qr(xC,"on"+bC)}qr(H0,"onAnimationEnd");qr(W0,"onAnimationIteration");qr(V0,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(q0,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function lg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xE(r,t,void 0,e),e.currentTarget=null}function K0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;lg(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;lg(s,a,u),o=c}}}if(Gl)throw e=af,Gl=!1,af=null,e}function je(e,t){var n=t[vf];n===void 0&&(n=t[vf]=new Set);var r=e+"__bubble";n.has(r)||(Y0(t,e,2,!1),n.add(r))}function ed(e,t,n){var r=0;t&&(r|=4),Y0(n,e,r,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function ua(e){if(!e[sl]){e[sl]=!0,n0.forEach(function(n){n!=="selectionchange"&&(SC.has(n)||ed(n,!1,e),ed(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,ed("selectionchange",!1,t))}}function Y0(e,t,n,r){switch(I0(t)){case 1:var s=DE;break;case 4:s=LE;break;default:s=Qh}n=s.bind(null,t,n,e),s=void 0,!of||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function td(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ds(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}y0(function(){var u=o,d=qh(n),f=[];e:{var m=G0.get(e);if(m!==void 0){var p=Xh,b=e;switch(e){case"keypress":if(jl(n)===0)break e;case"keydown":case"keyup":p=XE;break;case"focusin":b="focus",p=Ku;break;case"focusout":b="blur",p=Ku;break;case"beforeblur":case"afterblur":p=Ku;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tC;break;case H0:case W0:case V0:p=HE;break;case q0:p=rC;break;case"scroll":p=$E;break;case"wheel":p=oC;break;case"copy":case"cut":case"paste":p=VE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xm}var v=(t&4)!==0,S=!v&&e==="scroll",w=v?m!==null?m+"Capture":null:m;v=[];for(var y=u,g;y!==null;){g=y;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,w!==null&&(x=sa(y,w),x!=null&&v.push(da(y,x,g)))),S)break;y=y.return}0<v.length&&(m=new p(m,b,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==rf&&(b=n.relatedTarget||n.fromElement)&&(ds(b)||b[Xn]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?ds(b):null,b!==null&&(S=$s(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(v=Qm,x="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Xm,x="onPointerLeave",w="onPointerEnter",y="pointer"),S=p==null?m:co(p),g=b==null?m:co(b),m=new v(x,y+"leave",p,n,d),m.target=S,m.relatedTarget=g,x=null,ds(d)===u&&(v=new v(w,y+"enter",b,n,d),v.target=g,v.relatedTarget=S,x=v),S=x,p&&b)t:{for(v=p,w=b,y=0,g=v;g;g=Vs(g))y++;for(g=0,x=w;x;x=Vs(x))g++;for(;0<y-g;)v=Vs(v),y--;for(;0<g-y;)w=Vs(w),g--;for(;y--;){if(v===w||w!==null&&v===w.alternate)break t;v=Vs(v),w=Vs(w)}v=null}else v=null;p!==null&&cg(f,m,p,v,!1),b!==null&&S!==null&&cg(f,S,b,v,!0)}}e:{if(m=u?co(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=fC;else if(tg(m))if($0)_=gC;else{_=pC;var E=hC}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=mC);if(_&&(_=_(e,u))){L0(f,_,n,d);break e}E&&E(e,m,u),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Xd(m,"number",m.value)}switch(E=u?co(u):window,e){case"focusin":(tg(E)||E.contentEditable==="true")&&(ao=E,df=u,Vi=null);break;case"focusout":Vi=df=ao=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,ig(f,n,d);break;case"selectionchange":if(wC)break;case"keydown":case"keyup":ig(f,n,d)}var j;if(ep)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else io?M0(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(O0&&n.locale!=="ko"&&(io||k!=="onCompositionStart"?k==="onCompositionEnd"&&io&&(j=R0()):(Nr=d,Jh="value"in Nr?Nr.value:Nr.textContent,io=!0)),E=Xl(u,k),0<E.length&&(k=new Jm(k,e,null,n,d),f.push({event:k,listeners:E}),j?k.data=j:(j=D0(n),j!==null&&(k.data=j)))),(j=aC?lC(e,n):cC(e,n))&&(u=Xl(u,"onBeforeInput"),0<u.length&&(d=new Jm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=j))}K0(f,t)})}function da(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=sa(e,n),o!=null&&r.unshift(da(e,o,s)),o=sa(e,t),o!=null&&r.push(da(e,o,s))),e=e.return}return r}function Vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cg(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=sa(n,o),c!=null&&i.unshift(da(n,c,a))):s||(c=sa(n,o),c!=null&&i.push(da(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var _C=/\r\n?/g,kC=/\u0000|\uFFFD/g;function ug(e){return(typeof e=="string"?e:""+e).replace(_C,`
`).replace(kC,"")}function ol(e,t,n){if(t=ug(t),ug(e)!==t&&n)throw Error(W(425))}function Zl(){}var hf=null,pf=null;function mf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gf=typeof setTimeout=="function"?setTimeout:void 0,EC=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,CC=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(e){return dg.resolve(null).then(e).catch(NC)}:gf;function NC(e){setTimeout(function(){throw e})}function nd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),aa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);aa(t)}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),Cn="__reactFiber$"+ai,fa="__reactProps$"+ai,Xn="__reactContainer$"+ai,vf="__reactEvents$"+ai,jC="__reactListeners$"+ai,TC="__reactHandles$"+ai;function ds(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xn]||n[Cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fg(e);e!==null;){if(n=e[Cn])return n;e=fg(e)}return t}e=n,n=e.parentNode}return null}function $a(e){return e=e[Cn]||e[Xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Bc(e){return e[fa]||null}var yf=[],uo=-1;function Gr(e){return{current:e}}function Pe(e){0>uo||(e.current=yf[uo],yf[uo]=null,uo--)}function Ce(e,t){uo++,yf[uo]=e.current,e.current=t}var zr={},ft=Gr(zr),jt=Gr(!1),Es=zr;function Wo(e,t){var n=e.type.contextTypes;if(!n)return zr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tt(e){return e=e.childContextTypes,e!=null}function ec(){Pe(jt),Pe(ft)}function hg(e,t,n){if(ft.current!==zr)throw Error(W(168));Ce(ft,t),Ce(jt,n)}function Q0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(W(108,hE(e)||"Unknown",s));return De({},n,r)}function tc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,Es=ft.current,Ce(ft,e),Ce(jt,jt.current),!0}function pg(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=Q0(e,t,Es),r.__reactInternalMemoizedMergedChildContext=e,Pe(jt),Pe(ft),Ce(ft,e)):Pe(jt),Ce(jt,n)}var Hn=null,zc=!1,rd=!1;function J0(e){Hn===null?Hn=[e]:Hn.push(e)}function PC(e){zc=!0,J0(e)}function Kr(){if(!rd&&Hn!==null){rd=!0;var e=0,t=Se;try{var n=Hn;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Hn=null,zc=!1}catch(s){throw Hn!==null&&(Hn=Hn.slice(e+1)),S0(Gh,Kr),s}finally{Se=t,rd=!1}}return null}var fo=[],ho=0,nc=null,rc=0,Ut=[],Bt=0,Cs=null,Vn=1,qn="";function ns(e,t){fo[ho++]=rc,fo[ho++]=nc,nc=e,rc=t}function X0(e,t,n){Ut[Bt++]=Vn,Ut[Bt++]=qn,Ut[Bt++]=Cs,Cs=e;var r=Vn;e=qn;var s=32-un(r)-1;r&=~(1<<s),n+=1;var o=32-un(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Vn=1<<32-un(t)+s|n<<s|r,qn=o+e}else Vn=1<<o|n<<s|r,qn=e}function np(e){e.return!==null&&(ns(e,1),X0(e,1,0))}function rp(e){for(;e===nc;)nc=fo[--ho],fo[ho]=null,rc=fo[--ho],fo[ho]=null;for(;e===Cs;)Cs=Ut[--Bt],Ut[Bt]=null,qn=Ut[--Bt],Ut[Bt]=null,Vn=Ut[--Bt],Ut[Bt]=null}var Ot=null,Rt=null,Re=!1,cn=null;function Z0(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Rt=Rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cs!==null?{id:Vn,overflow:qn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,Rt=null,!0):!1;default:return!1}}function wf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xf(e){if(Re){var t=Rt;if(t){var n=t;if(!mg(e,t)){if(wf(e))throw Error(W(418));t=Rr(n.nextSibling);var r=Ot;t&&mg(e,t)?Z0(r,n):(e.flags=e.flags&-4097|2,Re=!1,Ot=e)}}else{if(wf(e))throw Error(W(418));e.flags=e.flags&-4097|2,Re=!1,Ot=e}}}function gg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function il(e){if(e!==Ot)return!1;if(!Re)return gg(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mf(e.type,e.memoizedProps)),t&&(t=Rt)){if(wf(e))throw ew(),Error(W(418));for(;t;)Z0(e,t),t=Rr(t.nextSibling)}if(gg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rt=Rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Ot?Rr(e.stateNode.nextSibling):null;return!0}function ew(){for(var e=Rt;e;)e=Rr(e.nextSibling)}function Vo(){Rt=Ot=null,Re=!1}function sp(e){cn===null?cn=[e]:cn.push(e)}var AC=sr.ReactCurrentBatchConfig;function ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function al(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vg(e){var t=e._init;return t(e._payload)}function tw(e){function t(w,y){if(e){var g=w.deletions;g===null?(w.deletions=[y],w.flags|=16):g.push(y)}}function n(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Lr(w,y),w.index=0,w.sibling=null,w}function o(w,y,g){return w.index=g,e?(g=w.alternate,g!==null?(g=g.index,g<y?(w.flags|=2,y):g):(w.flags|=2,y)):(w.flags|=1048576,y)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,y,g,x){return y===null||y.tag!==6?(y=ud(g,w.mode,x),y.return=w,y):(y=s(y,g),y.return=w,y)}function c(w,y,g,x){var _=g.type;return _===oo?d(w,y,g.props.children,x,g.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===gr&&vg(_)===y.type)?(x=s(y,g.props),x.ref=ki(w,y,g),x.return=w,x):(x=Ml(g.type,g.key,g.props,null,w.mode,x),x.ref=ki(w,y,g),x.return=w,x)}function u(w,y,g,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=dd(g,w.mode,x),y.return=w,y):(y=s(y,g.children||[]),y.return=w,y)}function d(w,y,g,x,_){return y===null||y.tag!==7?(y=_s(g,w.mode,x,_),y.return=w,y):(y=s(y,g),y.return=w,y)}function f(w,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ud(""+y,w.mode,g),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qa:return g=Ml(y.type,y.key,y.props,null,w.mode,g),g.ref=ki(w,null,y),g.return=w,g;case so:return y=dd(y,w.mode,g),y.return=w,y;case gr:var x=y._init;return f(w,x(y._payload),g)}if(Ri(y)||wi(y))return y=_s(y,w.mode,g,null),y.return=w,y;al(w,y)}return null}function m(w,y,g,x){var _=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:a(w,y,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qa:return g.key===_?c(w,y,g,x):null;case so:return g.key===_?u(w,y,g,x):null;case gr:return _=g._init,m(w,y,_(g._payload),x)}if(Ri(g)||wi(g))return _!==null?null:d(w,y,g,x,null);al(w,g)}return null}function p(w,y,g,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(g)||null,a(y,w,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qa:return w=w.get(x.key===null?g:x.key)||null,c(y,w,x,_);case so:return w=w.get(x.key===null?g:x.key)||null,u(y,w,x,_);case gr:var E=x._init;return p(w,y,g,E(x._payload),_)}if(Ri(x)||wi(x))return w=w.get(g)||null,d(y,w,x,_,null);al(y,x)}return null}function b(w,y,g,x){for(var _=null,E=null,j=y,k=y=0,N=null;j!==null&&k<g.length;k++){j.index>k?(N=j,j=null):N=j.sibling;var T=m(w,j,g[k],x);if(T===null){j===null&&(j=N);break}e&&j&&T.alternate===null&&t(w,j),y=o(T,y,k),E===null?_=T:E.sibling=T,E=T,j=N}if(k===g.length)return n(w,j),Re&&ns(w,k),_;if(j===null){for(;k<g.length;k++)j=f(w,g[k],x),j!==null&&(y=o(j,y,k),E===null?_=j:E.sibling=j,E=j);return Re&&ns(w,k),_}for(j=r(w,j);k<g.length;k++)N=p(j,w,k,g[k],x),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?k:N.key),y=o(N,y,k),E===null?_=N:E.sibling=N,E=N);return e&&j.forEach(function(R){return t(w,R)}),Re&&ns(w,k),_}function v(w,y,g,x){var _=wi(g);if(typeof _!="function")throw Error(W(150));if(g=_.call(g),g==null)throw Error(W(151));for(var E=_=null,j=y,k=y=0,N=null,T=g.next();j!==null&&!T.done;k++,T=g.next()){j.index>k?(N=j,j=null):N=j.sibling;var R=m(w,j,T.value,x);if(R===null){j===null&&(j=N);break}e&&j&&R.alternate===null&&t(w,j),y=o(R,y,k),E===null?_=R:E.sibling=R,E=R,j=N}if(T.done)return n(w,j),Re&&ns(w,k),_;if(j===null){for(;!T.done;k++,T=g.next())T=f(w,T.value,x),T!==null&&(y=o(T,y,k),E===null?_=T:E.sibling=T,E=T);return Re&&ns(w,k),_}for(j=r(w,j);!T.done;k++,T=g.next())T=p(j,w,k,T.value,x),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?k:T.key),y=o(T,y,k),E===null?_=T:E.sibling=T,E=T);return e&&j.forEach(function(I){return t(w,I)}),Re&&ns(w,k),_}function S(w,y,g,x){if(typeof g=="object"&&g!==null&&g.type===oo&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Qa:e:{for(var _=g.key,E=y;E!==null;){if(E.key===_){if(_=g.type,_===oo){if(E.tag===7){n(w,E.sibling),y=s(E,g.props.children),y.return=w,w=y;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===gr&&vg(_)===E.type){n(w,E.sibling),y=s(E,g.props),y.ref=ki(w,E,g),y.return=w,w=y;break e}n(w,E);break}else t(w,E);E=E.sibling}g.type===oo?(y=_s(g.props.children,w.mode,x,g.key),y.return=w,w=y):(x=Ml(g.type,g.key,g.props,null,w.mode,x),x.ref=ki(w,y,g),x.return=w,w=x)}return i(w);case so:e:{for(E=g.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(w,y.sibling),y=s(y,g.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else t(w,y);y=y.sibling}y=dd(g,w.mode,x),y.return=w,w=y}return i(w);case gr:return E=g._init,S(w,y,E(g._payload),x)}if(Ri(g))return b(w,y,g,x);if(wi(g))return v(w,y,g,x);al(w,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,g),y.return=w,w=y):(n(w,y),y=ud(g,w.mode,x),y.return=w,w=y),i(w)):n(w,y)}return S}var qo=tw(!0),nw=tw(!1),sc=Gr(null),oc=null,po=null,op=null;function ip(){op=po=oc=null}function ap(e){var t=sc.current;Pe(sc),e._currentValue=t}function bf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){oc=e,op=po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(op!==e)if(e={context:e,memoizedValue:t,next:null},po===null){if(oc===null)throw Error(W(308));po=e,oc.dependencies={lanes:0,firstContext:e}}else po=po.next=e;return t}var fs=null;function lp(e){fs===null?fs=[e]:fs.push(e)}function rw(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,lp(t)):(n.next=s.next,s.next=n),t.interleaved=n,Zn(e,r)}function Zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vr=!1;function cp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Or(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Zn(e,n)}return s=r.interleaved,s===null?(t.next=t,lp(r)):(t.next=s.next,s.next=t),r.interleaved=t,Zn(e,n)}function Tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kh(e,n)}}function yg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ic(e,t,n,r){var s=e.updateQueue;vr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,v=a;switch(m=t,p=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(p,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,m=typeof b=="function"?b.call(p,f,m):b,m==null)break e;f=De({},f,m);break e;case 2:vr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);js|=i,e.lanes=i,e.memoizedState=f}}function wg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Fa={},An=Gr(Fa),ha=Gr(Fa),pa=Gr(Fa);function hs(e){if(e===Fa)throw Error(W(174));return e}function up(e,t){switch(Ce(pa,t),Ce(ha,e),Ce(An,Fa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ef(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ef(t,e)}Pe(An),Ce(An,t)}function Go(){Pe(An),Pe(ha),Pe(pa)}function ow(e){hs(pa.current);var t=hs(An.current),n=ef(t,e.type);t!==n&&(Ce(ha,e),Ce(An,n))}function dp(e){ha.current===e&&(Pe(An),Pe(ha))}var Oe=Gr(0);function ac(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sd=[];function fp(){for(var e=0;e<sd.length;e++)sd[e]._workInProgressVersionPrimary=null;sd.length=0}var Pl=sr.ReactCurrentDispatcher,od=sr.ReactCurrentBatchConfig,Ns=0,Me=null,Ye=null,et=null,lc=!1,qi=!1,ma=0,IC=0;function at(){throw Error(W(321))}function hp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fn(e[n],t[n]))return!1;return!0}function pp(e,t,n,r,s,o){if(Ns=o,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pl.current=e===null||e.memoizedState===null?DC:LC,e=n(r,s),qi){o=0;do{if(qi=!1,ma=0,25<=o)throw Error(W(301));o+=1,et=Ye=null,t.updateQueue=null,Pl.current=$C,e=n(r,s)}while(qi)}if(Pl.current=cc,t=Ye!==null&&Ye.next!==null,Ns=0,et=Ye=Me=null,lc=!1,t)throw Error(W(300));return e}function mp(){var e=ma!==0;return ma=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Me.memoizedState=et=e:et=et.next=e,et}function Gt(){if(Ye===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=et===null?Me.memoizedState:et.next;if(t!==null)et=t,Ye=e;else{if(e===null)throw Error(W(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},et===null?Me.memoizedState=et=e:et=et.next=e}return et}function ga(e,t){return typeof t=="function"?t(e):t}function id(e){var t=Gt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Ye,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((Ns&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=r):c=c.next=f,Me.lanes|=d,js|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,fn(r,t.memoizedState)||(Nt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Me.lanes|=o,js|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ad(e){var t=Gt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);fn(o,t.memoizedState)||(Nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function iw(){}function aw(e,t){var n=Me,r=Gt(),s=t(),o=!fn(r.memoizedState,s);if(o&&(r.memoizedState=s,Nt=!0),r=r.queue,gp(uw.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,va(9,cw.bind(null,n,r,s,t),void 0,null),tt===null)throw Error(W(349));Ns&30||lw(n,t,s)}return s}function lw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cw(e,t,n,r){t.value=n,t.getSnapshot=r,dw(t)&&fw(e)}function uw(e,t,n){return n(function(){dw(t)&&fw(e)})}function dw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fn(e,n)}catch{return!0}}function fw(e){var t=Zn(e,1);t!==null&&dn(t,e,1,-1)}function xg(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t.queue=e,e=e.dispatch=MC.bind(null,Me,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hw(){return Gt().memoizedState}function Al(e,t,n,r){var s=wn();Me.flags|=e,s.memoizedState=va(1|t,n,void 0,r===void 0?null:r)}function Hc(e,t,n,r){var s=Gt();r=r===void 0?null:r;var o=void 0;if(Ye!==null){var i=Ye.memoizedState;if(o=i.destroy,r!==null&&hp(r,i.deps)){s.memoizedState=va(t,n,o,r);return}}Me.flags|=e,s.memoizedState=va(1|t,n,o,r)}function bg(e,t){return Al(8390656,8,e,t)}function gp(e,t){return Hc(2048,8,e,t)}function pw(e,t){return Hc(4,2,e,t)}function mw(e,t){return Hc(4,4,e,t)}function gw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vw(e,t,n){return n=n!=null?n.concat([e]):null,Hc(4,4,gw.bind(null,t,e),n)}function vp(){}function yw(e,t){var n=Gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ww(e,t){var n=Gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xw(e,t,n){return Ns&21?(fn(n,t)||(n=E0(),Me.lanes|=n,js|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=n)}function RC(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=od.transition;od.transition={};try{e(!1),t()}finally{Se=n,od.transition=r}}function bw(){return Gt().memoizedState}function OC(e,t,n){var r=Dr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sw(e))_w(t,n);else if(n=rw(e,t,n,r),n!==null){var s=xt();dn(n,e,r,s),kw(n,t,r)}}function MC(e,t,n){var r=Dr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sw(e))_w(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,fn(a,i)){var c=t.interleaved;c===null?(s.next=s,lp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=rw(e,t,s,r),n!==null&&(s=xt(),dn(n,e,r,s),kw(n,t,r))}}function Sw(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function _w(e,t){qi=lc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kh(e,n)}}var cc={readContext:qt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},DC={readContext:qt,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:bg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Al(4194308,4,gw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){return Al(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=OC.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:xg,useDebugValue:vp,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=xg(!1),t=e[0];return e=RC.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,s=wn();if(Re){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),tt===null)throw Error(W(349));Ns&30||lw(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,bg(uw.bind(null,r,o,e),[e]),r.flags|=2048,va(9,cw.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wn(),t=tt.identifierPrefix;if(Re){var n=qn,r=Vn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ma++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=IC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},LC={readContext:qt,useCallback:yw,useContext:qt,useEffect:gp,useImperativeHandle:vw,useInsertionEffect:pw,useLayoutEffect:mw,useMemo:ww,useReducer:id,useRef:hw,useState:function(){return id(ga)},useDebugValue:vp,useDeferredValue:function(e){var t=Gt();return xw(t,Ye.memoizedState,e)},useTransition:function(){var e=id(ga)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:iw,useSyncExternalStore:aw,useId:bw,unstable_isNewReconciler:!1},$C={readContext:qt,useCallback:yw,useContext:qt,useEffect:gp,useImperativeHandle:vw,useInsertionEffect:pw,useLayoutEffect:mw,useMemo:ww,useReducer:ad,useRef:hw,useState:function(){return ad(ga)},useDebugValue:vp,useDeferredValue:function(e){var t=Gt();return Ye===null?t.memoizedState=e:xw(t,Ye.memoizedState,e)},useTransition:function(){var e=ad(ga)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:iw,useSyncExternalStore:aw,useId:bw,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wc={isMounted:function(e){return(e=e._reactInternals)?$s(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xt(),s=Dr(e),o=Kn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Or(e,o,s),t!==null&&(dn(t,e,s,r),Tl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xt(),s=Dr(e),o=Kn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Or(e,o,s),t!==null&&(dn(t,e,s,r),Tl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xt(),r=Dr(e),s=Kn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Or(e,s,r),t!==null&&(dn(t,e,r,n),Tl(t,e,r))}};function Sg(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ca(n,r)||!ca(s,o):!0}function Ew(e,t,n){var r=!1,s=zr,o=t.contextType;return typeof o=="object"&&o!==null?o=qt(o):(s=Tt(t)?Es:ft.current,r=t.contextTypes,o=(r=r!=null)?Wo(e,s):zr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function _g(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wc.enqueueReplaceState(t,t.state,null)}function _f(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},cp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=qt(o):(o=Tt(t)?Es:ft.current,s.context=Wo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Sf(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wc.enqueueReplaceState(s,s.state,null),ic(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ko(e,t){try{var n="",r=t;do n+=fE(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ld(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var FC=typeof WeakMap=="function"?WeakMap:Map;function Cw(e,t,n){n=Kn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){dc||(dc=!0,Of=r),kf(e,t)},n}function Nw(e,t,n){n=Kn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){kf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kf(e,t),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function kg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new FC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ZC.bind(null,e,t,n),t.then(e,e))}function Eg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cg(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kn(-1,1),t.tag=2,Or(n,t,1))),n.lanes|=1),e)}var UC=sr.ReactCurrentOwner,Nt=!1;function yt(e,t,n,r){t.child=e===null?nw(t,null,n,r):qo(t,e.child,n,r)}function Ng(e,t,n,r,s){n=n.render;var o=t.ref;return _o(t,s),r=pp(e,t,n,r,o,s),n=mp(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(Re&&n&&np(t),t.flags|=1,yt(e,t,r,s),t.child)}function jg(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ep(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,jw(e,t,o,r,s)):(e=Ml(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(i,r)&&e.ref===t.ref)return er(e,t,s)}return t.flags|=1,e=Lr(o,r),e.ref=t.ref,e.return=t,t.child=e}function jw(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ca(o,r)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,er(e,t,s)}return Ef(e,t,n,r,s)}function Tw(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(go,At),At|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(go,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ce(go,At),At|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ce(go,At),At|=r;return yt(e,t,s,n),t.child}function Pw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ef(e,t,n,r,s){var o=Tt(n)?Es:ft.current;return o=Wo(t,o),_o(t,s),n=pp(e,t,n,r,o,s),r=mp(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,er(e,t,s)):(Re&&r&&np(t),t.flags|=1,yt(e,t,n,s),t.child)}function Tg(e,t,n,r,s){if(Tt(n)){var o=!0;tc(t)}else o=!1;if(_o(t,s),t.stateNode===null)Il(e,t),Ew(t,n,r),_f(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=Tt(n)?Es:ft.current,u=Wo(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&_g(t,i,r,u),vr=!1;var m=t.memoizedState;i.state=m,ic(t,r,i,s),c=t.memoizedState,a!==r||m!==c||jt.current||vr?(typeof d=="function"&&(Sf(t,n,d,r),c=t.memoizedState),(a=vr||Sg(t,n,a,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,sw(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:nn(t.type,a),i.props=u,f=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=qt(c):(c=Tt(n)?Es:ft.current,c=Wo(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||m!==c)&&_g(t,i,r,c),vr=!1,m=t.memoizedState,i.state=m,ic(t,r,i,s);var b=t.memoizedState;a!==f||m!==b||jt.current||vr?(typeof p=="function"&&(Sf(t,n,p,r),b=t.memoizedState),(u=vr||Sg(t,n,u,r,m,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Cf(e,t,n,r,o,s)}function Cf(e,t,n,r,s,o){Pw(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&pg(t,n,!1),er(e,t,o);r=t.stateNode,UC.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=qo(t,e.child,null,o),t.child=qo(t,null,a,o)):yt(e,t,a,o),t.memoizedState=r.state,s&&pg(t,n,!0),t.child}function Aw(e){var t=e.stateNode;t.pendingContext?hg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hg(e,t.context,!1),up(e,t.containerInfo)}function Pg(e,t,n,r,s){return Vo(),sp(s),t.flags|=256,yt(e,t,n,r),t.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function jf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Iw(e,t,n){var r=t.pendingProps,s=Oe.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ce(Oe,s&1),e===null)return xf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Gc(i,r,0,null),e=_s(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jf(n),t.memoizedState=Nf,e):yp(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return BC(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Lr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Lr(a,o):(o=_s(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?jf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Nf,r}return o=e.child,e=o.sibling,r=Lr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yp(e,t){return t=Gc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ll(e,t,n,r){return r!==null&&sp(r),qo(t,e.child,null,n),e=yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function BC(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=ld(Error(W(422))),ll(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Gc({mode:"visible",children:r.children},s,0,null),o=_s(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&qo(t,e.child,null,i),t.child.memoizedState=jf(i),t.memoizedState=Nf,o);if(!(t.mode&1))return ll(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(W(419)),r=ld(o,r,void 0),ll(e,t,i,r)}if(a=(i&e.childLanes)!==0,Nt||a){if(r=tt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Zn(e,s),dn(r,e,s,-1))}return kp(),r=ld(Error(W(421))),ll(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=eN.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Rt=Rr(s.nextSibling),Ot=t,Re=!0,cn=null,e!==null&&(Ut[Bt++]=Vn,Ut[Bt++]=qn,Ut[Bt++]=Cs,Vn=e.id,qn=e.overflow,Cs=t),t=yp(t,r.children),t.flags|=4096,t)}function Ag(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bf(e.return,t,n)}function cd(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Rw(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(yt(e,t,r.children,n),r=Oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ag(e,n,t);else if(e.tag===19)Ag(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(Oe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ac(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),cd(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ac(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}cd(t,!0,n,null,o);break;case"together":cd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Il(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),js|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Lr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Lr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zC(e,t,n){switch(t.tag){case 3:Aw(t),Vo();break;case 5:ow(t);break;case 1:Tt(t.type)&&tc(t);break;case 4:up(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ce(sc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Oe,Oe.current&1),t.flags|=128,null):n&t.child.childLanes?Iw(e,t,n):(Ce(Oe,Oe.current&1),e=er(e,t,n),e!==null?e.sibling:null);Ce(Oe,Oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Rw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Oe,Oe.current),r)break;return null;case 22:case 23:return t.lanes=0,Tw(e,t,n)}return er(e,t,n)}var Ow,Tf,Mw,Dw;Ow=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tf=function(){};Mw=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,hs(An.current);var o=null;switch(n){case"input":s=Qd(e,s),r=Qd(e,r),o=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),o=[];break;case"textarea":s=Zd(e,s),r=Zd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zl)}tf(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(na.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(na.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Dw=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ei(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function HC(e,t,n){var r=t.pendingProps;switch(rp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return Tt(t.type)&&ec(),lt(t),null;case 3:return r=t.stateNode,Go(),Pe(jt),Pe(ft),fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(Lf(cn),cn=null))),Tf(e,t),lt(t),null;case 5:dp(t);var s=hs(pa.current);if(n=t.type,e!==null&&t.stateNode!=null)Mw(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return lt(t),null}if(e=hs(An.current),il(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Cn]=t,r[fa]=o,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<Mi.length;s++)je(Mi[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Um(r,o),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},je("invalid",r);break;case"textarea":zm(r,o),je("invalid",r)}tf(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ol(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ol(r.textContent,a,e),s=["children",""+a]):na.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&je("scroll",r)}switch(n){case"input":Ja(r),Bm(r,o,!0);break;case"textarea":Ja(r),Hm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=u0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Cn]=t,e[fa]=r,Ow(e,t,!1,!1),t.stateNode=e;e:{switch(i=nf(n,r),n){case"dialog":je("cancel",e),je("close",e),s=r;break;case"iframe":case"object":case"embed":je("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mi.length;s++)je(Mi[s],e);s=r;break;case"source":je("error",e),s=r;break;case"img":case"image":case"link":je("error",e),je("load",e),s=r;break;case"details":je("toggle",e),s=r;break;case"input":Um(e,r),s=Qd(e,r),je("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),je("invalid",e);break;case"textarea":zm(e,r),s=Zd(e,r),je("invalid",e);break;default:s=r}tf(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?h0(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&d0(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ra(e,c):typeof c=="number"&&ra(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(na.hasOwnProperty(o)?c!=null&&o==="onScroll"&&je("scroll",e):c!=null&&zh(e,o,c,i))}switch(n){case"input":Ja(e),Bm(e,r,!1);break;case"textarea":Ja(e),Hm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Br(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?wo(e,!!r.multiple,o,!1):r.defaultValue!=null&&wo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)Dw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=hs(pa.current),hs(An.current),il(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cn]=t,(o=r.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:ol(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ol(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=t,t.stateNode=r}return lt(t),null;case 13:if(Pe(Oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Rt!==null&&t.mode&1&&!(t.flags&128))ew(),Vo(),t.flags|=98560,o=!1;else if(o=il(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[Cn]=t}else Vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;lt(t),o=!1}else cn!==null&&(Lf(cn),cn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?Je===0&&(Je=3):kp())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return Go(),Tf(e,t),e===null&&ua(t.stateNode.containerInfo),lt(t),null;case 10:return ap(t.type._context),lt(t),null;case 17:return Tt(t.type)&&ec(),lt(t),null;case 19:if(Pe(Oe),o=t.memoizedState,o===null)return lt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Ei(o,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ac(e),i!==null){for(t.flags|=128,Ei(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Oe,Oe.current&1|2),t.child}e=e.sibling}o.tail!==null&&ze()>Yo&&(t.flags|=128,r=!0,Ei(o,!1),t.lanes=4194304)}else{if(!r)if(e=ac(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ei(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Re)return lt(t),null}else 2*ze()-o.renderingStartTime>Yo&&n!==1073741824&&(t.flags|=128,r=!0,Ei(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ze(),t.sibling=null,n=Oe.current,Ce(Oe,r?n&1|2:n&1),t):(lt(t),null);case 22:case 23:return _p(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?At&1073741824&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function WC(e,t){switch(rp(t),t.tag){case 1:return Tt(t.type)&&ec(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Go(),Pe(jt),Pe(ft),fp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dp(t),null;case 13:if(Pe(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Oe),null;case 4:return Go(),null;case 10:return ap(t.type._context),null;case 22:case 23:return _p(),null;case 24:return null;default:return null}}var cl=!1,ut=!1,VC=typeof WeakSet=="function"?WeakSet:Set,Y=null;function mo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(e,t,r)}else n.current=null}function Pf(e,t,n){try{n()}catch(r){Ue(e,t,r)}}var Ig=!1;function qC(e,t){if(hf=Ql,e=B0(),tp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(a=i),m===o&&++d===r&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pf={focusedElem:e,selectionRange:n},Ql=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,S=b.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:nn(t.type,v),S);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(x){Ue(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return b=Ig,Ig=!1,b}function Gi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Pf(t,n,o)}s=s.next}while(s!==r)}}function Vc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Af(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lw(e){var t=e.alternate;t!==null&&(e.alternate=null,Lw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[fa],delete t[vf],delete t[jC],delete t[TC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $w(e){return e.tag===5||e.tag===3||e.tag===4}function Rg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$w(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function If(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zl));else if(r!==4&&(e=e.child,e!==null))for(If(e,t,n),e=e.sibling;e!==null;)If(e,t,n),e=e.sibling}function Rf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rf(e,t,n),e=e.sibling;e!==null;)Rf(e,t,n),e=e.sibling}var nt=null,an=!1;function cr(e,t,n){for(n=n.child;n!==null;)Fw(e,t,n),n=n.sibling}function Fw(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Lc,n)}catch{}switch(n.tag){case 5:ut||mo(n,t);case 6:var r=nt,s=an;nt=null,cr(e,t,n),nt=r,an=s,nt!==null&&(an?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(an?(e=nt,n=n.stateNode,e.nodeType===8?nd(e.parentNode,n):e.nodeType===1&&nd(e,n),aa(e)):nd(nt,n.stateNode));break;case 4:r=nt,s=an,nt=n.stateNode.containerInfo,an=!0,cr(e,t,n),nt=r,an=s;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Pf(n,t,i),s=s.next}while(s!==r)}cr(e,t,n);break;case 1:if(!ut&&(mo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,t,a)}cr(e,t,n);break;case 21:cr(e,t,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,cr(e,t,n),ut=r):cr(e,t,n);break;default:cr(e,t,n)}}function Og(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new VC),t.forEach(function(r){var s=tN.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,an=!1;break e;case 3:nt=a.stateNode.containerInfo,an=!0;break e;case 4:nt=a.stateNode.containerInfo,an=!0;break e}a=a.return}if(nt===null)throw Error(W(160));Fw(o,i,s),nt=null,an=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uw(t,e),t=t.sibling}function Uw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),yn(e),r&4){try{Gi(3,e,e.return),Vc(3,e)}catch(v){Ue(e,e.return,v)}try{Gi(5,e,e.return)}catch(v){Ue(e,e.return,v)}}break;case 1:Xt(t,e),yn(e),r&512&&n!==null&&mo(n,n.return);break;case 5:if(Xt(t,e),yn(e),r&512&&n!==null&&mo(n,n.return),e.flags&32){var s=e.stateNode;try{ra(s,"")}catch(v){Ue(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&l0(s,o),nf(a,i);var u=nf(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?h0(s,f):d==="dangerouslySetInnerHTML"?d0(s,f):d==="children"?ra(s,f):zh(s,d,f,u)}switch(a){case"input":Jd(s,o);break;case"textarea":c0(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?wo(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?wo(s,!!o.multiple,o.defaultValue,!0):wo(s,!!o.multiple,o.multiple?[]:"",!1))}s[fa]=o}catch(v){Ue(e,e.return,v)}}break;case 6:if(Xt(t,e),yn(e),r&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){Ue(e,e.return,v)}}break;case 3:if(Xt(t,e),yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{aa(t.containerInfo)}catch(v){Ue(e,e.return,v)}break;case 4:Xt(t,e),yn(e);break;case 13:Xt(t,e),yn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(bp=ze())),r&4&&Og(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ut=(u=ut)||d,Xt(t,e),ut=u):Xt(t,e),yn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(f=Y=d;Y!==null;){switch(m=Y,p=m.child,m.tag){case 0:case 11:case 14:case 15:Gi(4,m,m.return);break;case 1:mo(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){Ue(r,n,v)}}break;case 5:mo(m,m.return);break;case 22:if(m.memoizedState!==null){Dg(f);continue}}p!==null?(p.return=m,Y=p):Dg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=f0("display",i))}catch(v){Ue(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ue(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xt(t,e),yn(e),r&4&&Og(e);break;case 21:break;default:Xt(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($w(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ra(s,""),r.flags&=-33);var o=Rg(e);Rf(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Rg(e);If(e,a,i);break;default:throw Error(W(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GC(e,t,n){Y=e,Bw(e)}function Bw(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var s=Y,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||cl;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||ut;a=cl;var u=ut;if(cl=i,(ut=c)&&!u)for(Y=s;Y!==null;)i=Y,c=i.child,i.tag===22&&i.memoizedState!==null?Lg(s):c!==null?(c.return=i,Y=c):Lg(s);for(;o!==null;)Y=o,Bw(o),o=o.sibling;Y=s,cl=a,ut=u}Mg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Y=o):Mg(e)}}function Mg(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||Vc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ut)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&wg(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wg(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&aa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ut||t.flags&512&&Af(t)}catch(m){Ue(t,t.return,m)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Dg(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Lg(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vc(4,t)}catch(c){Ue(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ue(t,s,c)}}var o=t.return;try{Af(t)}catch(c){Ue(t,o,c)}break;case 5:var i=t.return;try{Af(t)}catch(c){Ue(t,i,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var KC=Math.ceil,uc=sr.ReactCurrentDispatcher,wp=sr.ReactCurrentOwner,Wt=sr.ReactCurrentBatchConfig,xe=0,tt=null,Ve=null,rt=0,At=0,go=Gr(0),Je=0,ya=null,js=0,qc=0,xp=0,Ki=null,Et=null,bp=0,Yo=1/0,Un=null,dc=!1,Of=null,Mr=null,ul=!1,jr=null,fc=0,Yi=0,Mf=null,Rl=-1,Ol=0;function xt(){return xe&6?ze():Rl!==-1?Rl:Rl=ze()}function Dr(e){return e.mode&1?xe&2&&rt!==0?rt&-rt:AC.transition!==null?(Ol===0&&(Ol=E0()),Ol):(e=Se,e!==0||(e=window.event,e=e===void 0?16:I0(e.type)),e):1}function dn(e,t,n,r){if(50<Yi)throw Yi=0,Mf=null,Error(W(185));Da(e,n,r),(!(xe&2)||e!==tt)&&(e===tt&&(!(xe&2)&&(qc|=n),Je===4&&wr(e,rt)),Pt(e,r),n===1&&xe===0&&!(t.mode&1)&&(Yo=ze()+500,zc&&Kr()))}function Pt(e,t){var n=e.callbackNode;AE(e,t);var r=Yl(e,e===tt?rt:0);if(r===0)n!==null&&qm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qm(n),t===1)e.tag===0?PC($g.bind(null,e)):J0($g.bind(null,e)),CC(function(){!(xe&6)&&Kr()}),n=null;else{switch(C0(r)){case 1:n=Gh;break;case 4:n=_0;break;case 16:n=Kl;break;case 536870912:n=k0;break;default:n=Kl}n=Yw(n,zw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zw(e,t){if(Rl=-1,Ol=0,xe&6)throw Error(W(327));var n=e.callbackNode;if(ko()&&e.callbackNode!==n)return null;var r=Yl(e,e===tt?rt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hc(e,r);else{t=r;var s=xe;xe|=2;var o=Ww();(tt!==e||rt!==t)&&(Un=null,Yo=ze()+500,Ss(e,t));do try{JC();break}catch(a){Hw(e,a)}while(!0);ip(),uc.current=o,xe=s,Ve!==null?t=0:(tt=null,rt=0,t=Je)}if(t!==0){if(t===2&&(s=lf(e),s!==0&&(r=s,t=Df(e,s))),t===1)throw n=ya,Ss(e,0),wr(e,r),Pt(e,ze()),n;if(t===6)wr(e,r);else{if(s=e.current.alternate,!(r&30)&&!YC(s)&&(t=hc(e,r),t===2&&(o=lf(e),o!==0&&(r=o,t=Df(e,o))),t===1))throw n=ya,Ss(e,0),wr(e,r),Pt(e,ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:rs(e,Et,Un);break;case 3:if(wr(e,r),(r&130023424)===r&&(t=bp+500-ze(),10<t)){if(Yl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){xt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=gf(rs.bind(null,e,Et,Un),t);break}rs(e,Et,Un);break;case 4:if(wr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-un(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KC(r/1960))-r,10<r){e.timeoutHandle=gf(rs.bind(null,e,Et,Un),r);break}rs(e,Et,Un);break;case 5:rs(e,Et,Un);break;default:throw Error(W(329))}}}return Pt(e,ze()),e.callbackNode===n?zw.bind(null,e):null}function Df(e,t){var n=Ki;return e.current.memoizedState.isDehydrated&&(Ss(e,t).flags|=256),e=hc(e,t),e!==2&&(t=Et,Et=n,t!==null&&Lf(t)),e}function Lf(e){Et===null?Et=e:Et.push.apply(Et,e)}function YC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!fn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wr(e,t){for(t&=~xp,t&=~qc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-un(t),r=1<<n;e[n]=-1,t&=~r}}function $g(e){if(xe&6)throw Error(W(327));ko();var t=Yl(e,0);if(!(t&1))return Pt(e,ze()),null;var n=hc(e,t);if(e.tag!==0&&n===2){var r=lf(e);r!==0&&(t=r,n=Df(e,r))}if(n===1)throw n=ya,Ss(e,0),wr(e,t),Pt(e,ze()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rs(e,Et,Un),Pt(e,ze()),null}function Sp(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(Yo=ze()+500,zc&&Kr())}}function Ts(e){jr!==null&&jr.tag===0&&!(xe&6)&&ko();var t=xe;xe|=1;var n=Wt.transition,r=Se;try{if(Wt.transition=null,Se=1,e)return e()}finally{Se=r,Wt.transition=n,xe=t,!(xe&6)&&Kr()}}function _p(){At=go.current,Pe(go)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,EC(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(rp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ec();break;case 3:Go(),Pe(jt),Pe(ft),fp();break;case 5:dp(r);break;case 4:Go();break;case 13:Pe(Oe);break;case 19:Pe(Oe);break;case 10:ap(r.type._context);break;case 22:case 23:_p()}n=n.return}if(tt=e,Ve=e=Lr(e.current,null),rt=At=t,Je=0,ya=null,xp=qc=js=0,Et=Ki=null,fs!==null){for(t=0;t<fs.length;t++)if(n=fs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}fs=null}return e}function Hw(e,t){do{var n=Ve;try{if(ip(),Pl.current=cc,lc){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lc=!1}if(Ns=0,et=Ye=Me=null,qi=!1,ma=0,wp.current=null,n===null||n.return===null){Je=1,ya=t,Ve=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=rt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Eg(i);if(p!==null){p.flags&=-257,Cg(p,i,a,o,t),p.mode&1&&kg(o,u,t),t=p,c=u;var b=t.updateQueue;if(b===null){var v=new Set;v.add(c),t.updateQueue=v}else b.add(c);break e}else{if(!(t&1)){kg(o,u,t),kp();break e}c=Error(W(426))}}else if(Re&&a.mode&1){var S=Eg(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Cg(S,i,a,o,t),sp(Ko(c,a));break e}}o=c=Ko(c,a),Je!==4&&(Je=2),Ki===null?Ki=[o]:Ki.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Cw(o,c,t);yg(o,w);break e;case 1:a=c;var y=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mr===null||!Mr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=Nw(o,a,t);yg(o,x);break e}}o=o.return}while(o!==null)}qw(n)}catch(_){t=_,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function Ww(){var e=uc.current;return uc.current=cc,e===null?cc:e}function kp(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||!(js&268435455)&&!(qc&268435455)||wr(tt,rt)}function hc(e,t){var n=xe;xe|=2;var r=Ww();(tt!==e||rt!==t)&&(Un=null,Ss(e,t));do try{QC();break}catch(s){Hw(e,s)}while(!0);if(ip(),xe=n,uc.current=r,Ve!==null)throw Error(W(261));return tt=null,rt=0,Je}function QC(){for(;Ve!==null;)Vw(Ve)}function JC(){for(;Ve!==null&&!SE();)Vw(Ve)}function Vw(e){var t=Kw(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?qw(e):Ve=t,wp.current=null}function qw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=WC(n,t),n!==null){n.flags&=32767,Ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Ve=null;return}}else if(n=HC(n,t,At),n!==null){Ve=n;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Je===0&&(Je=5)}function rs(e,t,n){var r=Se,s=Wt.transition;try{Wt.transition=null,Se=1,XC(e,t,n,r)}finally{Wt.transition=s,Se=r}return null}function XC(e,t,n,r){do ko();while(jr!==null);if(xe&6)throw Error(W(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(IE(e,o),e===tt&&(Ve=tt=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ul||(ul=!0,Yw(Kl,function(){return ko(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wt.transition,Wt.transition=null;var i=Se;Se=1;var a=xe;xe|=4,wp.current=null,qC(e,n),Uw(n,e),yC(pf),Ql=!!hf,pf=hf=null,e.current=n,GC(n),_E(),xe=a,Se=i,Wt.transition=o}else e.current=n;if(ul&&(ul=!1,jr=e,fc=s),o=e.pendingLanes,o===0&&(Mr=null),CE(n.stateNode),Pt(e,ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(dc)throw dc=!1,e=Of,Of=null,e;return fc&1&&e.tag!==0&&ko(),o=e.pendingLanes,o&1?e===Mf?Yi++:(Yi=0,Mf=e):Yi=0,Kr(),null}function ko(){if(jr!==null){var e=C0(fc),t=Wt.transition,n=Se;try{if(Wt.transition=null,Se=16>e?16:e,jr===null)var r=!1;else{if(e=jr,jr=null,fc=0,xe&6)throw Error(W(331));var s=xe;for(xe|=4,Y=e.current;Y!==null;){var o=Y,i=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Gi(8,d,o)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var m=d.sibling,p=d.return;if(Lw(d),d===u){Y=null;break}if(m!==null){m.return=p,Y=m;break}Y=p}}}var b=o.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}Y=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Y=i;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gi(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Y=w;break e}Y=o.return}}var y=e.current;for(Y=y;Y!==null;){i=Y;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,Y=g;else e:for(i=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vc(9,a)}}catch(_){Ue(a,a.return,_)}if(a===i){Y=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Y=x;break e}Y=a.return}}if(xe=s,Kr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Lc,e)}catch{}r=!0}return r}finally{Se=n,Wt.transition=t}}return!1}function Fg(e,t,n){t=Ko(n,t),t=Cw(e,t,1),e=Or(e,t,1),t=xt(),e!==null&&(Da(e,1,t),Pt(e,t))}function Ue(e,t,n){if(e.tag===3)Fg(e,e,n);else for(;t!==null;){if(t.tag===3){Fg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){e=Ko(n,e),e=Nw(t,e,1),t=Or(t,e,1),e=xt(),t!==null&&(Da(t,1,e),Pt(t,e));break}}t=t.return}}function ZC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(rt&n)===n&&(Je===4||Je===3&&(rt&130023424)===rt&&500>ze()-bp?Ss(e,0):xp|=n),Pt(e,t)}function Gw(e,t){t===0&&(e.mode&1?(t=el,el<<=1,!(el&130023424)&&(el=4194304)):t=1);var n=xt();e=Zn(e,t),e!==null&&(Da(e,t,n),Pt(e,n))}function eN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gw(e,n)}function tN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),Gw(e,n)}var Kw;Kw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)Nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nt=!1,zC(e,t,n);Nt=!!(e.flags&131072)}else Nt=!1,Re&&t.flags&1048576&&X0(t,rc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Il(e,t),e=t.pendingProps;var s=Wo(t,ft.current);_o(t,n),s=pp(null,t,r,e,s,n);var o=mp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tt(r)?(o=!0,tc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cp(t),s.updater=Wc,t.stateNode=s,s._reactInternals=t,_f(t,r,e,n),t=Cf(null,t,r,!0,o,n)):(t.tag=0,Re&&o&&np(t),yt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Il(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=rN(r),e=nn(r,e),s){case 0:t=Ef(null,t,r,e,n);break e;case 1:t=Tg(null,t,r,e,n);break e;case 11:t=Ng(null,t,r,e,n);break e;case 14:t=jg(null,t,r,nn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),Ef(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),Tg(e,t,r,s,n);case 3:e:{if(Aw(t),e===null)throw Error(W(387));r=t.pendingProps,o=t.memoizedState,s=o.element,sw(e,t),ic(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ko(Error(W(423)),t),t=Pg(e,t,r,n,s);break e}else if(r!==s){s=Ko(Error(W(424)),t),t=Pg(e,t,r,n,s);break e}else for(Rt=Rr(t.stateNode.containerInfo.firstChild),Ot=t,Re=!0,cn=null,n=nw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),r===s){t=er(e,t,n);break e}yt(e,t,r,n)}t=t.child}return t;case 5:return ow(t),e===null&&xf(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,mf(r,s)?i=null:o!==null&&mf(r,o)&&(t.flags|=32),Pw(e,t),yt(e,t,i,n),t.child;case 6:return e===null&&xf(t),null;case 13:return Iw(e,t,n);case 4:return up(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qo(t,null,r,n):yt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),Ng(e,t,r,s,n);case 7:return yt(e,t,t.pendingProps,n),t.child;case 8:return yt(e,t,t.pendingProps.children,n),t.child;case 12:return yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ce(sc,r._currentValue),r._currentValue=i,o!==null)if(fn(o.value,i)){if(o.children===s.children&&!jt.current){t=er(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Kn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),bf(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),bf(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}yt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,_o(t,n),s=qt(s),r=r(s),t.flags|=1,yt(e,t,r,n),t.child;case 14:return r=t.type,s=nn(r,t.pendingProps),s=nn(r.type,s),jg(e,t,r,s,n);case 15:return jw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nn(r,s),Il(e,t),t.tag=1,Tt(r)?(e=!0,tc(t)):e=!1,_o(t,n),Ew(t,r,s),_f(t,r,s,n),Cf(null,t,r,!0,e,n);case 19:return Rw(e,t,n);case 22:return Tw(e,t,n)}throw Error(W(156,t.tag))};function Yw(e,t){return S0(e,t)}function nN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new nN(e,t,n,r)}function Ep(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rN(e){if(typeof e=="function")return Ep(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wh)return 11;if(e===Vh)return 14}return 2}function Lr(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Ep(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case oo:return _s(n.children,s,o,t);case Hh:i=8,s|=8;break;case qd:return e=Ht(12,n,t,s|2),e.elementType=qd,e.lanes=o,e;case Gd:return e=Ht(13,n,t,s),e.elementType=Gd,e.lanes=o,e;case Kd:return e=Ht(19,n,t,s),e.elementType=Kd,e.lanes=o,e;case o0:return Gc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case r0:i=10;break e;case s0:i=9;break e;case Wh:i=11;break e;case Vh:i=14;break e;case gr:i=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Ht(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function _s(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function Gc(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=o0,e.lanes=n,e.stateNode={isHidden:!1},e}function ud(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function dd(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sN(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vu(0),this.expirationTimes=Vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cp(e,t,n,r,s,o,i,a,c){return e=new sN(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(o),e}function oN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qw(e){if(!e)return zr;e=e._reactInternals;e:{if($s(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Tt(n))return Q0(e,n,t)}return t}function Jw(e,t,n,r,s,o,i,a,c){return e=Cp(n,r,!0,e,s,o,i,a,c),e.context=Qw(null),n=e.current,r=xt(),s=Dr(n),o=Kn(r,s),o.callback=t??null,Or(n,o,s),e.current.lanes=s,Da(e,s,r),Pt(e,r),e}function Kc(e,t,n,r){var s=t.current,o=xt(),i=Dr(s);return n=Qw(n),t.context===null?t.context=n:t.pendingContext=n,t=Kn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Or(s,t,i),e!==null&&(dn(e,s,i,o),Tl(e,s,i)),i}function pc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Np(e,t){Ug(e,t),(e=e.alternate)&&Ug(e,t)}function iN(){return null}var Xw=typeof reportError=="function"?reportError:function(e){console.error(e)};function jp(e){this._internalRoot=e}Yc.prototype.render=jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Kc(e,t,null,null)};Yc.prototype.unmount=jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ts(function(){Kc(null,e,null,null)}),t[Xn]=null}};function Yc(e){this._internalRoot=e}Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=T0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yr.length&&t!==0&&t<yr[n].priority;n++);yr.splice(n,0,e),n===0&&A0(e)}};function Tp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bg(){}function aN(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=pc(i);o.call(u)}}var i=Jw(t,r,e,0,null,!1,!1,"",Bg);return e._reactRootContainer=i,e[Xn]=i.current,ua(e.nodeType===8?e.parentNode:e),Ts(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=pc(c);a.call(u)}}var c=Cp(e,0,!1,null,null,!1,!1,"",Bg);return e._reactRootContainer=c,e[Xn]=c.current,ua(e.nodeType===8?e.parentNode:e),Ts(function(){Kc(t,c,n,r)}),c}function Jc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=pc(i);a.call(c)}}Kc(t,i,e,s)}else i=aN(n,t,e,s,r);return pc(i)}N0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Oi(t.pendingLanes);n!==0&&(Kh(t,n|1),Pt(t,ze()),!(xe&6)&&(Yo=ze()+500,Kr()))}break;case 13:Ts(function(){var r=Zn(e,1);if(r!==null){var s=xt();dn(r,e,1,s)}}),Np(e,1)}};Yh=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var n=xt();dn(t,e,134217728,n)}Np(e,134217728)}};j0=function(e){if(e.tag===13){var t=Dr(e),n=Zn(e,t);if(n!==null){var r=xt();dn(n,e,t,r)}Np(e,t)}};T0=function(){return Se};P0=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};sf=function(e,t,n){switch(t){case"input":if(Jd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Bc(r);if(!s)throw Error(W(90));a0(r),Jd(r,s)}}}break;case"textarea":c0(e,n);break;case"select":t=n.value,t!=null&&wo(e,!!n.multiple,t,!1)}};g0=Sp;v0=Ts;var lN={usingClientEntryPoint:!1,Events:[$a,co,Bc,p0,m0,Sp]},Ci={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cN={bundleType:Ci.bundleType,version:Ci.version,rendererPackageName:Ci.rendererPackageName,rendererConfig:Ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=x0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ci.findFiberByHostInstance||iN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Lc=dl.inject(cN),Pn=dl}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lN;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tp(t))throw Error(W(200));return oN(e,t,null,n)};Lt.createRoot=function(e,t){if(!Tp(e))throw Error(W(299));var n=!1,r="",s=Xw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cp(e,1,!1,null,null,n,!1,r,s),e[Xn]=t.current,ua(e.nodeType===8?e.parentNode:e),new jp(t)};Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=x0(t),e=e===null?null:e.stateNode,e};Lt.flushSync=function(e){return Ts(e)};Lt.hydrate=function(e,t,n){if(!Qc(t))throw Error(W(200));return Jc(null,e,t,!0,n)};Lt.hydrateRoot=function(e,t,n){if(!Tp(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Xw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Jw(t,null,e,1,n??null,s,!1,o,i),e[Xn]=t.current,ua(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)};Lt.render=function(e,t,n){if(!Qc(t))throw Error(W(200));return Jc(null,e,t,!1,n)};Lt.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(W(40));return e._reactRootContainer?(Ts(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[Xn]=null})}),!0):!1};Lt.unstable_batchedUpdates=Sp;Lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Jc(e,t,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function Zw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zw)}catch(e){console.error(e)}}Zw(),Zy.exports=Lt;var Fs=Zy.exports;const ex=By(Fs);var tx,zg=Fs;tx=zg.createRoot,zg.hydrateRoot;var mc=["light","dark"],Pp="(prefers-color-scheme: dark)",uN=typeof window>"u",Ap=h.createContext(void 0),dN={setTheme:e=>{},themes:[]},nx=()=>{var e;return(e=h.useContext(Ap))!=null?e:dN},fN=e=>h.useContext(Ap)?e.children:h.createElement(pN,{...e}),hN=["light","dark"],pN=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=hN,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:c,children:u,nonce:d})=>{let[f,m]=h.useState(()=>Hg(s,i)),[p,b]=h.useState(()=>Hg(s)),v=c?Object.values(c):o,S=h.useCallback(x=>{let _=x;if(!_)return;x==="system"&&n&&(_=Wg());let E=c?c[_]:_,j=t?gN():null,k=document.documentElement;if(a==="class"?(k.classList.remove(...v),E&&k.classList.add(E)):E?k.setAttribute(a,E):k.removeAttribute(a),r){let N=mc.includes(i)?i:null,T=mc.includes(_)?_:N;k.style.colorScheme=T}j==null||j()},[]),w=h.useCallback(x=>{let _=typeof x=="function"?x(x):x;m(_);try{localStorage.setItem(s,_)}catch{}},[e]),y=h.useCallback(x=>{let _=Wg(x);b(_),f==="system"&&n&&!e&&S("system")},[f,e]);h.useEffect(()=>{let x=window.matchMedia(Pp);return x.addListener(y),y(x),()=>x.removeListener(y)},[y]),h.useEffect(()=>{let x=_=>{if(_.key!==s)return;let E=_.newValue||i;w(E)};return window.addEventListener("storage",x),()=>window.removeEventListener("storage",x)},[w]),h.useEffect(()=>{S(e??f)},[e,f]);let g=h.useMemo(()=>({theme:f,setTheme:w,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:n?[...o,"system"]:o,systemTheme:n?p:void 0}),[f,w,e,p,n,o]);return h.createElement(Ap.Provider,{value:g},h.createElement(mN,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:o,defaultTheme:i,attribute:a,value:c,children:u,attrs:v,nonce:d}),u)},mN=h.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?mc.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,v=!1,S=!0)=>{let w=i?i[b]:b,y=v?b+"|| ''":`'${w}'`,g="";return s&&S&&!v&&mc.includes(b)&&(g+=`d.style.colorScheme = '${b}';`),n==="class"?v||w?g+=`c.add(${y})`:g+="null":w&&(g+=`d[s](n,${y})`),g},p=e?`!function(){${d}${m(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Pp}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),Hg=(e,t)=>{if(uN)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},gN=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Wg=e=>(e||(e=window.matchMedia(Pp)),e.matches?"dark":"light");const vN=1,yN=1e6;let fd=0;function wN(){return fd=(fd+1)%Number.MAX_SAFE_INTEGER,fd.toString()}const hd=new Map,Vg=e=>{if(hd.has(e))return;const t=setTimeout(()=>{hd.delete(e),Qi({type:"REMOVE_TOAST",toastId:e})},yN);hd.set(e,t)},xN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Vg(n):e.toasts.forEach(r=>{Vg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Dl=[];let Ll={toasts:[]};function Qi(e){Ll=xN(Ll,e),Dl.forEach(t=>{t(Ll)})}function bN({...e}){const t=wN(),n=s=>Qi({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Qi({type:"DISMISS_TOAST",toastId:t});return Qi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Xc(){const[e,t]=h.useState(Ll);return h.useEffect(()=>(Dl.push(t),()=>{const n=Dl.indexOf(t);n>-1&&Dl.splice(n,1)}),[e]),{...e,toast:bN,dismiss:n=>Qi({type:"DISMISS_TOAST",toastId:n})}}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function qg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rx(...e){return t=>{let n=!1;const r=e.map(s=>{const o=qg(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():qg(e[s],null)}}}}function ye(...e){return h.useCallback(rx(...e),e)}function SN(e,t){const n=h.createContext(t),r=o=>{const{children:i,...a}=o,c=h.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function mn(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),c=n.length;n=[...n,i];const u=f=>{var w;const{scope:m,children:p,...b}=f,v=((w=m==null?void 0:m[e])==null?void 0:w[c])||a,S=h.useMemo(()=>b,Object.values(b));return l.jsx(v.Provider,{value:S,children:p})};u.displayName=o+"Provider";function d(f,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[c])||a,b=h.useContext(p);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,_N(s,...t)]}function _N(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Qo(e){const t=EN(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,a=h.Children.toArray(o),c=a.find(NN);if(c){const u=c.props.children,d=a.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var kN=Qo("Slot");function EN(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=TN(s),a=jN(o,s.props);return s.type!==h.Fragment&&(a.ref=r?rx(r,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sx=Symbol("radix.slottable");function CN(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=sx,t}function NN(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sx}function jN(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function TN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ox(e){const t=e+"CollectionProvider",[n,r]=mn(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:S,children:w}=v,y=V.useRef(null),g=V.useRef(new Map).current;return l.jsx(s,{scope:S,itemMap:g,collectionRef:y,children:w})};i.displayName=t;const a=e+"CollectionSlot",c=Qo(a),u=V.forwardRef((v,S)=>{const{scope:w,children:y}=v,g=o(a,w),x=ye(S,g.collectionRef);return l.jsx(c,{ref:x,children:y})});u.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Qo(d),p=V.forwardRef((v,S)=>{const{scope:w,children:y,...g}=v,x=V.useRef(null),_=ye(S,x),E=o(d,w);return V.useEffect(()=>(E.itemMap.set(x,{ref:x,...g}),()=>void E.itemMap.delete(x))),l.jsx(m,{[f]:"",ref:_,children:y})});p.displayName=d;function b(v){const S=o(e+"CollectionConsumer",v);return V.useCallback(()=>{const y=S.collectionRef.current;if(!y)return[];const g=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((E,j)=>g.indexOf(E.ref.current)-g.indexOf(j.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},b,r]}var PN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ne=PN.reduce((e,t)=>{const n=Qo(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ix(e,t){e&&Fs.flushSync(()=>e.dispatchEvent(t))}function Qe(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function AN(e,t=globalThis==null?void 0:globalThis.document){const n=Qe(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var IN="DismissableLayer",$f="dismissableLayer.update",RN="dismissableLayer.pointerDownOutside",ON="dismissableLayer.focusOutside",Gg,ax=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ua=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=h.useContext(ax),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),b=ye(t,j=>f(j)),v=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(S),y=d?v.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,x=y>=w,_=DN(j=>{const k=j.target,N=[...u.branches].some(T=>T.contains(k));!x||N||(s==null||s(j),i==null||i(j),j.defaultPrevented||a==null||a())},m),E=LN(j=>{const k=j.target;[...u.branches].some(T=>T.contains(k))||(o==null||o(j),i==null||i(j),j.defaultPrevented||a==null||a())},m);return AN(j=>{y===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},m),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Kg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Gg)}},[d,m,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Kg())},[d,u]),h.useEffect(()=>{const j=()=>p({});return document.addEventListener($f,j),()=>document.removeEventListener($f,j)},[]),l.jsx(ne.div,{...c,ref:b,style:{pointerEvents:g?x?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,E.onFocusCapture),onBlurCapture:te(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,_.onPointerDownCapture)})});Ua.displayName=IN;var MN="DismissableLayerBranch",lx=h.forwardRef((e,t)=>{const n=h.useContext(ax),r=h.useRef(null),s=ye(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(ne.div,{...e,ref:s})});lx.displayName=MN;function DN(e,t=globalThis==null?void 0:globalThis.document){const n=Qe(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){cx(RN,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function LN(e,t=globalThis==null?void 0:globalThis.document){const n=Qe(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&cx(ON,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Kg(){const e=new CustomEvent($f);document.dispatchEvent(e)}function cx(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ix(s,o):s.dispatchEvent(o)}var $N=Ua,FN=lx,He=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},UN="Portal",Zc=h.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=h.useState(!1);He(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?ex.createPortal(l.jsx(ne.div,{...r,ref:t}),i):null});Zc.displayName=UN;function BN(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var gn=e=>{const{present:t,children:n}=e,r=zN(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=ye(r.ref,HN(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};gn.displayName="Presence";function zN(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,c]=BN(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=fl(r.current);o.current=a==="mounted"?u:"none"},[a]),He(()=>{const u=r.current,d=s.current;if(d!==e){const m=o.current,p=fl(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),He(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const v=fl(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},m=p=>{p.target===t&&(o.current=fl(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function fl(e){return(e==null?void 0:e.animationName)||"none"}function HN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var WN=Fh[" useInsertionEffect ".trim().toString()]||He;function Jo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=VN({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=h.useCallback(d=>{var f;if(a){const m=qN(d)?d(e):d;m!==e&&((f=i.current)==null||f.call(i,m))}else o(d)},[a,e,o,i]);return[c,u]}function VN({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),o=h.useRef(t);return WN(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function qN(e){return typeof e=="function"}var ux=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GN="VisuallyHidden",eu=h.forwardRef((e,t)=>l.jsx(ne.span,{...e,ref:t,style:{...ux,...e.style}}));eu.displayName=GN;var KN=eu,Ip="ToastProvider",[Rp,YN,QN]=ox("Toast"),[dx]=mn("Toast",[QN]),[JN,tu]=dx(Ip),fx=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),m=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ip}\`. Expected non-empty \`string\`.`),l.jsx(Rp.Provider,{scope:t,children:l.jsx(JN,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};fx.displayName=Ip;var hx="ToastViewport",XN=["F8"],Ff="toast.viewportPause",Uf="toast.viewportResume",px=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=XN,label:s="Notifications ({hotkey})",...o}=e,i=tu(hx,n),a=YN(n),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=ye(t,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;h.useEffect(()=>{const S=w=>{var g;r.length!==0&&r.every(x=>w[x]||w.code===x)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),h.useEffect(()=>{const S=c.current,w=f.current;if(b&&S&&w){const y=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(Ff);w.dispatchEvent(E),i.isClosePausedRef.current=!0}},g=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Uf);w.dispatchEvent(E),i.isClosePausedRef.current=!1}},x=E=>{!S.contains(E.relatedTarget)&&g()},_=()=>{S.contains(document.activeElement)||g()};return S.addEventListener("focusin",y),S.addEventListener("focusout",x),S.addEventListener("pointermove",y),S.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",g),()=>{S.removeEventListener("focusin",y),S.removeEventListener("focusout",x),S.removeEventListener("pointermove",y),S.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",g)}}},[b,i.isClosePausedRef]);const v=h.useCallback(({tabbingDirection:S})=>{const y=a().map(g=>{const x=g.ref.current,_=[x,...dj(x)];return S==="forwards"?_:_.reverse()});return(S==="forwards"?y.reverse():y).flat()},[a]);return h.useEffect(()=>{const S=f.current;if(S){const w=y=>{var _,E,j;const g=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!g){const k=document.activeElement,N=y.shiftKey;if(y.target===S&&N){(_=u.current)==null||_.focus();return}const I=v({tabbingDirection:N?"backwards":"forwards"}),U=I.findIndex(O=>O===k);pd(I.slice(U+1))?y.preventDefault():N?(E=u.current)==null||E.focus():(j=d.current)==null||j.focus()}};return S.addEventListener("keydown",w),()=>S.removeEventListener("keydown",w)}},[a,v]),l.jsxs(FN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(Bf,{ref:u,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"forwards"});pd(S)}}),l.jsx(Rp.Slot,{scope:n,children:l.jsx(ne.ol,{tabIndex:-1,...o,ref:m})}),b&&l.jsx(Bf,{ref:d,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"backwards"});pd(S)}})]})});px.displayName=hx;var mx="ToastFocusProxy",Bf=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=tu(mx,n);return l.jsx(eu,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});Bf.displayName=mx;var Ba="Toast",ZN="toast.swipeStart",ej="toast.swipeMove",tj="toast.swipeCancel",nj="toast.swipeEnd",gx=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[a,c]=Jo({prop:r,defaultProp:s??!0,onChange:o,caller:Ba});return l.jsx(gn,{present:n||a,children:l.jsx(oj,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:Qe(e.onPause),onResume:Qe(e.onResume),onSwipeStart:te(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:te(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:te(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:te(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});gx.displayName=Ba;var[rj,sj]=dx(Ba,{onClose(){}}),oj=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...b}=e,v=tu(Ba,n),[S,w]=h.useState(null),y=ye(t,O=>w(O)),g=h.useRef(null),x=h.useRef(null),_=s||v.duration,E=h.useRef(0),j=h.useRef(_),k=h.useRef(0),{onToastAdd:N,onToastRemove:T}=v,R=Qe(()=>{var K;(S==null?void 0:S.contains(document.activeElement))&&((K=v.viewport)==null||K.focus()),i()}),I=h.useCallback(O=>{!O||O===1/0||(window.clearTimeout(k.current),E.current=new Date().getTime(),k.current=window.setTimeout(R,O))},[R]);h.useEffect(()=>{const O=v.viewport;if(O){const K=()=>{I(j.current),u==null||u()},M=()=>{const B=new Date().getTime()-E.current;j.current=j.current-B,window.clearTimeout(k.current),c==null||c()};return O.addEventListener(Ff,M),O.addEventListener(Uf,K),()=>{O.removeEventListener(Ff,M),O.removeEventListener(Uf,K)}}},[v.viewport,_,c,u,I]),h.useEffect(()=>{o&&!v.isClosePausedRef.current&&I(_)},[o,_,v.isClosePausedRef,I]),h.useEffect(()=>(N(),()=>T()),[N,T]);const U=h.useMemo(()=>S?_x(S):null,[S]);return v.viewport?l.jsxs(l.Fragment,{children:[U&&l.jsx(ij,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:U}),l.jsx(rj,{scope:n,onClose:R,children:Fs.createPortal(l.jsx(Rp.ItemSlot,{scope:n,children:l.jsx($N,{asChild:!0,onEscapeKeyDown:te(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||R(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ne.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:te(e.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:te(e.onPointerDown,O=>{O.button===0&&(g.current={x:O.clientX,y:O.clientY})}),onPointerMove:te(e.onPointerMove,O=>{if(!g.current)return;const K=O.clientX-g.current.x,M=O.clientY-g.current.y,B=!!x.current,A=["left","right"].includes(v.swipeDirection),C=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,P=A?C(0,K):0,$=A?0:C(0,M),L=O.pointerType==="touch"?10:2,F={x:P,y:$},G={originalEvent:O,delta:F};B?(x.current=F,hl(ej,f,G,{discrete:!1})):Yg(F,v.swipeDirection,L)?(x.current=F,hl(ZN,d,G,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(K)>L||Math.abs(M)>L)&&(g.current=null)}),onPointerUp:te(e.onPointerUp,O=>{const K=x.current,M=O.target;if(M.hasPointerCapture(O.pointerId)&&M.releasePointerCapture(O.pointerId),x.current=null,g.current=null,K){const B=O.currentTarget,A={originalEvent:O,delta:K};Yg(K,v.swipeDirection,v.swipeThreshold)?hl(nj,p,A,{discrete:!0}):hl(tj,m,A,{discrete:!0}),B.addEventListener("click",C=>C.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),ij=e=>{const{__scopeToast:t,children:n,...r}=e,s=tu(Ba,t),[o,i]=h.useState(!1),[a,c]=h.useState(!1);return cj(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Zc,{asChild:!0,children:l.jsx(eu,{...r,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},aj="ToastTitle",vx=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ne.div,{...r,ref:t})});vx.displayName=aj;var lj="ToastDescription",yx=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ne.div,{...r,ref:t})});yx.displayName=lj;var wx="ToastAction",xx=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(Sx,{altText:n,asChild:!0,children:l.jsx(Op,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${wx}\`. Expected non-empty \`string\`.`),null)});xx.displayName=wx;var bx="ToastClose",Op=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=sj(bx,n);return l.jsx(Sx,{asChild:!0,children:l.jsx(ne.button,{type:"button",...r,ref:t,onClick:te(e.onClick,s.onClose)})})});Op.displayName=bx;var Sx=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function _x(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),uj(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(..._x(r))}}),t}function hl(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ix(s,o):s.dispatchEvent(o)}var Yg=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function cj(e=()=>{}){const t=Qe(e);He(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function uj(e){return e.nodeType===e.ELEMENT_NODE}function dj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function pd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var fj=fx,kx=px,Ex=gx,Cx=vx,Nx=yx,jx=xx,Tx=Op;function Px(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Px(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ax(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Px(e))&&(r&&(r+=" "),r+=t);return r}const Qg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Jg=Ax,nu=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Jg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const m=Qg(d)||Qg(f);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(b=>{let[v,S]=b;return Array.isArray(S)?S.includes({...o,...a}[v]):{...o,...a}[v]===S})?[...u,f,m]:u},[]);return Jg(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ix=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>h.createElement("svg",{ref:c,...pj,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ix("lucide",s),...a},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const n=h.forwardRef(({className:r,...s},o)=>h.createElement(mj,{ref:o,iconNode:t,className:Ix(`lucide-${hj(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=oe("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=oe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=oe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=oe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=oe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Lp="-",Lj=e=>{const t=Fj(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Lp);return a[0]===""&&a.length!==1&&a.shift(),Hx(a,t)||$j(i)},getConflictingClassGroupIds:(i,a)=>{const c=n[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},Hx=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Hx(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Lp);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},nv=/^\[(.+)\]$/,$j=e=>{if(nv.test(e)){const t=nv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Fj=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Bj(Object.entries(e.classGroups),n).forEach(([o,i])=>{zf(i,r,o,t)}),r},zf=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:rv(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(Uj(s)){zf(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{zf(i,rv(t,o),n,r)})})},rv=(e,t)=>{let n=e;return t.split(Lp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Uj=e=>e.isThemeGetter,Bj=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,zj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},Wx="!",Hj=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,f;for(let S=0;S<a.length;S++){let w=a[S];if(u===0){if(w===s&&(r||a.slice(S,S+o)===t)){c.push(a.slice(d,S)),d=S+o;continue}if(w==="/"){f=S;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?a:a.substring(d),p=m.startsWith(Wx),b=p?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:i}):i},Wj=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Vj=e=>({cache:zj(e.cacheSize),parseClassName:Hj(e),...Lj(e)}),qj=/\s+/,Gj=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(qj);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let b=!!p,v=r(b?m.substring(0,p):m);if(!v){if(!b){a=u+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=u+(a.length>0?" "+a:a);continue}b=!1}const S=Wj(d).join(":"),w=f?S+Wx:S,y=w+v;if(o.includes(y))continue;o.push(y);const g=s(v,b);for(let x=0;x<g.length;++x){const _=g[x];o.push(w+_)}a=u+(a.length>0?" "+a:a)}return a};function Kj(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Vx(t))&&(r&&(r+=" "),r+=n);return r}const Vx=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Vx(e[r]))&&(n&&(n+=" "),n+=t);return n};function Yj(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=Vj(u),r=n.cache.get,s=n.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=Gj(c,n);return s(c,d),d}return function(){return o(Kj.apply(null,arguments))}}const Ne=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},qx=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qj=/^\d+\/\d+$/,Jj=new Set(["px","full","screen"]),Xj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dn=e=>Eo(e)||Jj.has(e)||Qj.test(e),ur=e=>ci(e,"length",uT),Eo=e=>!!e&&!Number.isNaN(Number(e)),md=e=>ci(e,"number",Eo),Ni=e=>!!e&&Number.isInteger(Number(e)),rT=e=>e.endsWith("%")&&Eo(e.slice(0,-1)),ue=e=>qx.test(e),dr=e=>Xj.test(e),sT=new Set(["length","size","percentage"]),oT=e=>ci(e,sT,Gx),iT=e=>ci(e,"position",Gx),aT=new Set(["image","url"]),lT=e=>ci(e,aT,fT),cT=e=>ci(e,"",dT),ji=()=>!0,ci=(e,t,n)=>{const r=qx.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},uT=e=>Zj.test(e)&&!eT.test(e),Gx=()=>!1,dT=e=>tT.test(e),fT=e=>nT.test(e),hT=()=>{const e=Ne("colors"),t=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),s=Ne("borderColor"),o=Ne("borderRadius"),i=Ne("borderSpacing"),a=Ne("borderWidth"),c=Ne("contrast"),u=Ne("grayscale"),d=Ne("hueRotate"),f=Ne("invert"),m=Ne("gap"),p=Ne("gradientColorStops"),b=Ne("gradientColorStopPositions"),v=Ne("inset"),S=Ne("margin"),w=Ne("opacity"),y=Ne("padding"),g=Ne("saturate"),x=Ne("scale"),_=Ne("sepia"),E=Ne("skew"),j=Ne("space"),k=Ne("translate"),N=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",ue,t],I=()=>[ue,t],U=()=>["",Dn,ur],O=()=>["auto",Eo,ue],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],C=()=>["","0",ue],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Eo,ue];return{cacheSize:500,separator:":",theme:{colors:[ji],spacing:[Dn,ur],blur:["none","",dr,ue],brightness:$(),borderColor:[e],borderRadius:["none","","full",dr,ue],borderSpacing:I(),borderWidth:U(),contrast:$(),grayscale:C(),hueRotate:$(),invert:C(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[rT,ur],inset:R(),margin:R(),opacity:$(),padding:I(),saturate:$(),scale:$(),sepia:C(),skew:$(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[dr]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),ue]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ni,ue]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",Ni,ue]}],"grid-cols":[{"grid-cols":[ji]}],"col-start-end":[{col:["auto",{span:["full",Ni,ue]},ue]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[ji]}],"row-start-end":[{row:["auto",{span:[Ni,ue]},ue]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,t]}],"min-w":[{"min-w":[ue,t,"min","max","fit"]}],"max-w":[{"max-w":[ue,t,"none","full","min","max","fit","prose",{screen:[dr]},dr]}],h:[{h:[ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",dr,ur]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",md]}],"font-family":[{font:[ji]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Eo,md]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dn,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dn,ur]}],"underline-offset":[{"underline-offset":["auto",Dn,ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),iT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Dn,ue]}],"outline-w":[{outline:[Dn,ur]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Dn,ur]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",dr,cT]}],"shadow-color":[{shadow:[ji]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",dr,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[Ni,ue]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dn,ur,md]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pT=Yj(hT);function de(...e){return pT(Ax(e))}const mT=fj,Kx=h.forwardRef(({className:e,...t},n)=>l.jsx(kx,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Kx.displayName=kx.displayName;const gT=nu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Yx=h.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(Ex,{ref:r,className:de(gT({variant:t}),e),...n}));Yx.displayName=Ex.displayName;const vT=h.forwardRef(({className:e,...t},n)=>l.jsx(jx,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vT.displayName=jx.displayName;const Qx=h.forwardRef(({className:e,...t},n)=>l.jsx(Tx,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(li,{className:"h-4 w-4"})}));Qx.displayName=Tx.displayName;const Jx=h.forwardRef(({className:e,...t},n)=>l.jsx(Cx,{ref:n,className:de("text-sm font-semibold",e),...t}));Jx.displayName=Cx.displayName;const Xx=h.forwardRef(({className:e,...t},n)=>l.jsx(Nx,{ref:n,className:de("text-sm opacity-90",e),...t}));Xx.displayName=Nx.displayName;function yT(){const{toasts:e}=Xc();return l.jsxs(mT,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return l.jsxs(Yx,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(Jx,{children:n}),r&&l.jsx(Xx,{children:r})]}),s,l.jsx(Qx,{})]},t)}),l.jsx(Kx,{})]})}var wT=e=>{switch(e){case"success":return ST;case"info":return kT;case"warning":return _T;case"error":return ET;default:return null}},xT=Array(12).fill(0),bT=({visible:e,className:t})=>V.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},V.createElement("div",{className:"sonner-spinner"},xT.map((n,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ST=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_T=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ET=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),NT=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Hf=1,jT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Hf++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,i=r.then(async c=>{if(o=["resolve",c],V.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(PT(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),a=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Hf++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},kt=new jT,TT=(e,t)=>{let n=(t==null?void 0:t.id)||Hf++;return kt.addToast({title:e,...t,id:n}),n},PT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",AT=TT,IT=()=>kt.toasts,RT=()=>kt.getActiveToasts(),X=Object.assign(AT,{success:kt.success,info:kt.info,warning:kt.warning,error:kt.error,custom:kt.custom,message:kt.message,promise:kt.promise,dismiss:kt.dismiss,loading:kt.loading},{getHistory:IT,getToasts:RT});function OT(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}OT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pl(e){return e.label!==void 0}var MT=3,DT="32px",LT="16px",sv=4e3,$T=356,FT=14,UT=20,BT=200;function Zt(...e){return e.filter(Boolean).join(" ")}function zT(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var HT=e=>{var t,n,r,s,o,i,a,c,u,d,f;let{invert:m,toast:p,unstyled:b,interacting:v,setHeights:S,visibleToasts:w,heights:y,index:g,toasts:x,expanded:_,removeToast:E,defaultRichColors:j,closeButton:k,style:N,cancelButtonStyle:T,actionButtonStyle:R,className:I="",descriptionClassName:U="",duration:O,position:K,gap:M,loadingIcon:B,expandByDefault:A,classNames:C,icons:P,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:L}=e,[F,G]=V.useState(null),[ee,Q]=V.useState(null),[z,fe]=V.useState(!1),[be,he]=V.useState(!1),[ce,re]=V.useState(!1),[Le,ht]=V.useState(!1),[H,J]=V.useState(!1),[Z,ge]=V.useState(0),[qe,ot]=V.useState(0),Ae=V.useRef(p.duration||O||sv),pt=V.useRef(null),mt=V.useRef(null),Jr=g===0,Xr=g+1<=w,_t=p.type,zs=p.dismissible!==!1,jk=p.className||"",Tk=p.descriptionClassName||"",Ga=V.useMemo(()=>y.findIndex(ie=>ie.toastId===p.id)||0,[y,p.id]),Pk=V.useMemo(()=>{var ie;return(ie=p.closeButton)!=null?ie:k},[p.closeButton,k]),Tm=V.useMemo(()=>p.duration||O||sv,[p.duration,O]),Lu=V.useRef(0),Hs=V.useRef(0),Pm=V.useRef(0),Ws=V.useRef(null),[Ak,Ik]=K.split("-"),Am=V.useMemo(()=>y.reduce((ie,_e,Ie)=>Ie>=Ga?ie:ie+_e.height,0),[y,Ga]),Im=NT(),Rk=p.invert||m,$u=_t==="loading";Hs.current=V.useMemo(()=>Ga*M+Am,[Ga,Am]),V.useEffect(()=>{Ae.current=Tm},[Tm]),V.useEffect(()=>{fe(!0)},[]),V.useEffect(()=>{let ie=mt.current;if(ie){let _e=ie.getBoundingClientRect().height;return ot(_e),S(Ie=>[{toastId:p.id,height:_e,position:p.position},...Ie]),()=>S(Ie=>Ie.filter(Yt=>Yt.toastId!==p.id))}},[S,p.id]),V.useLayoutEffect(()=>{if(!z)return;let ie=mt.current,_e=ie.style.height;ie.style.height="auto";let Ie=ie.getBoundingClientRect().height;ie.style.height=_e,ot(Ie),S(Yt=>Yt.find(Qt=>Qt.toastId===p.id)?Yt.map(Qt=>Qt.toastId===p.id?{...Qt,height:Ie}:Qt):[{toastId:p.id,height:Ie,position:p.position},...Yt])},[z,p.title,p.description,S,p.id]);let ir=V.useCallback(()=>{he(!0),ge(Hs.current),S(ie=>ie.filter(_e=>_e.toastId!==p.id)),setTimeout(()=>{E(p)},BT)},[p,E,S,Hs]);V.useEffect(()=>{if(p.promise&&_t==="loading"||p.duration===1/0||p.type==="loading")return;let ie;return _||v||L&&Im?(()=>{if(Pm.current<Lu.current){let _e=new Date().getTime()-Lu.current;Ae.current=Ae.current-_e}Pm.current=new Date().getTime()})():Ae.current!==1/0&&(Lu.current=new Date().getTime(),ie=setTimeout(()=>{var _e;(_e=p.onAutoClose)==null||_e.call(p,p),ir()},Ae.current)),()=>clearTimeout(ie)},[_,v,p,_t,L,Im,ir]),V.useEffect(()=>{p.delete&&ir()},[ir,p.delete]);function Ok(){var ie,_e,Ie;return P!=null&&P.loading?V.createElement("div",{className:Zt(C==null?void 0:C.loader,(ie=p==null?void 0:p.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":_t==="loading"},P.loading):B?V.createElement("div",{className:Zt(C==null?void 0:C.loader,(_e=p==null?void 0:p.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":_t==="loading"},B):V.createElement(bT,{className:Zt(C==null?void 0:C.loader,(Ie=p==null?void 0:p.classNames)==null?void 0:Ie.loader),visible:_t==="loading"})}return V.createElement("li",{tabIndex:0,ref:mt,className:Zt(I,jk,C==null?void 0:C.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,C==null?void 0:C.default,C==null?void 0:C[_t],(n=p==null?void 0:p.classNames)==null?void 0:n[_t]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:j,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":z,"data-promise":!!p.promise,"data-swiped":H,"data-removed":be,"data-visible":Xr,"data-y-position":Ak,"data-x-position":Ik,"data-index":g,"data-front":Jr,"data-swiping":ce,"data-dismissible":zs,"data-type":_t,"data-invert":Rk,"data-swipe-out":Le,"data-swipe-direction":ee,"data-expanded":!!(_||A&&z),style:{"--index":g,"--toasts-before":g,"--z-index":x.length-g,"--offset":`${be?Z:Hs.current}px`,"--initial-height":A?"auto":`${qe}px`,...N,...p.style},onDragEnd:()=>{re(!1),G(null),Ws.current=null},onPointerDown:ie=>{$u||!zs||(pt.current=new Date,ge(Hs.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(re(!0),Ws.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,_e,Ie,Yt;if(Le||!zs)return;Ws.current=null;let Qt=Number(((ie=mt.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ar=Number(((_e=mt.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Zr=new Date().getTime()-((Ie=pt.current)==null?void 0:Ie.getTime()),Jt=F==="x"?Qt:ar,lr=Math.abs(Jt)/Zr;if(Math.abs(Jt)>=UT||lr>.11){ge(Hs.current),(Yt=p.onDismiss)==null||Yt.call(p,p),Q(F==="x"?Qt>0?"right":"left":ar>0?"down":"up"),ir(),ht(!0),J(!1);return}re(!1),G(null)},onPointerMove:ie=>{var _e,Ie,Yt,Qt;if(!Ws.current||!zs||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let ar=ie.clientY-Ws.current.y,Zr=ie.clientX-Ws.current.x,Jt=(Ie=e.swipeDirections)!=null?Ie:zT(K);!F&&(Math.abs(Zr)>1||Math.abs(ar)>1)&&G(Math.abs(Zr)>Math.abs(ar)?"x":"y");let lr={x:0,y:0};F==="y"?(Jt.includes("top")||Jt.includes("bottom"))&&(Jt.includes("top")&&ar<0||Jt.includes("bottom")&&ar>0)&&(lr.y=ar):F==="x"&&(Jt.includes("left")||Jt.includes("right"))&&(Jt.includes("left")&&Zr<0||Jt.includes("right")&&Zr>0)&&(lr.x=Zr),(Math.abs(lr.x)>0||Math.abs(lr.y)>0)&&J(!0),(Yt=mt.current)==null||Yt.style.setProperty("--swipe-amount-x",`${lr.x}px`),(Qt=mt.current)==null||Qt.style.setProperty("--swipe-amount-y",`${lr.y}px`)}},Pk&&!p.jsx?V.createElement("button",{"aria-label":$,"data-disabled":$u,"data-close-button":!0,onClick:$u||!zs?()=>{}:()=>{var ie;ir(),(ie=p.onDismiss)==null||ie.call(p,p)},className:Zt(C==null?void 0:C.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=P==null?void 0:P.close)!=null?o:CT):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:V.createElement(V.Fragment,null,_t||p.icon||p.promise?V.createElement("div",{"data-icon":"",className:Zt(C==null?void 0:C.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ok():null,p.type!=="loading"?p.icon||(P==null?void 0:P[_t])||wT(_t):null):null,V.createElement("div",{"data-content":"",className:Zt(C==null?void 0:C.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},V.createElement("div",{"data-title":"",className:Zt(C==null?void 0:C.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?V.createElement("div",{"data-description":"",className:Zt(U,Tk,C==null?void 0:C.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&pl(p.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:ie=>{var _e,Ie;pl(p.cancel)&&zs&&((Ie=(_e=p.cancel).onClick)==null||Ie.call(_e,ie),ir())},className:Zt(C==null?void 0:C.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&pl(p.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:ie=>{var _e,Ie;pl(p.action)&&((Ie=(_e=p.action).onClick)==null||Ie.call(_e,ie),!ie.defaultPrevented&&ir())},className:Zt(C==null?void 0:C.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function ov(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function WT(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?LT:DT;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=a:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var VT=h.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:b=MT,toastOptions:v,dir:S=ov(),gap:w=FT,loadingIcon:y,icons:g,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:_}=e,[E,j]=V.useState([]),k=V.useMemo(()=>Array.from(new Set([r].concat(E.filter(L=>L.position).map(L=>L.position)))),[E,r]),[N,T]=V.useState([]),[R,I]=V.useState(!1),[U,O]=V.useState(!1),[K,M]=V.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=V.useRef(null),A=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=V.useRef(null),P=V.useRef(!1),$=V.useCallback(L=>{j(F=>{var G;return(G=F.find(ee=>ee.id===L.id))!=null&&G.delete||kt.dismiss(L.id),F.filter(({id:ee})=>ee!==L.id)})},[]);return V.useEffect(()=>kt.subscribe(L=>{if(L.dismiss){j(F=>F.map(G=>G.id===L.id?{...G,delete:!0}:G));return}setTimeout(()=>{ex.flushSync(()=>{j(F=>{let G=F.findIndex(ee=>ee.id===L.id);return G!==-1?[...F.slice(0,G),{...F[G],...L},...F.slice(G+1)]:[L,...F]})})})}),[]),V.useEffect(()=>{if(d!=="system"){M(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:F})=>{M(F?"dark":"light")})}catch{L.addListener(({matches:G})=>{try{M(G?"dark":"light")}catch(ee){console.error(ee)}})}},[d]),V.useEffect(()=>{E.length<=1&&I(!1)},[E]),V.useEffect(()=>{let L=F=>{var G,ee;s.every(Q=>F[Q]||F.code===Q)&&(I(!0),(G=B.current)==null||G.focus()),F.code==="Escape"&&(document.activeElement===B.current||(ee=B.current)!=null&&ee.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[s]),V.useEffect(()=>{if(B.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,P.current=!1)}},[B.current]),V.createElement("section",{ref:t,"aria-label":`${x} ${A}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((L,F)=>{var G;let[ee,Q]=L.split("-");return E.length?V.createElement("ol",{key:L,dir:S==="auto"?ov():S,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":ee,"data-lifted":R&&E.length>1&&!o,"data-x-position":Q,style:{"--front-toast-height":`${((G=N[0])==null?void 0:G.height)||0}px`,"--width":`${$T}px`,"--gap":`${w}px`,...p,...WT(c,u)},onBlur:z=>{P.current&&!z.currentTarget.contains(z.relatedTarget)&&(P.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||P.current||(P.current=!0,C.current=z.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{U||I(!1)},onDragEnd:()=>I(!1),onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},E.filter(z=>!z.position&&F===0||z.position===L).map((z,fe)=>{var be,he;return V.createElement(HT,{key:z.id,icons:g,index:fe,toast:z,defaultRichColors:f,duration:(be=v==null?void 0:v.duration)!=null?be:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:b,closeButton:(he=v==null?void 0:v.closeButton)!=null?he:i,interacting:U,position:L,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:$,toasts:E.filter(ce=>ce.position==z.position),heights:N.filter(ce=>ce.position==z.position),setHeights:T,expandByDefault:o,gap:w,loadingIcon:y,expanded:R,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const qT=({...e})=>{const{theme:t="system"}=nx();return l.jsx(VT,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var GT=Fh[" useId ".trim().toString()]||(()=>{}),KT=0;function Co(e){const[t,n]=h.useState(GT());return He(()=>{n(r=>r??String(KT++))},[e]),t?`radix-${t}`:""}const YT=["top","right","bottom","left"],Hr=Math.min,It=Math.max,wc=Math.round,ml=Math.floor,In=e=>({x:e,y:e}),QT={left:"right",right:"left",bottom:"top",top:"bottom"},JT={start:"end",end:"start"};function Wf(e,t,n){return It(e,Hr(t,n))}function tr(e,t){return typeof e=="function"?e(t):e}function nr(e){return e.split("-")[0]}function ui(e){return e.split("-")[1]}function $p(e){return e==="x"?"y":"x"}function Fp(e){return e==="y"?"height":"width"}const XT=new Set(["top","bottom"]);function Tn(e){return XT.has(nr(e))?"y":"x"}function Up(e){return $p(Tn(e))}function ZT(e,t,n){n===void 0&&(n=!1);const r=ui(e),s=Up(e),o=Fp(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=xc(i)),[i,xc(i)]}function eP(e){const t=xc(e);return[Vf(e),t,Vf(t)]}function Vf(e){return e.replace(/start|end/g,t=>JT[t])}const iv=["left","right"],av=["right","left"],tP=["top","bottom"],nP=["bottom","top"];function rP(e,t,n){switch(e){case"top":case"bottom":return n?t?av:iv:t?iv:av;case"left":case"right":return t?tP:nP;default:return[]}}function sP(e,t,n,r){const s=ui(e);let o=rP(nr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Vf)))),o}function xc(e){return e.replace(/left|right|bottom|top/g,t=>QT[t])}function oP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Zx(e){return typeof e!="number"?oP(e):{top:e,right:e,bottom:e,left:e}}function bc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function lv(e,t,n){let{reference:r,floating:s}=e;const o=Tn(t),i=Up(t),a=Fp(i),c=nr(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(ui(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const iP=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=lv(u,r,c),m=r,p={},b=0;for(let v=0;v<a.length;v++){const{name:S,fn:w}=a[v],{x:y,y:g,data:x,reset:_}=await w({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=g??f,p={...p,[S]:{...p[S],...x}},_&&b<=50&&(b++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=lv(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function xa(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=tr(t,e),b=Zx(p),S=a[m?f==="floating"?"reference":"floating":f],w=bc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),x=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},_=bc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:g,strategy:c}):y);return{top:(w.top-_.top+b.top)/x.y,bottom:(_.bottom-w.bottom+b.bottom)/x.y,left:(w.left-_.left+b.left)/x.x,right:(_.right-w.right+b.right)/x.x}}const aP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=tr(e,t)||{};if(u==null)return{};const f=Zx(d),m={x:n,y:r},p=Up(s),b=Fp(p),v=await i.getDimensions(u),S=p==="y",w=S?"top":"left",y=S?"bottom":"right",g=S?"clientHeight":"clientWidth",x=o.reference[b]+o.reference[p]-m[p]-o.floating[b],_=m[p]-o.reference[p],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=E?E[g]:0;(!j||!await(i.isElement==null?void 0:i.isElement(E)))&&(j=a.floating[g]||o.floating[b]);const k=x/2-_/2,N=j/2-v[b]/2-1,T=Hr(f[w],N),R=Hr(f[y],N),I=T,U=j-v[b]-R,O=j/2-v[b]/2+k,K=Wf(I,O,U),M=!c.arrow&&ui(s)!=null&&O!==K&&o.reference[b]/2-(O<I?T:R)-v[b]/2<0,B=M?O<I?O-I:O-U:0;return{[p]:m[p]+B,data:{[p]:K,centerOffset:O-K-B,...M&&{alignmentOffset:B}},reset:M}}}),lP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...S}=tr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=nr(s),y=Tn(a),g=nr(a)===a,x=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=m||(g||!v?[xc(a)]:eP(a)),E=b!=="none";!m&&E&&_.push(...sP(a,v,b,x));const j=[a,..._],k=await xa(t,S),N=[];let T=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(k[w]),f){const O=ZT(s,i,x);N.push(k[O[0]],k[O[1]])}if(T=[...T,{placement:s,overflows:N}],!N.every(O=>O<=0)){var R,I;const O=(((R=o.flip)==null?void 0:R.index)||0)+1,K=j[O];if(K&&(!(f==="alignment"?y!==Tn(K):!1)||T.every(A=>Tn(A.placement)===y?A.overflows[0]>0:!0)))return{data:{index:O,overflows:T},reset:{placement:K}};let M=(I=T.filter(B=>B.overflows[0]<=0).sort((B,A)=>B.overflows[1]-A.overflows[1])[0])==null?void 0:I.placement;if(!M)switch(p){case"bestFit":{var U;const B=(U=T.filter(A=>{if(E){const C=Tn(A.placement);return C===y||C==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(C=>C>0).reduce((C,P)=>C+P,0)]).sort((A,C)=>A[1]-C[1])[0])==null?void 0:U[0];B&&(M=B);break}case"initialPlacement":M=a;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function cv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uv(e){return YT.some(t=>e[t]>=0)}const cP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=tr(e,t);switch(r){case"referenceHidden":{const o=await xa(t,{...s,elementContext:"reference"}),i=cv(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:uv(i)}}}case"escaped":{const o=await xa(t,{...s,altBoundary:!0}),i=cv(o,n.floating);return{data:{escapedOffsets:i,escaped:uv(i)}}}default:return{}}}}},eb=new Set(["left","top"]);async function uP(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=nr(n),a=ui(n),c=Tn(n)==="y",u=eb.has(i)?-1:1,d=o&&c?-1:1,f=tr(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(p=a==="end"?b*-1:b),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const dP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await uP(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},fP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:S=>{let{x:w,y}=S;return{x:w,y}}},...c}=tr(e,t),u={x:n,y:r},d=await xa(t,c),f=Tn(nr(s)),m=$p(f);let p=u[m],b=u[f];if(o){const S=m==="y"?"top":"left",w=m==="y"?"bottom":"right",y=p+d[S],g=p-d[w];p=Wf(y,p,g)}if(i){const S=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=b+d[S],g=b-d[w];b=Wf(y,b,g)}const v=a.fn({...t,[m]:p,[f]:b});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:o,[f]:i}}}}}},hP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=tr(e,t),d={x:n,y:r},f=Tn(s),m=$p(f);let p=d[m],b=d[f];const v=tr(a,t),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const g=m==="y"?"height":"width",x=o.reference[m]-o.floating[g]+S.mainAxis,_=o.reference[m]+o.reference[g]-S.mainAxis;p<x?p=x:p>_&&(p=_)}if(u){var w,y;const g=m==="y"?"width":"height",x=eb.has(nr(s)),_=o.reference[f]-o.floating[g]+(x&&((w=i.offset)==null?void 0:w[f])||0)+(x?0:S.crossAxis),E=o.reference[f]+o.reference[g]+(x?0:((y=i.offset)==null?void 0:y[f])||0)-(x?S.crossAxis:0);b<_?b=_:b>E&&(b=E)}return{[m]:p,[f]:b}}}},pP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=tr(e,t),d=await xa(t,u),f=nr(s),m=ui(s),p=Tn(s)==="y",{width:b,height:v}=o.floating;let S,w;f==="top"||f==="bottom"?(S=f,w=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,S=m==="end"?"top":"bottom");const y=v-d.top-d.bottom,g=b-d.left-d.right,x=Hr(v-d[S],y),_=Hr(b-d[w],g),E=!t.middlewareData.shift;let j=x,k=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=y),E&&!m){const T=It(d.left,0),R=It(d.right,0),I=It(d.top,0),U=It(d.bottom,0);p?k=b-2*(T!==0||R!==0?T+R:It(d.left,d.right)):j=v-2*(I!==0||U!==0?I+U:It(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:j});const N=await i.getDimensions(a.floating);return b!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function ru(){return typeof window<"u"}function di(e){return tb(e)?(e.nodeName||"").toLowerCase():"#document"}function Mt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function On(e){var t;return(t=(tb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tb(e){return ru()?e instanceof Node||e instanceof Mt(e).Node:!1}function hn(e){return ru()?e instanceof Element||e instanceof Mt(e).Element:!1}function Rn(e){return ru()?e instanceof HTMLElement||e instanceof Mt(e).HTMLElement:!1}function dv(e){return!ru()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Mt(e).ShadowRoot}const mP=new Set(["inline","contents"]);function za(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=pn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!mP.has(s)}const gP=new Set(["table","td","th"]);function vP(e){return gP.has(di(e))}const yP=[":popover-open",":modal"];function su(e){return yP.some(t=>{try{return e.matches(t)}catch{return!1}})}const wP=["transform","translate","scale","rotate","perspective"],xP=["transform","translate","scale","rotate","perspective","filter"],bP=["paint","layout","strict","content"];function Bp(e){const t=zp(),n=hn(e)?pn(e):e;return wP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||xP.some(r=>(n.willChange||"").includes(r))||bP.some(r=>(n.contain||"").includes(r))}function SP(e){let t=Wr(e);for(;Rn(t)&&!Xo(t);){if(Bp(t))return t;if(su(t))return null;t=Wr(t)}return null}function zp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _P=new Set(["html","body","#document"]);function Xo(e){return _P.has(di(e))}function pn(e){return Mt(e).getComputedStyle(e)}function ou(e){return hn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wr(e){if(di(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dv(e)&&e.host||On(e);return dv(t)?t.host:t}function nb(e){const t=Wr(e);return Xo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rn(t)&&za(t)?t:nb(t)}function ba(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=nb(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Mt(s);if(o){const a=qf(i);return t.concat(i,i.visualViewport||[],za(s)?s:[],a&&n?ba(a):[])}return t.concat(s,ba(s,[],n))}function qf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rb(e){const t=pn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Rn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=wc(n)!==o||wc(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Hp(e){return hn(e)?e:e.contextElement}function No(e){const t=Hp(e);if(!Rn(t))return In(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=rb(t);let i=(o?wc(n.width):n.width)/r,a=(o?wc(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const kP=In(0);function sb(e){const t=Mt(e);return!zp()||!t.visualViewport?kP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function EP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Mt(e)?!1:t}function Ps(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Hp(e);let i=In(1);t&&(r?hn(r)&&(i=No(r)):i=No(e));const a=EP(o,n,r)?sb(o):In(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=Mt(o),p=r&&hn(r)?Mt(r):r;let b=m,v=qf(b);for(;v&&r&&p!==b;){const S=No(v),w=v.getBoundingClientRect(),y=pn(v),g=w.left+(v.clientLeft+parseFloat(y.paddingLeft))*S.x,x=w.top+(v.clientTop+parseFloat(y.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,f*=S.y,c+=g,u+=x,b=Mt(v),v=qf(b)}}return bc({width:d,height:f,x:c,y:u})}function iu(e,t){const n=ou(e).scrollLeft;return t?t.left+n:Ps(On(e)).left+n}function ob(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-iu(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function CP(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=On(r),a=t?su(t.floating):!1;if(r===i||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=In(1);const d=In(0),f=Rn(r);if((f||!f&&!o)&&((di(r)!=="body"||za(i))&&(c=ou(r)),Rn(r))){const p=Ps(r);u=No(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=i&&!f&&!o?ob(i,c):In(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function NP(e){return Array.from(e.getClientRects())}function jP(e){const t=On(e),n=ou(e),r=e.ownerDocument.body,s=It(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=It(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+iu(e);const a=-n.scrollTop;return pn(r).direction==="rtl"&&(i+=It(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const fv=25;function TP(e,t){const n=Mt(e),r=On(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const d=zp();(!d||d&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const u=iu(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(r.clientWidth-f.clientWidth-p);b<=fv&&(o-=b)}else u<=fv&&(o+=u);return{width:o,height:i,x:a,y:c}}const PP=new Set(["absolute","fixed"]);function AP(e,t){const n=Ps(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Rn(e)?No(e):In(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:a,x:c,y:u}}function hv(e,t,n){let r;if(t==="viewport")r=TP(e,n);else if(t==="document")r=jP(On(e));else if(hn(t))r=AP(t,n);else{const s=sb(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return bc(r)}function ib(e,t){const n=Wr(e);return n===t||!hn(n)||Xo(n)?!1:pn(n).position==="fixed"||ib(n,t)}function IP(e,t){const n=t.get(e);if(n)return n;let r=ba(e,[],!1).filter(a=>hn(a)&&di(a)!=="body"),s=null;const o=pn(e).position==="fixed";let i=o?Wr(e):e;for(;hn(i)&&!Xo(i);){const a=pn(i),c=Bp(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&PP.has(s.position)||za(i)&&!c&&ib(e,i))?r=r.filter(d=>d!==i):s=a,i=Wr(i)}return t.set(e,r),r}function RP(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?su(t)?[]:IP(t,this._c):[].concat(n),r],a=i[0],c=i.reduce((u,d)=>{const f=hv(t,d,s);return u.top=It(f.top,u.top),u.right=Hr(f.right,u.right),u.bottom=Hr(f.bottom,u.bottom),u.left=It(f.left,u.left),u},hv(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function OP(e){const{width:t,height:n}=rb(e);return{width:t,height:n}}function MP(e,t,n){const r=Rn(t),s=On(t),o=n==="fixed",i=Ps(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=In(0);function u(){c.x=iu(s)}if(r||!r&&!o)if((di(t)!=="body"||za(s))&&(a=ou(t)),r){const p=Ps(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?ob(s,a):In(0),f=i.left+a.scrollLeft-c.x-d.x,m=i.top+a.scrollTop-c.y-d.y;return{x:f,y:m,width:i.width,height:i.height}}function gd(e){return pn(e).position==="static"}function pv(e,t){if(!Rn(e)||pn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return On(e)===n&&(n=n.ownerDocument.body),n}function ab(e,t){const n=Mt(e);if(su(e))return n;if(!Rn(e)){let s=Wr(e);for(;s&&!Xo(s);){if(hn(s)&&!gd(s))return s;s=Wr(s)}return n}let r=pv(e,t);for(;r&&vP(r)&&gd(r);)r=pv(r,t);return r&&Xo(r)&&gd(r)&&!Bp(r)?n:r||SP(e)||n}const DP=async function(e){const t=this.getOffsetParent||ab,n=this.getDimensions,r=await n(e.floating);return{reference:MP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LP(e){return pn(e).direction==="rtl"}const $P={convertOffsetParentRelativeRectToViewportRelativeRect:CP,getDocumentElement:On,getClippingRect:RP,getOffsetParent:ab,getElementRects:DP,getClientRects:NP,getDimensions:OP,getScale:No,isElement:hn,isRTL:LP};function lb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FP(e,t){let n=null,r;const s=On(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(a||t(),!m||!p)return;const b=ml(f),v=ml(s.clientWidth-(d+m)),S=ml(s.clientHeight-(f+p)),w=ml(d),g={rootMargin:-b+"px "+-v+"px "+-S+"px "+-w+"px",threshold:It(0,Hr(1,c))||1};let x=!0;function _(E){const j=E[0].intersectionRatio;if(j!==c){if(!x)return i();j?i(!1,j):r=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!lb(u,e.getBoundingClientRect())&&i(),x=!1}try{n=new IntersectionObserver(_,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,g)}n.observe(e)}return i(!0),o}function UP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Hp(e),d=s||o?[...u?ba(u):[],...ba(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const f=u&&a?FP(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var g;(g=p)==null||g.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let b,v=c?Ps(e):null;c&&S();function S(){const w=Ps(e);v&&!lb(v,w)&&n(),v=w,b=requestAnimationFrame(S)}return n(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const BP=dP,zP=fP,HP=lP,WP=pP,VP=cP,mv=aP,qP=hP,GP=(e,t,n)=>{const r=new Map,s={platform:$P,...n},o={...s.platform,_c:r};return iP(e,t,{...s,platform:o})};var KP=typeof document<"u",YP=function(){},$l=KP?h.useLayoutEffect:YP;function Sc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Sc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Sc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function cb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gv(e,t){const n=cb(e);return Math.round(t*n)/n}function vd(e){const t=h.useRef(e);return $l(()=>{t.current=e}),t}function QP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(r);Sc(m,r)||p(r);const[b,v]=h.useState(null),[S,w]=h.useState(null),y=h.useCallback(A=>{A!==E.current&&(E.current=A,v(A))},[]),g=h.useCallback(A=>{A!==j.current&&(j.current=A,w(A))},[]),x=o||b,_=i||S,E=h.useRef(null),j=h.useRef(null),k=h.useRef(d),N=c!=null,T=vd(c),R=vd(s),I=vd(u),U=h.useCallback(()=>{if(!E.current||!j.current)return;const A={placement:t,strategy:n,middleware:m};R.current&&(A.platform=R.current),GP(E.current,j.current,A).then(C=>{const P={...C,isPositioned:I.current!==!1};O.current&&!Sc(k.current,P)&&(k.current=P,Fs.flushSync(()=>{f(P)}))})},[m,t,n,R,I]);$l(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[u]);const O=h.useRef(!1);$l(()=>(O.current=!0,()=>{O.current=!1}),[]),$l(()=>{if(x&&(E.current=x),_&&(j.current=_),x&&_){if(T.current)return T.current(x,_,U);U()}},[x,_,U,T,N]);const K=h.useMemo(()=>({reference:E,floating:j,setReference:y,setFloating:g}),[y,g]),M=h.useMemo(()=>({reference:x,floating:_}),[x,_]),B=h.useMemo(()=>{const A={position:n,left:0,top:0};if(!M.floating)return A;const C=gv(M.floating,d.x),P=gv(M.floating,d.y);return a?{...A,transform:"translate("+C+"px, "+P+"px)",...cb(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:C,top:P}},[n,a,M.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:U,refs:K,elements:M,floatingStyles:B}),[d,U,K,M,B])}const JP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?mv({element:r.current,padding:s}).fn(n):{}:r?mv({element:r,padding:s}).fn(n):{}}}},XP=(e,t)=>({...BP(e),options:[e,t]}),ZP=(e,t)=>({...zP(e),options:[e,t]}),e2=(e,t)=>({...qP(e),options:[e,t]}),t2=(e,t)=>({...HP(e),options:[e,t]}),n2=(e,t)=>({...WP(e),options:[e,t]}),r2=(e,t)=>({...VP(e),options:[e,t]}),s2=(e,t)=>({...JP(e),options:[e,t]});var o2="Arrow",ub=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return l.jsx(ne.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});ub.displayName=o2;var i2=ub;function Wp(e){const[t,n]=h.useState(void 0);return He(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Vp="Popper",[db,au]=mn(Vp),[a2,fb]=db(Vp),hb=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return l.jsx(a2,{scope:t,anchor:r,onAnchorChange:s,children:n})};hb.displayName=Vp;var pb="PopperAnchor",mb=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=fb(pb,n),i=h.useRef(null),a=ye(t,i),c=h.useRef(null);return h.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:l.jsx(ne.div,{...s,ref:a})});mb.displayName=pb;var qp="PopperContent",[l2,c2]=db(qp),gb=h.forwardRef((e,t)=>{var z,fe,be,he,ce,re;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:b,...v}=e,S=fb(qp,n),[w,y]=h.useState(null),g=ye(t,Le=>y(Le)),[x,_]=h.useState(null),E=Wp(x),j=(E==null?void 0:E.width)??0,k=(E==null?void 0:E.height)??0,N=r+(o!=="center"?"-"+o:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],I=R.length>0,U={padding:T,boundary:R.filter(d2),altBoundary:I},{refs:O,floatingStyles:K,placement:M,isPositioned:B,middlewareData:A}=QP({strategy:"fixed",placement:N,whileElementsMounted:(...Le)=>UP(...Le,{animationFrame:p==="always"}),elements:{reference:S.anchor},middleware:[XP({mainAxis:s+k,alignmentAxis:i}),c&&ZP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?e2():void 0,...U}),c&&t2({...U}),n2({...U,apply:({elements:Le,rects:ht,availableWidth:H,availableHeight:J})=>{const{width:Z,height:ge}=ht.reference,qe=Le.floating.style;qe.setProperty("--radix-popper-available-width",`${H}px`),qe.setProperty("--radix-popper-available-height",`${J}px`),qe.setProperty("--radix-popper-anchor-width",`${Z}px`),qe.setProperty("--radix-popper-anchor-height",`${ge}px`)}}),x&&s2({element:x,padding:a}),f2({arrowWidth:j,arrowHeight:k}),m&&r2({strategy:"referenceHidden",...U})]}),[C,P]=wb(M),$=Qe(b);He(()=>{B&&($==null||$())},[B,$]);const L=(z=A.arrow)==null?void 0:z.x,F=(fe=A.arrow)==null?void 0:fe.y,G=((be=A.arrow)==null?void 0:be.centerOffset)!==0,[ee,Q]=h.useState();return He(()=>{w&&Q(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:B?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(he=A.transformOrigin)==null?void 0:he.x,(ce=A.transformOrigin)==null?void 0:ce.y].join(" "),...((re=A.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(l2,{scope:n,placedSide:C,onArrowChange:_,arrowX:L,arrowY:F,shouldHideArrow:G,children:l.jsx(ne.div,{"data-side":C,"data-align":P,...v,ref:g,style:{...v.style,animation:B?void 0:"none"}})})})});gb.displayName=qp;var vb="PopperArrow",u2={top:"bottom",right:"left",bottom:"top",left:"right"},yb=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=c2(vb,r),i=u2[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(i2,{...s,ref:n,style:{...s.style,display:"block"}})})});yb.displayName=vb;function d2(e){return e!==null}var f2=e=>({name:"transformOrigin",options:e,fn(t){var S,w,y;const{placement:n,rects:r,middlewareData:s}=t,i=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=wb(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let b="",v="";return u==="bottom"?(b=i?f:`${m}px`,v=`${-c}px`):u==="top"?(b=i?f:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,v=i?f:`${p}px`):u==="left"&&(b=`${r.floating.width+c}px`,v=i?f:`${p}px`),{data:{x:b,y:v}}}});function wb(e){const[t,n="center"]=e.split("-");return[t,n]}var h2=hb,xb=mb,bb=gb,Sb=yb,[lu]=mn("Tooltip",[au]),Gp=au(),_b="TooltipProvider",p2=700,vv="tooltip.open",[m2,kb]=lu(_b),Eb=e=>{const{__scopeTooltip:t,delayDuration:n=p2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),a=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(m2,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:h.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};Eb.displayName=_b;var Cb="Tooltip",[QF,cu]=lu(Cb),Gf="TooltipTrigger",g2=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=cu(Gf,n),o=kb(Gf,n),i=Gp(n),a=h.useRef(null),c=ye(t,a,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(xb,{asChild:!0,...i,children:l.jsx(ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:te(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:te(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:te(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:te(e.onBlur,s.onClose),onClick:te(e.onClick,s.onClose)})})});g2.displayName=Gf;var v2="TooltipPortal",[JF,y2]=lu(v2,{forceMount:void 0}),Zo="TooltipContent",Nb=h.forwardRef((e,t)=>{const n=y2(Zo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=cu(Zo,e.__scopeTooltip);return l.jsx(gn,{present:r||i.open,children:i.disableHoverableContent?l.jsx(jb,{side:s,...o,ref:t}):l.jsx(w2,{side:s,...o,ref:t})})}),w2=h.forwardRef((e,t)=>{const n=cu(Zo,e.__scopeTooltip),r=kb(Zo,e.__scopeTooltip),s=h.useRef(null),o=ye(t,s),[i,a]=h.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=h.useCallback(()=>{a(null),f(!1)},[f]),p=h.useCallback((b,v)=>{const S=b.currentTarget,w={x:b.clientX,y:b.clientY},y=k2(w,S.getBoundingClientRect()),g=E2(w,y),x=C2(v.getBoundingClientRect()),_=j2([...g,...x]);a(_),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&d){const b=S=>p(S,d),v=S=>p(S,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",v)}}},[c,d,p,m]),h.useEffect(()=>{if(i){const b=v=>{const S=v.target,w={x:v.clientX,y:v.clientY},y=(c==null?void 0:c.contains(S))||(d==null?void 0:d.contains(S)),g=!N2(w,i);y?m():g&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,i,u,m]),l.jsx(jb,{...e,ref:o})}),[x2,b2]=lu(Cb,{isInside:!1}),S2=CN("TooltipContent"),jb=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=cu(Zo,n),u=Gp(n),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(vv,d),()=>document.removeEventListener(vv,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Ua,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(bb,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(S2,{children:r}),l.jsx(x2,{scope:n,isInside:!0,children:l.jsx(KN,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Nb.displayName=Zo;var Tb="TooltipArrow",_2=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Gp(n);return b2(Tb,n).isInside?null:l.jsx(Sb,{...s,...r,ref:t})});_2.displayName=Tb;function k2(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function E2(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function C2(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function N2(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],c=t[i],u=a.x,d=a.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function j2(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),T2(t)}function T2(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var P2=Eb,Pb=Nb;const A2=P2,I2=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(Pb,{ref:r,sideOffset:t,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));I2.displayName=Pb.displayName;var uu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},R2={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},br,Oh,Iy,O2=(Iy=class{constructor(){ve(this,br,R2);ve(this,Oh,!1)}setTimeoutProvider(e){se(this,br,e)}setTimeout(e,t){return D(this,br).setTimeout(e,t)}clearTimeout(e){D(this,br).clearTimeout(e)}setInterval(e,t){return D(this,br).setInterval(e,t)}clearInterval(e){D(this,br).clearInterval(e)}},br=new WeakMap,Oh=new WeakMap,Iy),Kf=new O2;function M2(e){setTimeout(e,0)}var du=typeof window>"u"||"Deno"in globalThis;function rn(){}function D2(e,t){return typeof e=="function"?e(t):e}function L2(e){return typeof e=="number"&&e>=0&&e!==1/0}function $2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yf(e,t){return typeof e=="function"?e(t):e}function F2(e,t){return typeof e=="function"?e(t):e}function yv(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Kp(i,t.options))return!1}else if(!_a(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function wv(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Sa(t.options.mutationKey)!==Sa(o))return!1}else if(!_a(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Kp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Sa)(e)}function Sa(e){return JSON.stringify(e,(t,n)=>Qf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function _a(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>_a(e[n],t[n])):!1}var U2=Object.prototype.hasOwnProperty;function Ab(e,t){if(e===t)return e;const n=xv(e)&&xv(t);if(!n&&!(Qf(e)&&Qf(t)))return t;const s=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),i=o.length,a=n?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=n?u:o[u],f=e[d],m=t[d];if(f===m){a[d]=f,(n?u<s:U2.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){a[d]=m;continue}const p=Ab(f,m);a[d]=p,p===f&&c++}return s===i&&c===s?e:a}function xv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qf(e){if(!bv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!bv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bv(e){return Object.prototype.toString.call(e)==="[object Object]"}function B2(e){return new Promise(t=>{Kf.setTimeout(t,e)})}function z2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ab(e,t):t}function H2(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function W2(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Yp=Symbol();function Ib(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Yp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var gs,Sr,Mo,Ry,V2=(Ry=class extends uu{constructor(){super();ve(this,gs);ve(this,Sr);ve(this,Mo);se(this,Mo,t=>{if(!du&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,Sr)||this.setEventListener(D(this,Mo))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,Sr))==null||t.call(this),se(this,Sr,void 0))}setEventListener(t){var n;se(this,Mo,t),(n=D(this,Sr))==null||n.call(this),se(this,Sr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){D(this,gs)!==t&&(se(this,gs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof D(this,gs)=="boolean"?D(this,gs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},gs=new WeakMap,Sr=new WeakMap,Mo=new WeakMap,Ry),Rb=new V2;function q2(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var G2=M2;function K2(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=G2;const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var wt=K2(),Do,_r,Lo,Oy,Y2=(Oy=class extends uu{constructor(){super();ve(this,Do,!0);ve(this,_r);ve(this,Lo);se(this,Lo,t=>{if(!du&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,_r)||this.setEventListener(D(this,Lo))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,_r))==null||t.call(this),se(this,_r,void 0))}setEventListener(t){var n;se(this,Lo,t),(n=D(this,_r))==null||n.call(this),se(this,_r,t(this.setOnline.bind(this)))}setOnline(t){D(this,Do)!==t&&(se(this,Do,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return D(this,Do)}},Do=new WeakMap,_r=new WeakMap,Lo=new WeakMap,Oy),_c=new Y2;function Q2(e){return Math.min(1e3*2**e,3e4)}function Ob(e){return(e??"online")==="online"?_c.isOnline():!0}var Jf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mb(e){let t=!1,n=0,r;const s=q2(),o=()=>s.status!=="pending",i=v=>{var S;if(!o()){const w=new Jf(v);m(w),(S=e.onCancel)==null||S.call(e,w)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>Rb.isFocused()&&(e.networkMode==="always"||_c.isOnline())&&e.canRun(),d=()=>Ob(e.networkMode)&&e.canRun(),f=v=>{o()||(r==null||r(),s.resolve(v))},m=v=>{o()||(r==null||r(),s.reject(v))},p=()=>new Promise(v=>{var S;r=w=>{(o()||u())&&v(w)},(S=e.onPause)==null||S.call(e)}).then(()=>{var v;r=void 0,o()||(v=e.onContinue)==null||v.call(e)}),b=()=>{if(o())return;let v;const S=n===0?e.initialPromise:void 0;try{v=S??e.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var E;if(o())return;const y=e.retry??(du?0:3),g=e.retryDelay??Q2,x=typeof g=="function"?g(n,w):g,_=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,w);if(t||!_){m(w);return}n++,(E=e.onFail)==null||E.call(e,n,w),B2(x).then(()=>u()?void 0:p()).then(()=>{t?m(w):b()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),s)}}var vs,My,Db=(My=class{constructor(){ve(this,vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),L2(this.gcTime)&&se(this,vs,Kf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(du?1/0:5*60*1e3))}clearGcTimeout(){D(this,vs)&&(Kf.clearTimeout(D(this,vs)),se(this,vs,void 0))}},vs=new WeakMap,My),ys,$o,Ft,ws,Ze,Ia,xs,sn,$n,Dy,J2=(Dy=class extends Db{constructor(t){super();ve(this,sn);ve(this,ys);ve(this,$o);ve(this,Ft);ve(this,ws);ve(this,Ze);ve(this,Ia);ve(this,xs);se(this,xs,!1),se(this,Ia,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,ws,t.client),se(this,Ft,D(this,ws).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,ys,Sv(this.options)),this.state=t.state??D(this,ys),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,Ze))==null?void 0:t.promise}setOptions(t){if(this.options={...D(this,Ia),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Sv(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),se(this,ys,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,Ft).remove(this)}setData(t,n){const r=z2(this.state.data,t,this.options);return it(this,sn,$n).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){it(this,sn,$n).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=D(this,Ze))==null?void 0:r.promise;return(s=D(this,Ze))==null||s.cancel(t),n?n.then(rn).catch(rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,ys))}isActive(){return this.observers.some(t=>F2(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Yf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Ze))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Ze))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,Ft).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(D(this,Ze)&&(D(this,xs)?D(this,Ze).cancel({revert:!0}):D(this,Ze).cancelRetry()),this.scheduleGc()),D(this,Ft).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,sn,$n).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,m,p,b,v,S,w,y,g;if(this.state.fetchStatus!=="idle"&&((c=D(this,Ze))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(D(this,Ze))return D(this,Ze).continueRetry(),D(this,Ze).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(_=>_.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(se(this,xs,!0),r.signal)})},o=()=>{const x=Ib(this.options,n),E=(()=>{const j={client:D(this,ws),queryKey:this.queryKey,meta:this.meta};return s(j),j})();return se(this,xs,!1),this.options.persister?this.options.persister(x,E,this):x(E)},a=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:D(this,ws),state:this.state,fetchFn:o};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(a,this),se(this,$o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&it(this,sn,$n).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),se(this,Ze,Mb({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:x=>{x instanceof Jf&&x.revert&&this.setState({...D(this,$o),fetchStatus:"idle"}),r.abort()},onFail:(x,_)=>{it(this,sn,$n).call(this,{type:"failed",failureCount:x,error:_})},onPause:()=>{it(this,sn,$n).call(this,{type:"pause"})},onContinue:()=>{it(this,sn,$n).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const x=await D(this,Ze).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(p=(m=D(this,Ft).config).onSuccess)==null||p.call(m,x,this),(v=(b=D(this,Ft).config).onSettled)==null||v.call(b,x,this.state.error,this),x}catch(x){if(x instanceof Jf){if(x.silent)return D(this,Ze).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw it(this,sn,$n).call(this,{type:"error",error:x}),(w=(S=D(this,Ft).config).onError)==null||w.call(S,x,this),(g=(y=D(this,Ft).config).onSettled)==null||g.call(y,this.state.data,x,this),x}finally{this.scheduleGc()}}},ys=new WeakMap,$o=new WeakMap,Ft=new WeakMap,ws=new WeakMap,Ze=new WeakMap,Ia=new WeakMap,xs=new WeakMap,sn=new WeakSet,$n=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...X2(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return se(this,$o,t.manual?s:void 0),s;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),wt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),D(this,Ft).notify({query:this,type:"updated",action:t})})},Dy);function X2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ob(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Sv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function _v(e){return{onFetch:(t,n)=>{var d,f,m,p,b;const r=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const S=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},w=Ib(t.options,t.fetchOptions),y=async(g,x,_)=>{if(v)return Promise.reject();if(x==null&&g.pages.length)return Promise.resolve(g);const j=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:x,direction:_?"backward":"forward",meta:t.options.meta};return S(R),R})(),k=await w(j),{maxPages:N}=t.options,T=_?W2:H2;return{pages:T(g.pages,k,N),pageParams:T(g.pageParams,x,N)}};if(s&&o.length){const g=s==="backward",x=g?Z2:kv,_={pages:o,pageParams:i},E=x(r,_);a=await y(_,E,g)}else{const g=e??o.length;do{const x=c===0?i[0]??r.initialPageParam:kv(r,a);if(c>0&&x==null)break;a=await y(a,x),c++}while(c<g)}return a};t.options.persister?t.fetchFn=()=>{var v,S;return(S=(v=t.options).persister)==null?void 0:S.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function kv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Z2(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ra,_n,vt,bs,kn,pr,Ly,eA=(Ly=class extends Db{constructor(t){super();ve(this,kn);ve(this,Ra);ve(this,_n);ve(this,vt);ve(this,bs);se(this,Ra,t.client),this.mutationId=t.mutationId,se(this,vt,t.mutationCache),se(this,_n,[]),this.state=t.state||tA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,_n).includes(t)||(D(this,_n).push(t),this.clearGcTimeout(),D(this,vt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,_n,D(this,_n).filter(n=>n!==t)),this.scheduleGc(),D(this,vt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,_n).length||(this.state.status==="pending"?this.scheduleGc():D(this,vt).remove(this))}continue(){var t;return((t=D(this,bs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,c,u,d,f,m,p,b,v,S,w,y,g,x,_,E,j,k,N;const n=()=>{it(this,kn,pr).call(this,{type:"continue"})},r={client:D(this,Ra),meta:this.options.meta,mutationKey:this.options.mutationKey};se(this,bs,Mb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{it(this,kn,pr).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{it(this,kn,pr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,vt).canRun(this)}));const s=this.state.status==="pending",o=!D(this,bs).canStart();try{if(s)n();else{it(this,kn,pr).call(this,{type:"pending",variables:t,isPaused:o}),await((a=(i=D(this,vt).config).onMutate)==null?void 0:a.call(i,t,this,r));const R=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));R!==this.state.context&&it(this,kn,pr).call(this,{type:"pending",context:R,variables:t,isPaused:o})}const T=await D(this,bs).start();return await((f=(d=D(this,vt).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,r)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,T,t,this.state.context,r)),await((v=(b=D(this,vt).config).onSettled)==null?void 0:v.call(b,T,null,this.state.variables,this.state.context,this,r)),await((w=(S=this.options).onSettled)==null?void 0:w.call(S,T,null,t,this.state.context,r)),it(this,kn,pr).call(this,{type:"success",data:T}),T}catch(T){try{throw await((g=(y=D(this,vt).config).onError)==null?void 0:g.call(y,T,t,this.state.context,this,r)),await((_=(x=this.options).onError)==null?void 0:_.call(x,T,t,this.state.context,r)),await((j=(E=D(this,vt).config).onSettled)==null?void 0:j.call(E,void 0,T,this.state.variables,this.state.context,this,r)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,T,t,this.state.context,r)),T}finally{it(this,kn,pr).call(this,{type:"error",error:T})}}finally{D(this,vt).runNext(this)}}},Ra=new WeakMap,_n=new WeakMap,vt=new WeakMap,bs=new WeakMap,kn=new WeakSet,pr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wt.batch(()=>{D(this,_n).forEach(r=>{r.onMutationUpdate(t)}),D(this,vt).notify({mutation:this,type:"updated",action:t})})},Ly);function tA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wn,on,Oa,$y,nA=($y=class extends uu{constructor(t={}){super();ve(this,Wn);ve(this,on);ve(this,Oa);this.config=t,se(this,Wn,new Set),se(this,on,new Map),se(this,Oa,0)}build(t,n,r){const s=new eA({client:t,mutationCache:this,mutationId:++Ka(this,Oa)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){D(this,Wn).add(t);const n=gl(t);if(typeof n=="string"){const r=D(this,on).get(n);r?r.push(t):D(this,on).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(D(this,Wn).delete(t)){const n=gl(t);if(typeof n=="string"){const r=D(this,on).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&D(this,on).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=gl(t);if(typeof n=="string"){const r=D(this,on).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=gl(t);if(typeof n=="string"){const s=(r=D(this,on).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wt.batch(()=>{D(this,Wn).forEach(t=>{this.notify({type:"removed",mutation:t})}),D(this,Wn).clear(),D(this,on).clear()})}getAll(){return Array.from(D(this,Wn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wv(n,r))}findAll(t={}){return this.getAll().filter(n=>wv(t,n))}notify(t){wt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return wt.batch(()=>Promise.all(t.map(n=>n.continue().catch(rn))))}},Wn=new WeakMap,on=new WeakMap,Oa=new WeakMap,$y);function gl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var En,Fy,rA=(Fy=class extends uu{constructor(t={}){super();ve(this,En);this.config=t,se(this,En,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Kp(s,n);let i=this.get(o);return i||(i=new J2({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){D(this,En).has(t.queryHash)||(D(this,En).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=D(this,En).get(t.queryHash);n&&(t.destroy(),n===t&&D(this,En).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,En).get(t)}getAll(){return[...D(this,En).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>yv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>yv(t,r)):n}notify(t){wt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},En=new WeakMap,Fy),Fe,kr,Er,Fo,Uo,Cr,Bo,zo,Uy,sA=(Uy=class{constructor(e={}){ve(this,Fe);ve(this,kr);ve(this,Er);ve(this,Fo);ve(this,Uo);ve(this,Cr);ve(this,Bo);ve(this,zo);se(this,Fe,e.queryCache||new rA),se(this,kr,e.mutationCache||new nA),se(this,Er,e.defaultOptions||{}),se(this,Fo,new Map),se(this,Uo,new Map),se(this,Cr,0)}mount(){Ka(this,Cr)._++,D(this,Cr)===1&&(se(this,Bo,Rb.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,Fe).onFocus())})),se(this,zo,_c.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,Fe).onOnline())})))}unmount(){var e,t;Ka(this,Cr)._--,D(this,Cr)===0&&((e=D(this,Bo))==null||e.call(this),se(this,Bo,void 0),(t=D(this,zo))==null||t.call(this),se(this,zo,void 0))}isFetching(e){return D(this,Fe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,kr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,Fe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=D(this,Fe).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Yf(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return D(this,Fe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=D(this,Fe).get(r.queryHash),o=s==null?void 0:s.state.data,i=D2(t,o);if(i!==void 0)return D(this,Fe).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return wt.batch(()=>D(this,Fe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,Fe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=D(this,Fe);wt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=D(this,Fe);return wt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=wt.batch(()=>D(this,Fe).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(rn).catch(rn)}invalidateQueries(e,t={}){return wt.batch(()=>(D(this,Fe).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=wt.batch(()=>D(this,Fe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(rn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(rn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=D(this,Fe).build(this,t);return n.isStaleByTime(Yf(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rn).catch(rn)}fetchInfiniteQuery(e){return e.behavior=_v(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rn).catch(rn)}ensureInfiniteQueryData(e){return e.behavior=_v(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _c.isOnline()?D(this,kr).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,Fe)}getMutationCache(){return D(this,kr)}getDefaultOptions(){return D(this,Er)}setDefaultOptions(e){se(this,Er,e)}setQueryDefaults(e,t){D(this,Fo).set(Sa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,Fo).values()],n={};return t.forEach(r=>{_a(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){D(this,Uo).set(Sa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,Uo).values()],n={};return t.forEach(r=>{_a(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,Er).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Yp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,Er).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,Fe).clear(),D(this,kr).clear()}},Fe=new WeakMap,kr=new WeakMap,Er=new WeakMap,Fo=new WeakMap,Uo=new WeakMap,Cr=new WeakMap,Bo=new WeakMap,zo=new WeakMap,Uy),oA=h.createContext(void 0),iA=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(oA.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(this,arguments)}var Tr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tr||(Tr={}));const Ev="popstate";function aA(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return Xf("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:$b(s)}return cA(t,n,null,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lA(){return Math.random().toString(36).substr(2,8)}function Cv(e,t){return{usr:e.state,key:e.key,idx:t}}function Xf(e,t,n,r){return n===void 0&&(n=null),ka({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fi(t):t,{state:n,key:t&&t.key||r||lA()})}function $b(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function cA(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Tr.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(ka({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Tr.Pop;let S=d(),w=S==null?null:S-u;u=S,c&&c({action:a,location:v.location,delta:w})}function m(S,w){a=Tr.Push;let y=Xf(v.location,S,w);u=d()+1;let g=Cv(y,u),x=v.createHref(y);try{i.pushState(g,"",x)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(x)}o&&c&&c({action:a,location:v.location,delta:1})}function p(S,w){a=Tr.Replace;let y=Xf(v.location,S,w);u=d();let g=Cv(y,u),x=v.createHref(y);i.replaceState(g,"",x),o&&c&&c({action:a,location:v.location,delta:0})}function b(S){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof S=="string"?S:$b(S);return y=y.replace(/ $/,"%20"),Xe(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let v={get action(){return a},get location(){return e(s,i)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ev,f),c=S,()=>{s.removeEventListener(Ev,f),c=null}},createHref(S){return t(s,S)},createURL:b,encodeLocation(S){let w=b(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(S){return i.go(S)}};return v}var Nv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nv||(Nv={}));function uA(e,t,n){return n===void 0&&(n="/"),dA(e,t,n)}function dA(e,t,n,r){let s=typeof t=="string"?fi(t):t,o=Bb(s.pathname||"/",n);if(o==null)return null;let i=Fb(e);fA(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=kA(o);a=bA(i[c],u)}return a}function Fb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ks([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Xe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Fb(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:wA(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Ub(o.path))s(o,i,c)}),t}function Ub(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Ub(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function fA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hA=/^:[\w-]+$/,pA=3,mA=2,gA=1,vA=10,yA=-2,jv=e=>e==="*";function wA(e,t){let n=e.split("/"),r=n.length;return n.some(jv)&&(r+=yA),t&&(r+=mA),n.filter(s=>!jv(s)).reduce((s,o)=>s+(hA.test(o)?pA:o===""?gA:vA),r)}function xA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function bA(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=SA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:ks([o,f.pathname]),pathnameBase:PA(ks([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=ks([o,f.pathnameBase]))}return i}function SA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_A(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let v=a[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const b=a[f];return p&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function _A(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Lb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function kA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function EA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?fi(e):e;return{pathname:n?n.startsWith("/")?n:CA(n,t):t,search:AA(r),hash:IA(s)}}function CA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function yd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jA(e,t){let n=NA(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function TA(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=fi(e):(s=ka({},e),Xe(!s.pathname||!s.pathname.includes("?"),yd("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),yd("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),yd("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?t[f]:"/"}let c=EA(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ks=e=>e.join("/").replace(/\/\/+/g,"/"),PA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,IA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zb=["post","put","patch","delete"];new Set(zb);const OA=["get",...zb];new Set(OA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ea.apply(this,arguments)}const Qp=h.createContext(null),MA=h.createContext(null),fu=h.createContext(null),hu=h.createContext(null),hi=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Hb=h.createContext(null);function pu(){return h.useContext(hu)!=null}function mu(){return pu()||Xe(!1),h.useContext(hu).location}function Wb(e){h.useContext(fu).static||h.useLayoutEffect(e)}function Ha(){let{isDataRoute:e}=h.useContext(hi);return e?KA():DA()}function DA(){pu()||Xe(!1);let e=h.useContext(Qp),{basename:t,future:n,navigator:r}=h.useContext(fu),{matches:s}=h.useContext(hi),{pathname:o}=mu(),i=JSON.stringify(jA(s,n.v7_relativeSplatPath)),a=h.useRef(!1);return Wb(()=>{a.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=TA(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ks([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function LA(e,t){return $A(e,t)}function $A(e,t,n,r){pu()||Xe(!1);let{navigator:s}=h.useContext(fu),{matches:o}=h.useContext(hi),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=mu(),d;if(t){var f;let S=typeof t=="string"?fi(t):t;c==="/"||(f=S.pathname)!=null&&f.startsWith(c)||Xe(!1),d=S}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let S=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=uA(e,{pathname:p}),v=HA(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:ks([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:ks([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return t&&v?h.createElement(hu.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Tr.Pop}},v):v}function FA(){let e=GA(),t=RA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const UA=h.createElement(FA,null);class BA extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(hi.Provider,{value:this.props.routeContext},h.createElement(Hb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zA(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(Qp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(hi.Provider,{value:t},r)}function HA(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Xe(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,b=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,b=!1,v=null,S=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||UA,c&&(u<0&&m===0?(YA("route-fallback"),b=!0,S=null):u===m&&(b=!0,S=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),y=()=>{let g;return p?g=v:b?g=S:f.route.Component?g=h.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,h.createElement(zA,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(BA,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var Vb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vb||{}),qb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qb||{});function WA(e){let t=h.useContext(Qp);return t||Xe(!1),t}function VA(e){let t=h.useContext(MA);return t||Xe(!1),t}function qA(e){let t=h.useContext(hi);return t||Xe(!1),t}function Gb(e){let t=qA(),n=t.matches[t.matches.length-1];return n.route.id||Xe(!1),n.route.id}function GA(){var e;let t=h.useContext(Hb),n=VA(),r=Gb();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function KA(){let{router:e}=WA(Vb.UseNavigateStable),t=Gb(qb.UseNavigateStable),n=h.useRef(!1);return Wb(()=>{n.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ea({fromRouteId:t},o)))},[e,t])}const Tv={};function YA(e,t,n){Tv[e]||(Tv[e]=!0)}function QA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function to(e){Xe(!1)}function JA(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Tr.Pop,navigator:o,static:i=!1,future:a}=e;pu()&&Xe(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:Ea({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=fi(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:b="default"}=r,v=h.useMemo(()=>{let S=Bb(d,c);return S==null?null:{location:{pathname:S,search:f,hash:m,state:p,key:b},navigationType:s}},[c,d,f,m,p,b,s]);return v==null?null:h.createElement(fu.Provider,{value:u},h.createElement(hu.Provider,{children:n,value:v}))}function XA(e){let{children:t,location:n}=e;return LA(Zf(t),n)}new Promise(()=>{});function Zf(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let o=[...t,s];if(r.type===h.Fragment){n.push.apply(n,Zf(r.props.children,o));return}r.type!==to&&Xe(!1),!r.props.index||!r.props.children||Xe(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Zf(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function ZA(e,t){let n=eh(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const eI="6";try{window.__reactRouterVersion=eI}catch{}const tI="startTransition",Pv=Fh[tI];function nI(e){let{basename:t,children:n,future:r,window:s}=e,o=h.useRef();o.current==null&&(o.current=aA({window:s,v5Compat:!0}));let i=o.current,[a,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&Pv?Pv(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>QA(r),[r]),h.createElement(JA,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var Av;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Av||(Av={}));var Iv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Iv||(Iv={}));function rI(e){let t=h.useRef(eh(e)),n=h.useRef(!1),r=mu(),s=h.useMemo(()=>ZA(r.search,n.current?null:t.current),[r.search]),o=Ha(),i=h.useCallback((a,c)=>{const u=eh(typeof a=="function"?a(s):a);n.current=!0,o("?"+u,c)},[o,s]);return[s,i]}const sI="modulepreload",oI=function(e){return"/"+e},Rv={},Us=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=oI(c),c in Rv)return;Rv[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":sI,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},iI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>pi);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class gu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Kb extends gu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class th extends gu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nh extends gu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kc||(kc={}));var aI=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class lI{constructor(t,{headers:n={},customFetch:r,region:s=kc.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=iI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return aI(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(a["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(a["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(a["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(v=>{throw new Kb(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new th(f);if(!f.ok)throw new nh(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return p==="application/json"?b=yield f.json():p==="application/octet-stream"?b=yield f.blob():p==="text/event-stream"?b=f:p==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof nh||s instanceof th?s.context:void 0}}})}}var Ct={},Jp={},vu={},Wa={},yu={},wu={},cI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ei=cI();const uI=ei.fetch,Yb=ei.fetch.bind(ei),Qb=ei.Headers,dI=ei.Request,fI=ei.Response,pi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qb,Request:dI,Response:fI,default:Yb,fetch:uI},Symbol.toStringTag,{value:"Module"})),hI=$k(pi);var xu={};Object.defineProperty(xu,"__esModule",{value:!0});let pI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xu.default=pI;var Jb=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wu,"__esModule",{value:!0});const mI=Jb(hI),gI=Jb(xu);let vI=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=mI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,c,u;let d=null,f=null,m=null,p=o.status,b=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=y:f=JSON.parse(y))}const S=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");S&&w&&w.length>1&&(m=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,b="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const S=await o.text();try{d=JSON.parse(S),Array.isArray(d)&&o.status===404&&(f=[],d=null,p=200,b="OK")}catch{o.status===404&&S===""?(p=204,b="No Content"):d={message:S}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,b="OK"),d&&this.shouldThrowOnError)throw new gI.default(d)}return{error:d,data:f,count:m,status:p,statusText:b}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};wu.default=vI;var yI=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yu,"__esModule",{value:!0});const wI=yI(wu);let xI=class extends wI.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};yu.default=xI;var bI=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wa,"__esModule",{value:!0});const SI=bI(yu);let _I=class extends SI.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Wa.default=_I;var kI=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vu,"__esModule",{value:!0});const Ti=kI(Wa);let EI=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new Ti.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){const a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ti.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ti.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ti.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ti.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};vu.default=EI;var Xb=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jp,"__esModule",{value:!0});const CI=Xb(vu),NI=Xb(Wa);let jI=class Zb{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new CI.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Zb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let a;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(a="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new NI.default({method:a,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Jp.default=jI;var mi=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;const eS=mi(Jp);Ct.PostgrestClient=eS.default;const tS=mi(vu);Ct.PostgrestQueryBuilder=tS.default;const nS=mi(Wa);Ct.PostgrestFilterBuilder=nS.default;const rS=mi(yu);Ct.PostgrestTransformBuilder=rS.default;const sS=mi(wu);Ct.PostgrestBuilder=sS.default;const oS=mi(xu);Ct.PostgrestError=oS.default;var TI=Ct.default={PostgrestClient:eS.default,PostgrestQueryBuilder:tS.default,PostgrestFilterBuilder:nS.default,PostgrestTransformBuilder:rS.default,PostgrestBuilder:sS.default,PostgrestError:oS.default};const{PostgrestClient:PI,PostgrestQueryBuilder:r5,PostgrestFilterBuilder:s5,PostgrestTransformBuilder:o5,PostgrestBuilder:i5,PostgrestError:AI}=TI;class iS{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const II="2.15.5",RI=`realtime-js/${II}`,OI="1.0.0",rh=1e4,MI=1e3,DI=100;var Ji;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ji||(Ji={}));var Ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ge||(Ge={}));var ln;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ln||(ln={}));var sh;(function(e){e.websocket="websocket"})(sh||(sh={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class LI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class aS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const Ov=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=$I(i,e,t,s),o),{})},$I=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?lS(o,i):oh(i)},lS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return zI(t,n)}switch(e){case Ee.bool:return FI(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return UI(t);case Ee.json:case Ee.jsonb:return BI(t);case Ee.timestamp:return HI(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return oh(t);default:return oh(t)}},oh=e=>e,FI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zI=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>lS(t,a))}return e},HI=e=>typeof e=="string"?e.replace(" ","T"):e,cS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class wd{constructor(t,n,r={},s=rh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ih;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ih||(ih={}));class jo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jo.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=jo.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=jo.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const m=d.map(S=>S.presence_ref),p=f.map(S=>S.presence_ref),b=d.filter(S=>p.indexOf(S.presence_ref)<0),v=f.filter(S=>m.indexOf(S.presence_ref)<0);b.length>0&&(a[u]=b),v.length>0&&(c[u]=v)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...m)}r(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ah;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ah||(ah={}));var To;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(To||(To={}));var bn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bn||(bn={}));class bu{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wd(this,ln.join,this.params,this.timeout),this.rejoinTimer=new aS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new jo(this),this.broadcastEndpointURL=cS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:i,presence:a,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[To.PRESENCE]&&this.bindings[To.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(bn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(bn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){t==null||t(bn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,S=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,w=[];for(let y=0;y<S;y++){const g=v[y],{filter:{event:x,schema:_,table:E,filter:j}}=g,k=p&&p[y];if(k&&k.event===x&&k.schema===_&&k.table===E&&k.filter===j)w.push(Object.assign(Object.assign({},g),{id:k.id}));else{this.unsubscribe(),this.state=Ge.errored,t==null||t(bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(bn.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ge.errored,t==null||t(bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ge.joined&&t===To.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ge.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new wd(this,ln.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wd(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>DI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=ln;if(r&&[a,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,v,S;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(v=p.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===i}).map(p=>p.callback(m,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var b,v,S,w,y,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const x=p.id,_=(b=p.filter)===null||b===void 0?void 0:b.event;return x&&((v=n.ids)===null||v===void 0?void 0:v.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const x=(y=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:v,table:S,commit_timestamp:w,type:y,errors:g}=b;m=Object.assign(Object.assign({},{schema:v,table:S,commit_timestamp:w,eventType:y,new:{},old:{},errors:g}),this._getPayloadRecords(b))}p.callback(m,r)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&bu.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ln.close,{},t)}_onError(t){this._on(ln.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ov(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ov(t.columns,t.old_record)),n}}const xd=()=>{},vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WI=[1e3,2e3,5e3,1e4],VI=1e4,qI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uS{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rh,this.transport=null,this.heartbeatIntervalMs=vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xd,this.ref=0,this.reconnectTimer=null,this.logger=xd,this.conn=null,this.sendBuffer=[],this.serializer=new LI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>Us(async()=>{const{default:a}=await Promise.resolve().then(()=>pi);return{default:a}},void 0).then(({default:a})=>a(...i)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${sh.websocket}`,this.httpEndpoint=cS(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ji.connecting:return as.Connecting;case Ji.open:return as.Open;case Ji.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new bu(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(MI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:i}=n,a=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ln.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([qI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:RI};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ln.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new aS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,i,a,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:rh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:vl.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:xd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>WI[f-1]||VI,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Xp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class GI extends Xp{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lh extends Xp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var KI=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const dS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>pi);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},YI=()=>KI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Us(()=>Promise.resolve().then(()=>pi),void 0)).Response:Response}),ch=e=>{if(Array.isArray(e))return e.map(n=>ch(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=ch(r)}),t},QI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Bs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const bd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JI=(e,t,n)=>Bs(void 0,void 0,void 0,function*(){const r=yield YI();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new GI(bd(s),o,i))}).catch(s=>{t(new lh(bd(s),s))}):t(new lh(bd(e),e))}),XI=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(QI(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Va(e,t,n,r,s,o){return Bs(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,XI(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>JI(c,a,r))})})}function Ec(e,t,n,r){return Bs(this,void 0,void 0,function*(){return Va(e,"GET",t,n,r)})}function xn(e,t,n,r,s){return Bs(this,void 0,void 0,function*(){return Va(e,"POST",t,r,s,n)})}function uh(e,t,n,r,s){return Bs(this,void 0,void 0,function*(){return Va(e,"PUT",t,r,s,n)})}function ZI(e,t,n,r){return Bs(this,void 0,void 0,function*(){return Va(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fS(e,t,n,r,s){return Bs(this,void 0,void 0,function*(){return Va(e,"DELETE",t,r,s,n)})}var gt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const eR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tR{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=dS(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return gt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Mv),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?uh:xn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}upload(t,n,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return gt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Mv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield uh(this.fetch,a.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return gt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield xn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Xp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}update(t,n,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return gt(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}copy(t,n,r){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return gt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield xn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return gt(this,void 0,void 0,function*(){try{const s=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}download(t,n){return gt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ec(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ke(a))return{data:null,error:a};throw a}})}info(t){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ec(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ch(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}exists(t){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ZI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r)&&r instanceof lh){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return gt(this,void 0,void 0,function*(){try{return{data:yield fS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}list(t,n,r){return gt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},eR),n),{prefix:t||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}listV2(t,n){return gt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const nR="2.12.1",rR={"X-Client-Info":`storage-js/${nR}`};var qs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class sR{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},rR),n),this.fetch=dS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qs(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ke(t))return{data:null,error:t};throw t}})}getBucket(t){return qs(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return qs(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return qs(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qs(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qs(this,void 0,void 0,function*(){try{return{data:yield fS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}}class oR extends sR{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new tR(this.url,this.headers,t,this.fetch)}}const iR="2.57.4";let Di="";typeof Deno<"u"?Di="deno":typeof document<"u"?Di="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Di="react-native":Di="node";const aR={"X-Client-Info":`supabase-js-${Di}/${iR}`},lR={headers:aR},cR={schema:"public"},uR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dR={};var fR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const hR=e=>{let t;return e?t=e:typeof fetch>"u"?t=Yb:t=fetch,(...n)=>t(...n)},pR=()=>typeof Headers>"u"?Qb:Headers,mR=(e,t,n)=>{const r=hR(n),s=pR();return(o,i)=>fR(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var gR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function vR(e){return e.endsWith("/")?e:e+"/"}function yR(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>gR(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function wR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vR(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hS="2.71.1",no=30*1e3,dh=3,Sd=dh*no,xR="http://localhost:9999",bR="supabase.auth.token",SR={"X-Client-Info":`gotrue-js/${hS}`},fh="X-Supabase-Api-Version",pS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_R=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kR=10*60*1e3;class Su extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mS extends Su{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function gS(e){return ae(e)&&e.name==="AuthApiError"}class Zp extends Su{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class or extends Su{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Bn extends or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vS(e){return ae(e)&&e.name==="AuthSessionMissingError"}class Li extends or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $i extends or{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fi extends or{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yS(e){return ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class hh extends or{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cc extends or{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Fl(e){return ae(e)&&e.name==="AuthRetryableFetchError"}class ph extends or{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Nc extends or{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dv=` 	
\r=`.split(""),ER=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Dv.length;t+=1)e[Dv[t].charCodeAt(0)]=-2;for(let t=0;t<jc.length;t+=1)e[jc[t].charCodeAt(0)]=t;return e})();function Lv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(jc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(jc[r]),t.queuedBits-=6}}function wS(e,t,n){const r=ER[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $v(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{jR(i,r,n)};for(let i=0;i<e.length;i+=1)wS(e.charCodeAt(i),s,o);return t.join("")}function CR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function NR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}CR(r,t)}}function jR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function TR(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)wS(e.charCodeAt(s),n,r);return new Uint8Array(t)}function PR(e){const t=[];return NR(e,n=>t.push(n)),new Uint8Array(t)}function AR(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Lv(s,n,r)),Lv(null,n,r),t.join("")}function IR(e){return Math.round(Date.now()/1e3)+e}function RR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const en=()=>typeof window<"u"&&typeof document<"u",es={tested:!1,writable:!1},xS=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(es.tested)return es.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),es.tested=!0,es.writable=!0}catch{es.tested=!0,es.writable=!1}return es.writable};function OR(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const bS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>pi);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},MR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ro=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ts=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fr=async(e,t)=>{await e.removeItem(t)};let SS=class _S{constructor(){this.promise=new _S.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};SS.promiseConstructor=Promise;function _d(e){const t=e.split(".");if(t.length!==3)throw new Nc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!_R.test(t[r]))throw new Nc("JWT not in base64url format");return{header:JSON.parse($v(t[0])),payload:JSON.parse($v(t[1])),signature:TR(t[2]),raw:{header:t[0],payload:t[1]}}}async function DR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function LR(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function $R(e){return("0"+e.toString(16)).substr(-2)}function FR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,$R).join("")}async function UR(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function BR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await UR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gs(e,t,n=!1){const r=FR();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ro(e,`${t}-code-verifier`,s);const o=await BR(r);return[o,r===o?"plain":"s256"]}const zR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HR(e){const t=e.headers.get(fh);if(!t||!t.match(zR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function WR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function VR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(e){if(!qR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fv(e){return JSON.parse(JSON.stringify(e))}var GR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ss=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KR=[502,503,504];async function Uv(e){var t;if(!MR(e))throw new Cc(ss(e),0);if(KR.includes(e.status))throw new Cc(ss(e),e.status);let n;try{n=await e.json()}catch(o){throw new Zp(ss(o),o)}let r;const s=HR(e);if(s&&s.getTime()>=pS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ph(ss(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new ph(ss(n),e.status,n.weak_password.reasons);throw new mS(ss(n),e.status||500,r)}const YR=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function pe(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[fh]||(o[fh]=pS["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await QR(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function QR(e,t,n,r,s,o){const i=YR(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Cc(ss(c),0)}if(a.ok||await Uv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await Uv(c)}}function Fn(e){var t;let n=null;eO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=IR(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Bv(e){const t=Fn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function JR(e){return{data:e,error:null}}function XR(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=GR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function ZR(e){return e}function eO(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ul=["global","local","others"];var tO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class kS{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=bS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Ul[0]){if(Ul.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ul.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=tO(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:XR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:ZR});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);u[`${S}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ks(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ks(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ks(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ks(t.userId);try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ks(t.userId),Ks(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function zv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function nO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const os={debug:!!(globalThis&&xS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ES extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class CS extends ES{}async function NS(e,t,n){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new CS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(os.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}nO();const rO={url:xR,storageKey:bR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hv(e,t,n){return await n()}const Ys={};class ti{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ti.nextInstanceID,ti.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},rO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new kS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bS(s.fetch),this.lock=s.lock||Hv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=NS:this.lock=Hv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:xS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=zv(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ys[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ys[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=OR(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),en()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),yS(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?{error:n}:{error:new Zp("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Fn}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Gs(this.storage,this.storageKey)),o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:b},xform:Fn})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Fn})}else throw new $i("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bv})}else throw new $i("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Li}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,a,c,u,d,f,m,p;let b,v;if("message"in t)b=t.message,v=t.signature;else{const{chain:S,wallet:w,statement:y,options:g}=t;let x;if(en())if(typeof w=="object")x=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let j;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")j=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)j=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),v=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:S,error:w}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:AR(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Fn});if(w)throw w;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Li}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:w})}catch(S){if(ae(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await ts(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Fn});if(await fr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Li}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ae(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Fn}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Li}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gs(this.storage,this.storageKey));const{error:f}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new $i("You must provide either an email or phone number.")}catch(a){if(ae(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Fn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Gs(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:JR})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Bn;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ae(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new $i("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Sd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await ts(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=kd()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:xr})})}catch(n){if(ae(n))return vS(n)&&(await this._removeSession(),await fr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Bn;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Gs(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:xr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=_d(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Bn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!en())throw new Fi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new hh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new hh("No code detected.");const{data:y,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new Fi("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=no&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=m-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,d);const{data:v,error:S}=await this._getUser(o);if(S)throw S;const w={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(ae(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ts(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(gS(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await fr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=RR(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Gs(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ae(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,c,u,d;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return en()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ae(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await LR(async s=>(s>0&&await DR(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Fl(o)&&Date.now()+i-r<no})}catch(r){if(this._debug(n,"error",r),ae(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),en()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ts(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ts(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ro(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:kd()}else if(s&&!s.user&&!s.user){const i=await ts(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await fr(this.storage,this.storageKey+"-user"),await ro(this.storage,this.storageKey,s)):s.user=kd()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Sd;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Sd}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Fl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new SS;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Bn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),ae(o)){const i={session:null,error:o};return Fl(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ro(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Fv(s);await ro(this.storage,this.storageKey,o)}else{const s=Fv(n);await ro(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await fr(this.storage,this.storageKey),await fr(this.storage,this.storageKey+"-code-verifier"),await fr(this.storage,this.storageKey+"-user"),this.userStorage&&await fr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),no);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/no);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${no}ms, refresh threshold is ${dh} ticks`),s<=dh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ES)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Gs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=_d(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+kR>s)return r;const{data:o,error:i}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};r=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=_d(r);n!=null&&n.allowExpired||WR(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const d=VR(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,PR(`${a}.${c}`)))throw new Nc("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}}ti.nextInstanceID=0;const jS=ti;class sO extends jS{constructor(t){super(t)}}var oO=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class TS{constructor(t,n,r){var s,o,i;this.supabaseUrl=t,this.supabaseKey=n;const a=wR(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:cR,realtime:dR,auth:Object.assign(Object.assign({},uR),{storageKey:c}),global:lR},d=yR(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=mR(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new PI(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new oR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new lI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return oO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:i,flowType:a,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sO({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,flowType:a,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new uS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _u=(e,t,n)=>new TS(e,t,n);function iO(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}iO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aO=Object.freeze(Object.defineProperty({__proto__:null,AuthApiError:mS,AuthClient:jS,AuthError:Su,AuthImplicitGrantRedirectError:Fi,AuthInvalidCredentialsError:$i,AuthInvalidJwtError:Nc,AuthInvalidTokenResponseError:Li,AuthPKCEGrantCodeExchangeError:hh,AuthRetryableFetchError:Cc,AuthSessionMissingError:Bn,AuthUnknownError:Zp,AuthWeakPasswordError:ph,CustomAuthError:or,get FunctionRegion(){return kc},FunctionsError:gu,FunctionsFetchError:Kb,FunctionsHttpError:nh,FunctionsRelayError:th,GoTrueAdminApi:kS,GoTrueClient:ti,NavigatorLockAcquireTimeoutError:CS,PostgrestError:AI,get REALTIME_LISTEN_TYPES(){return To},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return ah},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ih},get REALTIME_SUBSCRIBE_STATES(){return bn},RealtimeChannel:bu,RealtimeClient:uS,RealtimePresence:jo,SIGN_OUT_SCOPES:Ul,SupabaseClient:TS,WebSocketFactory:iS,createClient:_u,isAuthApiError:gS,isAuthError:ae,isAuthImplicitGrantRedirectError:yS,isAuthRetryableFetchError:Fl,isAuthSessionMissingError:vS,lockInternals:os,navigatorLock:NS},Symbol.toStringTag,{value:"Module"})),lO="https://yqmzguttrtsrwoeghnab.supabase.co",cO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlxbXpndXR0cnRzcndvZWdobmFiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0MDI4ODIsImV4cCI6MjA3MTk3ODg4Mn0.R2W3_f0oMVvAI_Qt1V4hTA_K6ATfHhQ1KImRAIj1DkI",q=_u(lO,cO,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),uO=(e="home")=>{const[t,n]=h.useState({stack:[e],currentIndex:0}),r=h.useCallback(u=>{n(d=>{if(d.stack[d.currentIndex]===u)return d;const f=[...d.stack.slice(0,d.currentIndex+1),u];return{stack:f,currentIndex:f.length-1}})},[]),s=h.useCallback(()=>(n(u=>u.currentIndex>0?{...u,currentIndex:u.currentIndex-1}:u),t.currentIndex>0?t.stack[t.currentIndex-1]:null),[t]),o=h.useCallback(()=>(n(u=>u.currentIndex<u.stack.length-1?{...u,currentIndex:u.currentIndex+1}:u),t.currentIndex<t.stack.length-1?t.stack[t.currentIndex+1]:null),[t]),i=t.currentIndex>0,a=t.currentIndex<t.stack.length-1;return{currentTab:t.stack[t.currentIndex],navigateTo:r,goBack:s,goForward:o,canGoBack:i,canGoForward:a,history:t.stack}},dO="Left",fO="Right",hO="Up",pO="Down",vo={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},mh={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Wv="mousemove",Vv="mouseup",mO="touchend",gO="touchmove",vO="touchstart";function yO(e,t,n,r){return e>t?n>0?fO:dO:r>0?pO:hO}function qv(e,t){if(t===0)return e;const n=Math.PI/180*t,r=e[0]*Math.cos(n)+e[1]*Math.sin(n),s=e[1]*Math.cos(n)-e[0]*Math.sin(n);return[r,s]}function wO(e,t){const n=d=>{const f="touches"in d;f&&d.touches.length>1||e((m,p)=>{p.trackMouse&&!f&&(document.addEventListener(Wv,r),document.addEventListener(Vv,i));const{clientX:b,clientY:v}=f?d.touches[0]:d,S=qv([b,v],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},m),mh),{initial:S.slice(),xy:S,start:d.timeStamp||0})})},r=d=>{e((f,m)=>{const p="touches"in d;if(p&&d.touches.length>1)return f;if(d.timeStamp-f.start>m.swipeDuration)return f.swiping?Object.assign(Object.assign({},f),{swiping:!1}):f;const{clientX:b,clientY:v}=p?d.touches[0]:d,[S,w]=qv([b,v],m.rotationAngle),y=S-f.xy[0],g=w-f.xy[1],x=Math.abs(y),_=Math.abs(g),E=(d.timeStamp||0)-f.start,j=Math.sqrt(x*x+_*_)/(E||1),k=[y/(E||1),g/(E||1)],N=yO(x,_,y,g),T=typeof m.delta=="number"?m.delta:m.delta[N.toLowerCase()]||vo.delta;if(x<T&&_<T&&!f.swiping)return f;const R={absX:x,absY:_,deltaX:y,deltaY:g,dir:N,event:d,first:f.first,initial:f.initial,velocity:j,vxvy:k};R.first&&m.onSwipeStart&&m.onSwipeStart(R),m.onSwiping&&m.onSwiping(R);let I=!1;return(m.onSwiping||m.onSwiped||m[`onSwiped${N}`])&&(I=!0),I&&m.preventScrollOnSwipe&&m.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},f),{first:!1,eventData:R,swiping:!0})})},s=d=>{e((f,m)=>{let p;if(f.swiping&&f.eventData){if(d.timeStamp-f.start<m.swipeDuration){p=Object.assign(Object.assign({},f.eventData),{event:d}),m.onSwiped&&m.onSwiped(p);const b=m[`onSwiped${p.dir}`];b&&b(p)}}else m.onTap&&m.onTap({event:d});return m.onTouchEndOrOnMouseUp&&m.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},f),mh),{eventData:p})})},o=()=>{document.removeEventListener(Wv,r),document.removeEventListener(Vv,i)},i=d=>{o(),s(d)},a=(d,f)=>{let m=()=>{};if(d&&d.addEventListener){const p=Object.assign(Object.assign({},vo.touchEventOptions),f.touchEventOptions),b=[[vO,n,p],[gO,r,Object.assign(Object.assign({},p),f.preventScrollOnSwipe?{passive:!1}:{})],[mO,s,p]];b.forEach(([v,S,w])=>d.addEventListener(v,S,w)),m=()=>b.forEach(([v,S])=>d.removeEventListener(v,S))}return m},u={ref:d=>{d!==null&&e((f,m)=>{if(f.el===d)return f;const p={};return f.el&&f.el!==d&&f.cleanUpTouch&&(f.cleanUpTouch(),p.cleanUpTouch=void 0),m.trackTouch&&d&&(p.cleanUpTouch=a(d,m)),Object.assign(Object.assign(Object.assign({},f),{el:d}),p)})}};return t.trackMouse&&(u.onMouseDown=n),[u,a]}function xO(e,t,n,r){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==n.preventScrollOnSwipe||t.touchEventOptions.passive!==n.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,t)})}function bO(e){const{trackMouse:t}=e,n=h.useRef(Object.assign({},mh)),r=h.useRef(Object.assign({},vo)),s=h.useRef(Object.assign({},r.current));s.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},vo),e);let o;for(o in vo)r.current[o]===void 0&&(r.current[o]=vo[o]);const[i,a]=h.useMemo(()=>wO(c=>n.current=c(n.current,r.current),{trackMouse:t}),[t]);return n.current=xO(n.current,r.current,s.current,a),i}const SO=({onBackGesture:e,onForwardGesture:t,enableBackGesture:n=!0,enableForwardGesture:r=!1})=>{const s=h.useRef(0),o=h.useRef(0);return bO({onTouchStartOrOnMouseDown:({event:a})=>{"touches"in a&&a.touches.length>0?(s.current=a.touches[0].clientX,o.current=a.touches[0].clientY):"clientX"in a&&(s.current=a.clientX,o.current=a.clientY)},onSwiped:a=>{const{dir:c,deltaX:u,deltaY:d,event:f}=a,m=s.current;o.current;const p=window.innerWidth,b=m<=50,v=m>=p-50,S=Math.abs(u)>Math.abs(d)*1.5,y=Math.abs(u)>=100;S&&y&&(c==="Right"&&b&&n&&e?e():c==="Left"&&v&&r&&t&&t())},trackMouse:!1,trackTouch:!0,preventScrollOnSwipe:!1,delta:10})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var ni;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(ni||(ni={}));class Po extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const _O=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},kO=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:_O(e),o=()=>s()!=="web",i=f=>{const m=u.get(f);return!!(m!=null&&m.platforms.has(s())||a(f))},a=f=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(p=>p.name===f)},c=f=>e.console.error(f),u=new Map,d=(f,m={})=>{const p=u.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const b=s(),v=a(f);let S;const w=async()=>(!S&&b in m?S=typeof m[b]=="function"?S=await m[b]():S=m[b]:t!==null&&!S&&"web"in m&&(S=typeof m.web=="function"?S=await m.web():S=m.web),S),y=(k,N)=>{var T,R;if(v){const I=v==null?void 0:v.methods.find(U=>N===U.name);if(I)return I.rtype==="promise"?U=>n.nativePromise(f,N.toString(),U):(U,O)=>n.nativeCallback(f,N.toString(),U,O);if(k)return(T=k[N])===null||T===void 0?void 0:T.bind(k)}else{if(k)return(R=k[N])===null||R===void 0?void 0:R.bind(k);throw new Po(`"${f}" plugin is not implemented on ${b}`,ni.Unimplemented)}},g=k=>{let N;const T=(...R)=>{const I=w().then(U=>{const O=y(U,k);if(O){const K=O(...R);return N=K==null?void 0:K.remove,K}else throw new Po(`"${f}.${k}()" is not implemented on ${b}`,ni.Unimplemented)});return k==="addListener"&&(I.remove=async()=>N()),I};return T.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(T,"name",{value:k,writable:!1,configurable:!1}),T},x=g("addListener"),_=g("removeListener"),E=(k,N)=>{const T=x({eventName:k},N),R=async()=>{const U=await T;_({eventName:k,callbackId:U},N)},I=new Promise(U=>T.then(()=>U({remove:R})));return I.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await R()},I},j=new Proxy({},{get(k,N){switch(N){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?E:x;case"removeListener":return _;default:return g(N)}}});return r[f]=j,u.set(f,{name:f,proxy:j,platforms:new Set([...Object.keys(m),...v?[b]:[]])}),j};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=s,n.handleError=c,n.isNativePlatform=o,n.isPluginAvailable=i,n.registerPlugin=d,n.Exception=Po,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},EO=e=>e.Capacitor=kO(e),we=EO(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),qa=we.registerPlugin;class em{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(t);const i=async()=>this.removeListener(t,n);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let o=this.retainedEventArguments[t];o||(o=[]),o.push(n),this.retainedEventArguments[t]=o}return}s.forEach(o=>o(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new we.Exception(t,ni.Unimplemented)}unavailable(t="not available"){return new we.Exception(t,ni.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const Gv=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Kv=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class CO extends em{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Kv(s).trim(),o=Kv(o).trim(),n[s]=o}),n}async setCookie(t){try{const n=Gv(t.key),r=Gv(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,o=(t.path||"/").replace("path=",""),i=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${o}; ${i};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}qa("CapacitorCookies",{web:()=>new CO});const NO=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),jO=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,o,i)=>(s[o]=e[t[i]],s),{})},TO=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[o,i]=s;let a,c;return Array.isArray(i)?(c="",i.forEach(u=>{a=t?encodeURIComponent(u):u,c+=`${o}=${a}&`}),c.slice(0,-1)):(a=t?encodeURIComponent(i):i,c=`${o}=${a}`),`${r}&${c}`},"").substr(1):null,PO=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=jO(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[i,a]of Object.entries(e.data||{}))o.set(i,a);n.body=o.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((a,c)=>{o.append(c,a)});else for(const a of Object.keys(e.data))o.append(a,e.data[a]);n.body=o;const i=new Headers(n.headers);i.delete("content-type"),n.headers=i}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class AO extends em{async request(t){const n=PO(t,t.webFetchExtra),r=TO(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,o=await fetch(s,n),i=o.headers.get("content-type")||"";let{responseType:a="text"}=o.ok?t:{};i.includes("application/json")&&(a="json");let c,u;switch(a){case"arraybuffer":case"blob":u=await o.blob(),c=await NO(u);break;case"json":c=await o.json();break;case"document":case"text":default:c=await o.text()}const d={};return o.headers.forEach((f,m)=>{d[m]=f}),{data:c,headers:d,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}qa("CapacitorHttp",{web:()=>new AO});const ke=qa("PushNotifications",{});class IO{constructor(){$e(this,"isInitialized",!1);$e(this,"currentUser",null)}async initialize(t){if(!this.isInitialized){if(this.currentUser=t,!we.isNativePlatform()){console.log("FCM: Not available on web platform");return}try{this.setupListeners(),(await ke.checkPermissions()).receive==="granted"?console.log("FCM: Permission already granted"):console.log("FCM: Permission not granted yet"),this.isInitialized=!0,console.log("FCM: Service initialized"),console.log("FCM started")}catch(n){console.error("FCM: Initialization error:",n),console.log("FCM startup failed:",n.message),this.isInitialized=!0}}}async requestPermissions(){if(!we.isNativePlatform())return console.log("FCM: Push notifications not available on web"),!1;try{return(await ke.requestPermissions()).receive==="granted"?(console.log("FCM: Permission granted"),setTimeout(async()=>{try{await ke.register(),console.log("FCM: Registration successful")}catch(n){console.error("FCM: Registration error:",n)}},500),!0):(console.log("FCM: Permission denied"),!1)}catch(t){return console.error("FCM: Permission request error:",t),!1}}setupListeners(){ke.addListener("registration",async t=>{console.log("FCM: Registration token received:",t.value),await this.saveFCMToken(t.value)}),ke.addListener("registrationError",t=>{console.error("FCM: Registration error:",t)}),ke.addListener("pushNotificationReceived",t=>{console.log("FCM: Notification received:",t),this.handleForegroundNotification(t)}),ke.addListener("pushNotificationActionPerformed",t=>{console.log("FCM: Notification action performed:",t),this.handleNotificationAction(t)})}async saveFCMToken(t){if(!this.currentUser){console.log("FCM: No user logged in, cannot save token");return}try{const n=we.getPlatform(),r={platform:n,timestamp:new Date().toISOString(),capacitorVersion:we.getPlatform()},{error:s}=await q.from("fcm_tokens").upsert({user_id:this.currentUser.id,token:t,platform:n,device_info:r,app_version:"1.0.0",is_active:!0,last_used:new Date().toISOString(),updated_at:new Date().toISOString()},{onConflict:"user_id,token"});if(s){console.error("FCM: Error saving token with new schema:",s),console.log("FCM: Trying fallback with old schema...");const{error:o}=await q.from("fcm_tokens").upsert({user_id:this.currentUser.id,token:t,device_type:n,device_id:`${n}_${Date.now()}`,updated_at:new Date().toISOString()},{onConflict:"user_id,token"});if(o)throw console.error("FCM: Error saving token with fallback schema:",o),new Error("Failed to save FCM token to database");console.log("FCM: Token saved successfully with fallback schema")}else console.log("FCM: Token saved successfully with new schema")}catch(n){throw console.error("FCM: Error saving token:",n),n}}handleForegroundNotification(t){console.log("FCM: Foreground notification:",t.title,t.body),this.showInAppNotification(t)}handleNotificationAction(t){const n=t.notification.data;if(n!=null&&n.type)switch(n.type){case"meal_reminder":this.navigateToCamera();break;case"health_insight":this.navigateToDashboard();break;case"goal_achievement":this.navigateToProfile();break;default:this.navigateToDashboard()}}showInAppNotification(t){typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("fcm-notification",{detail:{title:t.title,body:t.body,data:t.data}}))}navigateToCamera(){typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("fcm-navigate",{detail:{route:"camera"}}))}navigateToDashboard(){typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("fcm-navigate",{detail:{route:"home"}}))}navigateToProfile(){typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("fcm-navigate",{detail:{route:"profile"}}))}async sendNotification(t,n){try{const{data:r,error:s}=await q.functions.invoke("fcm-notifications",{body:{userId:t,title:n.title,body:n.body,data:n.data,type:n.type,priority:n.priority}});return s?(console.error("FCM: Error sending notification:",s),!1):(console.log("FCM: Notification sent successfully:",r),!0)}catch(r){return console.error("FCM: Error sending notification:",r),!1}}async sendBulkNotification(t,n){try{const{data:r,error:s}=await q.functions.invoke("fcm-notifications",{body:{userIds:t,title:n.title,body:n.body,data:n.data,type:n.type,priority:n.priority}});return s?(console.error("FCM: Error sending bulk notification:",s),!1):(console.log("FCM: Bulk notification sent successfully:",r),!0)}catch(r){return console.error("FCM: Error sending bulk notification:",r),!1}}async scheduleNotification(t){try{const n=t.scheduleType==="once"?"schedule":"recurring",{data:r,error:s}=await q.functions.invoke("notification-scheduler",{body:t});return s?(console.error("FCM: Error scheduling notification:",s),!1):(console.log("FCM: Notification scheduled successfully:",r),!0)}catch(n){return console.error("FCM: Error scheduling notification:",n),!1}}async cancelScheduledNotification(t){try{const{data:n,error:r}=await q.functions.invoke("notification-scheduler/cancel",{body:{scheduleId:t}});return r?(console.error("FCM: Error cancelling notification:",r),!1):(console.log("FCM: Notification cancelled successfully:",n),!0)}catch(n){return console.error("FCM: Error cancelling notification:",n),!1}}async getScheduledNotifications(t){try{const{data:n,error:r}=await q.functions.invoke(`notification-scheduler/list?userId=${t}`);return r?(console.error("FCM: Error fetching scheduled notifications:",r),[]):(n==null?void 0:n.schedules)||[]}catch(n){return console.error("FCM: Error fetching scheduled notifications:",n),[]}}async cleanup(){if(we.isNativePlatform())try{await ke.removeAllListeners(),this.currentUser&&await q.from("fcm_tokens").update({is_active:!1}).eq("user_id",this.currentUser.id),this.isInitialized=!1,this.currentUser=null,console.log("FCM: Service cleaned up")}catch(t){console.error("FCM: Cleanup error:",t)}}}const Sn=new IO;function tm(e){const[t,n]=h.useState([]),[r,s]=h.useState(0),[o,i]=h.useState(null),[a,c]=h.useState([]),[u,d]=h.useState(!1);h.useEffect(()=>{(async()=>{if(e)try{console.log("FCM Hook: Starting FCM initialization for user:",e.id),await Sn.initialize(e),console.log("FCM Hook: FCM initialization completed"),await f(),await m(),await p(),console.log("FCM Hook: All FCM components loaded successfully")}catch(N){console.error("FCM initialization error:",N),console.log("FCM Hook: FCM initialization failed:",N.message)}else console.log("FCM Hook: No user, cleaning up FCM"),await Sn.cleanup(),n([]),s(0),i(null),c([])})()},[e]),h.useEffect(()=>{if(!e)return;const k=q.channel("fcm-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},N=>{console.log("FCM: New notification received:",N);const T=N.new;n(R=>[T,...R]),s(R=>R+1),X.success(T.title,{description:T.body})}).subscribe();return()=>{q.removeChannel(k)}},[e]),h.useEffect(()=>{const k=T=>{const{title:R,body:I,data:U}=T.detail;X.info(R,{description:I})},N=T=>{const{route:R}=T.detail;console.log("FCM: Navigate to:",R)};return typeof window<"u"&&(window.addEventListener("fcm-notification",k),window.addEventListener("fcm-navigate",N)),()=>{typeof window<"u"&&(window.removeEventListener("fcm-notification",k),window.removeEventListener("fcm-navigate",N))}},[]);const f=h.useCallback(async()=>{if(e)try{const{data:k,error:N}=await q.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50);if(N)throw N;n(k||[]),s((k==null?void 0:k.filter(T=>!T.is_read).length)||0)}catch(k){console.error("Error loading notifications:",k)}},[e]),m=h.useCallback(async()=>{if(e)try{const{data:k,error:N}=await q.from("notification_settings").select("*").eq("user_id",e.id).single();if(N&&N.code!=="PGRST116")throw N;if(k)i(k);else{const T={user_id:e.id,meal_reminders:!0,health_insights:!0,goal_achievements:!0,weekly_reports:!1,marketing:!1,quiet_hours_start:"22:00",quiet_hours_end:"08:00",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},{data:R,error:I}=await q.from("notification_settings").insert(T).select().single();I||i(R)}}catch(k){console.error("Error loading notification settings:",k)}},[e]),p=h.useCallback(async()=>{if(e)try{const k=await Sn.getScheduledNotifications(e.id);c(k)}catch(k){console.error("Error loading scheduled notifications:",k)}},[e]),b=h.useCallback(async()=>{try{const k=await Sn.requestPermissions();return k?X.success("Push notifications enabled!"):X.error("Push notification permission denied"),k}catch(k){return console.error("Error requesting FCM permissions:",k),X.error("Failed to request notification permissions"),!1}},[]),v=h.useCallback(async(k,N)=>{try{d(!0);const T=await Sn.sendNotification(k,N);return T?X.success("Notification sent successfully"):X.error("Failed to send notification"),T}catch(T){return console.error("Error sending notification:",T),X.error("Failed to send notification"),!1}finally{d(!1)}},[]),S=h.useCallback(async k=>{try{d(!0);const N=await Sn.scheduleNotification(k);return N?(X.success("Notification scheduled successfully"),await p()):X.error("Failed to schedule notification"),N}catch(N){return console.error("Error scheduling notification:",N),X.error("Failed to schedule notification"),!1}finally{d(!1)}},[p]),w=h.useCallback(async k=>{try{d(!0);const N=await Sn.cancelScheduledNotification(k);return N?(X.success("Scheduled notification cancelled"),await p()):X.error("Failed to cancel notification"),N}catch(N){return console.error("Error cancelling notification:",N),X.error("Failed to cancel notification"),!1}finally{d(!1)}},[p]),y=h.useCallback(async k=>{try{const{error:N}=await q.from("notifications").update({is_read:!0}).eq("id",k);if(N)throw N;n(T=>T.map(R=>R.id===k?{...R,is_read:!0}:R)),s(T=>Math.max(0,T-1))}catch(N){console.error("Error marking notification as read:",N)}},[]),g=h.useCallback(async()=>{if(e)try{const{error:k}=await q.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1);if(k)throw k;n(N=>N.map(T=>({...T,is_read:!0}))),s(0)}catch(k){console.error("Error marking all notifications as read:",k)}},[e]),x=h.useCallback(async k=>{if(!(!e||!o))try{const N={...o,...k},{error:T}=await q.from("notification_settings").update(N).eq("user_id",e.id);if(T)throw T;i(N),X.success("Notification settings updated")}catch(N){console.error("Error updating notification settings:",N),X.error("Failed to update settings")}},[e,o]),_=h.useCallback(async(k,N)=>{const T={title:`Time for ${N}!`,body:`Don't forget to log your ${N.toLowerCase()} to track your nutrition goals.`,type:"meal_reminder",priority:"normal",data:{mealType:N,action:"open_camera"}};return await v(k,T)},[v]),E=h.useCallback(async(k,N)=>await v(k,{title:"Health Insight",body:N,type:"health_insight",priority:"normal",data:{action:"open_dashboard"}}),[v]),j=h.useCallback(async(k,N)=>await v(k,{title:"Goal Achieved! ",body:N,type:"goal_achievement",priority:"high",data:{action:"open_profile"}}),[v]);return{notifications:t,unreadCount:r,settings:o,scheduledNotifications:a,isLoading:u,requestPermissions:b,sendNotification:v,scheduleNotification:S,cancelScheduledNotification:w,markAsRead:y,markAllAsRead:g,updateSettings:x,loadNotifications:f,loadScheduledNotifications:p,sendMealReminder:_,sendHealthInsight:E,sendGoalAchievement:j}}const RO=({show:e,onAnimationComplete:t})=>{const[n,r]=h.useState(!1);return h.useEffect(()=>{if(e){r(!0);const s=setTimeout(()=>{r(!1),t==null||t()},800);return()=>clearTimeout(s)}},[e,t]),n?l.jsx("div",{className:"fixed top-1/2 left-4 transform -translate-y-1/2 z-50 pointer-events-none",children:l.jsx("div",{className:"bg-primary/90 text-white rounded-full p-3 animate-fade-in shadow-lg",children:l.jsx(Mp,{className:"w-6 h-6"})})}):null},PS=h.createContext(void 0),Yv=({children:e,user:t})=>{const[n,r]=h.useState({calories:0,goal:2e3,protein:0,carbs:0,fats:0}),[s,o]=h.useState([{type:"breakfast",calories:0,items:0},{type:"lunch",calories:0,items:0},{type:"dinner",calories:0,items:0},{type:"snack",calories:0,items:0}]),[i,a]=h.useState(0),[c,u]=h.useState(!1),d=h.useCallback(async()=>{var p,b,v,S,w,y,g,x,_,E,j,k;if(t){u(!0);try{const{data:N}=await q.from("profiles").select("daily_calorie_goal").eq("user_id",t.id).single(),T=(N==null?void 0:N.daily_calorie_goal)||2e3,R=new Date().toISOString().split("T")[0],{data:I}=await q.from("meal_logs").select("*").eq("user_id",t.id).gte("logged_at",`${R}T00:00:00`).lte("logged_at",`${R}T23:59:59`).order("logged_at",{ascending:!0});if(I&&I.length>0){const U=I.reduce((M,B)=>({calories:M.calories+(B.calories||0),protein:M.protein+(B.protein||0),carbs:M.carbs+(B.carbs||0),fats:M.fats+(B.fats||0)}),{calories:0,protein:0,carbs:0,fats:0});r(M=>({...M,...U,goal:T})),a(U.calories);const O=I.reduce((M,B)=>{var A;return M[B.meal_type]||(M[B.meal_type]={calories:0,items:0,latestImage:null}),M[B.meal_type].calories+=B.calories||0,M[B.meal_type].items+=1,B.photo_url&&(!M[B.meal_type].latestImage||new Date(B.logged_at)>new Date(((A=I.find(C=>C.photo_url===M[B.meal_type].latestImage))==null?void 0:A.logged_at)||0))&&(M[B.meal_type].latestImage=B.photo_url),M},{}),K=[{type:"breakfast",calories:((p=O.breakfast)==null?void 0:p.calories)||0,items:((b=O.breakfast)==null?void 0:b.items)||0,imageUrl:((v=O.breakfast)==null?void 0:v.latestImage)||void 0},{type:"lunch",calories:((S=O.lunch)==null?void 0:S.calories)||0,items:((w=O.lunch)==null?void 0:w.items)||0,imageUrl:((y=O.lunch)==null?void 0:y.latestImage)||void 0},{type:"dinner",calories:((g=O.dinner)==null?void 0:g.calories)||0,items:((x=O.dinner)==null?void 0:x.items)||0,imageUrl:((_=O.dinner)==null?void 0:_.latestImage)||void 0},{type:"snack",calories:((E=O.snack)==null?void 0:E.calories)||0,items:((j=O.snack)==null?void 0:j.items)||0,imageUrl:((k=O.snack)==null?void 0:k.latestImage)||void 0}];o(K)}else r({calories:0,goal:T,protein:0,carbs:0,fats:0}),a(0),o([{type:"breakfast",calories:0,items:0},{type:"lunch",calories:0,items:0},{type:"dinner",calories:0,items:0},{type:"snack",calories:0,items:0}])}catch(N){console.error("Error refreshing calorie data:",N)}finally{u(!1)}}},[t]),f=h.useCallback(async p=>{if(t)try{const{error:b}=await q.from("profiles").update({daily_calorie_goal:p}).eq("user_id",t.id);b||r(v=>({...v,goal:p}))}catch(b){console.error("Error updating calorie goal:",b)}},[t]);h.useEffect(()=>{t?d():(r({calories:0,goal:2e3,protein:0,carbs:0,fats:0}),a(0),o([{type:"breakfast",calories:0,items:0},{type:"lunch",calories:0,items:0},{type:"dinner",calories:0,items:0},{type:"snack",calories:0,items:0}]))},[t,d]),h.useEffect(()=>{if(!t)return;const p=q.channel("meal_logs_changes").on("postgres_changes",{event:"*",schema:"public",table:"meal_logs",filter:`user_id=eq.${t.id}`},()=>{d()}).subscribe(),b=q.channel("profiles_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`user_id=eq.${t.id}`},v=>{v.new&&v.new.daily_calorie_goal&&r(S=>({...S,goal:v.new.daily_calorie_goal}))}).subscribe();return()=>{q.removeChannel(p),q.removeChannel(b)}},[t,d]);const m={dailyProgress:n,mealPreviews:s,calorieIntake:i,refreshCalorieData:d,updateCalorieGoal:f,isLoading:c};return l.jsx(PS.Provider,{value:m,children:e})},gi=()=>{const e=h.useContext(PS);if(e===void 0)throw new Error("useCalorieData must be used within a CalorieProvider");return e},OO="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",AS=async()=>{var r,s,o,i,a,c;console.log(" DEBUGGING FOOD RECOGNITION SYSTEM"),console.log(`=====================================
`);const e={authentication:!1,supabaseConnection:!1,edgeFunctionExists:!1,edgeFunctionWorking:!1,geminiApiConfigured:!1};console.log("1 Checking Authentication...");try{const{data:{user:u},error:d}=await q.auth.getUser();if(u&&!d)e.authentication=!0,console.log(" User authenticated:",u.email);else return console.log(" User not authenticated"),console.log("   Please log in to test food recognition"),e}catch(u){return console.log(" Authentication check failed:",u),e}console.log(`
2 Checking Supabase Connection...`);try{const{data:u,error:d}=await q.from("profiles").select("count").limit(1);if(!d)e.supabaseConnection=!0,console.log(" Supabase connection working");else return console.log(" Supabase connection failed:",d.message),e}catch(u){return console.log(" Supabase connection error:",u),e}console.log(`
3 Testing Edge Function Existence...`);try{const{data:u,error:d}=await q.functions.invoke("recognize-food",{body:{imageData:"test"}});e.edgeFunctionExists=!0,console.log(" Edge function exists and responds"),d?(console.log(" Edge function error (expected for test data):",d.message),(r=d.message)!=null&&r.includes("API key")||(s=d.message)!=null&&s.includes("key not configured")?console.log(" GEMINI_API_KEY not configured properly"):(e.geminiApiConfigured=!0,console.log(" GEMINI_API_KEY appears to be configured"))):(e.edgeFunctionWorking=!0,e.geminiApiConfigured=!0,console.log(" Edge function working perfectly"))}catch(u){console.log(" Edge function test failed:",u)}if(e.edgeFunctionExists){console.log(`
4 Testing with Real Image...`);try{const{data:u,error:d}=await q.functions.invoke("recognize-food",{body:{imageData:OO}});d?(console.log(" Real image test failed:",d.message),(o=d.message)!=null&&o.includes("Unauthorized")?console.log(" Solution: Log out and log back in"):(i=d.message)!=null&&i.includes("API key")?console.log(" Solution: Configure GEMINI_API_KEY in Supabase Edge Functions"):(a=d.message)!=null&&a.includes("timeout")&&console.log(" Solution: Check internet connection and try again")):(e.edgeFunctionWorking=!0,console.log(" Real image test successful!"),console.log(" Response:",{foodName:u==null?void 0:u.food_name,confidence:u==null?void 0:u.confidence,foodsDetected:((c=u==null?void 0:u.foods)==null?void 0:c.length)||0}))}catch(u){console.log(" Real image test error:",u)}}console.log(`
 DIAGNOSIS SUMMARY`),console.log("===================");const t=Object.values(e).filter(Boolean).length,n=Object.keys(e).length;return console.log(`Status: ${t}/${n} systems working`),e.authentication&&e.supabaseConnection&&e.edgeFunctionExists&&e.edgeFunctionWorking?(console.log(" FOOD RECOGNITION IS WORKING PERFECTLY!"),console.log("   You can now use the camera to scan food items.")):(console.log(`
 ISSUES FOUND:`),e.authentication||console.log(" Authentication: Please log in to the app"),e.supabaseConnection||console.log(" Supabase: Check your internet connection"),e.edgeFunctionExists||(console.log(" Edge Function: Deploy the recognize-food function"),console.log("   Run: supabase functions deploy recognize-food")),e.geminiApiConfigured||(console.log(" Gemini API: Configure GEMINI_API_KEY"),console.log("   1. Get API key from https://makersuite.google.com/app/apikey"),console.log("   2. Set in Supabase Dashboard > Edge Functions > Secrets")),e.edgeFunctionWorking||(console.log(" Function Logic: Check Edge Function logs"),console.log("   Run: supabase functions logs recognize-food"))),e},MO=async e=>{var t;console.log(" Testing Custom Image...");try{const{data:{user:n}}=await q.auth.getUser();if(!n){console.log(" Please log in first");return}console.log(" Sending image to AI...");const r=Date.now(),{data:s,error:o}=await q.functions.invoke("recognize-food",{body:{imageData:e}}),i=Date.now()-r;return console.log(` Processing time: ${i}ms`),o?(console.log(" Recognition failed:",o.message),null):s?(console.log(" Recognition successful!"),console.log(" Results:",{foodName:s.food_name,confidence:s.confidence,portionEstimate:s.portion_estimate,foodsCount:((t=s.foods)==null?void 0:t.length)||0}),s.foods&&s.foods.length>0&&(console.log(`
 Detected Foods:`),s.foods.forEach((a,c)=>{console.log(`  ${c+1}. ${a.name}`),console.log(`     Calories: ${a.calories_per_100g}/100g`),console.log(`     Protein: ${a.protein_per_100g}g/100g`),console.log(`     Carbs: ${a.carbs_per_100g}g/100g`),console.log(`     Fats: ${a.fats_per_100g}g/100g`)})),s):(console.log(" No data returned"),null)}catch(n){return console.log(" Test failed:",n),null}},DO=async()=>{console.log(" QUICK FIX ATTEMPT"),console.log("==================="),console.log("1 Refreshing user session...");try{const{data:e,error:t}=await q.auth.refreshSession();t?console.log(" Session refresh failed:",t.message):console.log(" Session refreshed")}catch(e){console.log(" Session refresh error:",e)}console.log(`
2 Testing basic connectivity...`);try{const e=await fetch("https://www.google.com",{mode:"no-cors"});console.log(" Internet connection working")}catch{console.log(" Internet connection issue")}console.log(`
3 Running full diagnosis...`),await AS()};typeof window<"u"&&(window.debugFoodRecognition=AS,window.testCustomImage=MO,window.quickFixFoodRecognition=DO,console.log(" Food Recognition Debug Tools Loaded!"),console.log("Available functions:"),console.log("- debugFoodRecognition() - Full system diagnosis"),console.log("- testCustomImage(imageDataUrl) - Test with your image"),console.log("- quickFixFoodRecognition() - Quick fix attempt"));const LO=({onComplete:e})=>{const[t,n]=V.useState(0);return V.useEffect(()=>{const r=setTimeout(()=>n(1),100),s=setTimeout(()=>n(2),800),o=setTimeout(()=>n(3),1600),i=setTimeout(()=>{e&&e()},3e3);return()=>{clearTimeout(r),clearTimeout(s),clearTimeout(o),clearTimeout(i)}},[e]),l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 relative overflow-hidden",style:{background:"linear-gradient(120deg, #d2f8e5 0%, #b2f2bb 30%, #fffde7 60%, #ffe082 85%, #ffb300 100%)"},children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:`absolute top-20 left-10 w-20 h-20 bg-white/20 rounded-full transition-all duration-1000 ${t>=1?"animate-bounce":"opacity-0"}`}),l.jsx("div",{className:`absolute bottom-32 right-16 w-16 h-16 bg-green-200/30 rounded-full transition-all duration-1000 delay-300 ${t>=2?"animate-pulse":"opacity-0"}`}),l.jsx("div",{className:`absolute top-1/3 right-8 w-12 h-12 bg-orange-200/40 rounded-full transition-all duration-1000 delay-500 ${t>=2?"animate-bounce":"opacity-0"}`})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center text-center z-10",children:[l.jsx("div",{className:`flex flex-col items-center transition-all duration-1000 transform ${t>=1?"translate-y-0 opacity-100 scale-100":"translate-y-8 opacity-0 scale-90"}`,children:l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx("div",{className:`transition-all duration-800 ${t>=1?"animate-spin-slow":""}`,children:l.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#00C853",strokeWidth:"2.5",fill:"#fff"}),l.jsx("path",{d:"M8 12h8M12 8v8",stroke:"#FFB300",strokeWidth:"2.5",strokeLinecap:"round"})]})}),l.jsx("span",{className:"text-4xl font-extrabold font-[Segoe UI Rounded,Arial,sans-serif] bg-gradient-to-r from-[#00C853] to-[#FFB300] bg-clip-text text-transparent tracking-wide",children:"QuickCal AI"})]})}),l.jsxs("div",{className:`transition-all duration-1000 delay-300 transform ${t>=2?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[l.jsx("p",{className:"text-xl font-semibold text-green-700 mb-2",children:"Smart Nutrition Tracking"}),l.jsx("p",{className:"text-lg text-orange-600 font-medium max-w-sm",children:"AI-Powered Food Recognition & Health Insights"})]}),l.jsx("div",{className:`mt-8 transition-all duration-500 delay-700 ${t>=2?"opacity-100":"opacity-0"}`,children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-green-400 to-orange-400 transition-all duration-500 ${t>=3?"opacity-20 scale-110":"opacity-0 scale-100"}`})]})},$O=nu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?kN:"button";return l.jsx(i,{className:de($O({variant:t,size:n,className:e})),ref:o,...s})});le.displayName="Button";const yl=[{id:1,title:"Instant AI Food Recognition",description:"Simply snap a photo of your meal and our AI instantly identifies all the foods on your plate with remarkable accuracy.",icon:Yn,color:"bg-gradient-to-br from-primary to-primary-dark"},{id:2,title:"Accurate Nutrition Data",description:"Get precise calorie counts and complete nutritional breakdowns powered by the comprehensive FatSecret database.",icon:Mx,color:"bg-gradient-to-br from-secondary to-secondary-dark"},{id:3,title:"Smart Health Insights",description:"Your personal AI health coach analyzes your eating patterns and provides personalized recommendations for better nutrition.",icon:vj,color:"bg-gradient-primary"}],FO=({onComplete:e})=>{const[t,n]=h.useState(0),[r,s]=h.useState("right"),o=()=>{t<yl.length-1?(s("right"),n(u=>u+1)):e()},i=()=>{t>0&&(s("left"),n(u=>u-1))},a=()=>{e()},c=yl[t];return l.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:"linear-gradient(120deg, #d2f8e5 0%, #b2f2bb 30%, #fffde7 60%, #ffe082 85%, #ffb300 100%)"},children:[l.jsxs("div",{className:"flex justify-between items-center p-6",children:[l.jsx(le,{variant:"ghost",onClick:a,className:"text-muted-foreground hover:text-foreground",children:"Skip"}),l.jsx("div",{className:"flex space-x-2",children:yl.map((u,d)=>l.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d===t?"bg-primary w-6":d<t?"bg-primary/60":"bg-muted-foreground/30"}`},d))})]}),l.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6 pb-12",children:l.jsxs("div",{className:`w-full max-w-sm transition-all duration-500 ${r==="right"?"animate-slide-in-right":"animate-fade-in"}`,children:[l.jsx("div",{className:`w-80 h-60 mx-auto mb-12 rounded-3xl ${c.color} shadow-lg flex items-center justify-center`,children:l.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center",children:l.jsx(c.icon,{className:"w-12 h-12 text-white",strokeWidth:1.5})})}),l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-foreground leading-tight",children:c.title}),l.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:c.description})]})]})}),l.jsx("div",{className:"px-6 pb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(le,{variant:"ghost",onClick:i,disabled:t===0,className:"flex items-center space-x-2 disabled:opacity-0 disabled:pointer-events-none",children:[l.jsx(Mp,{className:"w-4 h-4"}),l.jsx("span",{children:"Previous"})]}),l.jsxs(le,{onClick:o,className:"flex items-center space-x-2 bg-gradient-primary hover:shadow-green transition-all duration-300",children:[l.jsx("span",{children:t===yl.length-1?"Get Started":"Next"}),l.jsx(gc,{className:"w-4 h-4"})]})]})})]})},ct=h.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ct.displayName="Input";var UO="Label",IS=h.forwardRef((e,t)=>l.jsx(ne.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));IS.displayName=UO;var RS=IS;const BO=nu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),We=h.forwardRef(({className:e,...t},n)=>l.jsx(RS,{ref:n,className:de(BO(),e),...t}));We.displayName=RS.displayName;function nm(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ku="Checkbox",[zO]=mn(ku),[HO,rm]=zO(ku);function WO(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,p]=Jo({prop:n,defaultProp:s??!1,onChange:c,caller:ku}),[b,v]=h.useState(null),[S,w]=h.useState(null),y=h.useRef(!1),g=b?!!i||!!b.closest("form"):!0,x={checked:m,disabled:o,setChecked:p,control:b,setControl:v,name:a,form:i,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:$r(s)?!1:s,isFormControl:g,bubbleInput:S,setBubbleInput:w};return l.jsx(HO,{scope:t,...x,children:VO(f)?f(x):r})}var OS="CheckboxTrigger",MS=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:i,disabled:a,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:b}=rm(OS,e),v=ye(s,d),S=h.useRef(c);return h.useEffect(()=>{const w=o==null?void 0:o.form;if(w){const y=()=>f(S.current);return w.addEventListener("reset",y),()=>w.removeEventListener("reset",y)}},[o,f]),l.jsx(ne.button,{type:"button",role:"checkbox","aria-checked":$r(c)?"mixed":c,"aria-required":u,"data-state":US(c),"data-disabled":a?"":void 0,disabled:a,value:i,...r,ref:v,onKeyDown:te(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:te(n,w=>{f(y=>$r(y)?!0:!y),b&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});MS.displayName=OS;var sm=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(WO,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>l.jsxs(l.Fragment,{children:[l.jsx(MS,{...f,ref:t,__scopeCheckbox:n}),m&&l.jsx(FS,{__scopeCheckbox:n})]})})});sm.displayName=ku;var DS="CheckboxIndicator",LS=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=rm(DS,n);return l.jsx(gn,{present:r||$r(o.checked)||o.checked===!0,children:l.jsx(ne.span,{"data-state":US(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});LS.displayName=DS;var $S="CheckboxBubbleInput",FS=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:p}=rm($S,e),b=ye(n,p),v=nm(o),S=Wp(r);h.useEffect(()=>{const y=m;if(!y)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set,E=!s.current;if(v!==o&&_){const j=new Event("click",{bubbles:E});y.indeterminate=$r(o),_.call(y,$r(o)?!1:o),y.dispatchEvent(j)}},[m,v,o,s]);const w=h.useRef($r(o)?!1:o);return l.jsx(ne.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??w.current,required:a,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});FS.displayName=$S;function VO(e){return typeof e=="function"}function $r(e){return e==="indeterminate"}function US(e){return $r(e)?"indeterminate":e?"checked":"unchecked"}const BS=h.forwardRef(({className:e,...t},n)=>l.jsx(sm,{ref:n,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(LS,{className:de("flex items-center justify-center text-current"),children:l.jsx(Dx,{className:"h-4 w-4"})})}));BS.displayName=sm.displayName;const qO="https://yqmzguttrtsrwoeghnab.supabase.co",GO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlxbXpndXR0cnRzcndvZWdobmFiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NjQwMjg4MiwiZXhwIjoyMDcxOTc4ODgyfQ.YNLTeKxOT2JlYQsF05KPKIHDConWWtIr7haly18Uicw",KO=_u(qO,GO);async function YO(e,t){try{if(console.log(" Inserting user data into users table..."),console.log(`   User ID: ${e.id}`),console.log(`   Email: ${e.email}`),console.log(`   Full Name: ${t}`),!e.id||!e.email)throw new Error("User ID and email are required");if(!t||t.trim()==="")throw new Error("Full name is required");const n={id:e.id,email:e.email,full_name:t.trim(),created_at:e.created_at||new Date().toISOString(),updated_at:new Date().toISOString()},{data:r,error:s}=await KO.from("users").upsert(n,{onConflict:"id",ignoreDuplicates:!1}).select();return s?(console.error(" Error inserting user data:",s),s.code==="PGRST116"?{success:!1,error:"Users table does not exist. Please create the table first."}:s.code==="23505"?{success:!1,error:"User already exists with this ID or email."}:s.code==="23503"?{success:!1,error:"Foreign key constraint violation. User may not exist in auth.users."}:{success:!1,error:`Database error: ${s.message}`}):(console.log(" User data inserted successfully:",r),{success:!0})}catch(n){return console.error(" Unexpected error inserting user data:",n),{success:!1,error:n.message||"An unexpected error occurred while inserting user data"}}}const QO=({onAuthenticated:e})=>{const[t,n]=h.useState(!0),[r,s]=h.useState(!1),[o,i]=h.useState(""),[a,c]=h.useState(""),[u,d]=h.useState(""),[f,m]=h.useState(!1),[p,b]=h.useState(!1),{toast:v}=Xc(),S=async y=>{y.preventDefault(),b(!0);try{if(t){const{data:g,error:x}=await q.auth.signInWithPassword({email:o,password:a});if(x)throw x;g.user&&(v({description:"Welcome back! You're successfully logged in."}),e())}else{const{data:g,error:x}=await q.auth.signUp({email:o,password:a,options:{data:{name:u,full_name:u,email:o},emailRedirectTo:`${window.location.origin}/auth/confirm`}});if(x)throw x;if(g.user){console.log(" Inserting user data after successful signup...");const _=await YO(g.user,u);_.success?console.log(" User data inserted successfully"):(console.warn(" Failed to insert user data:",_.error),v({variant:"destructive",description:`Account created but failed to save user details: ${_.error}`,duration:5e3})),g.user.email_confirmed_at?(v({description:"Account created successfully! Welcome to the app."}),e()):v({description:"Account created! Please check your email and click the confirmation link to complete your registration.",duration:8e3})}}}catch(g){v({variant:"destructive",description:g.message||"An error occurred. Please try again."})}finally{b(!1)}},w=async()=>{try{const{data:y,error:g}=await q.auth.signInWithOAuth({provider:"google",options:{redirectTo:"com.quickcalai.app://auth/callback"}});if(g)throw console.error("Google OAuth error:",g.message),g;console.log("Google OAuth initiated successfully")}catch(y){console.error("Google sign-in failed:",y.message),v({variant:"destructive",description:y.message||"Failed to sign in with Google"})}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(120deg, #d2f8e5 0%, #b2f2bb 30%, #fffde7 60%, #ffe082 85%, #ffb300 100%)"},children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:t?"Welcome Back":"Get Started"}),l.jsx("p",{className:"text-muted-foreground",children:t?"Sign in to your account to continue":"Create your account to get started"})]}),l.jsxs("div",{className:"rounded-lg shadow-lg p-6 border",style:{background:"linear-gradient(120deg, #d2f8e5 0%, #b2f2bb 30%, #fffde7 60%, #ffe082 85%, #ffb300 100%)"},children:[l.jsxs("form",{onSubmit:S,className:"space-y-4",children:[!t&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{htmlFor:"name",className:"text-green-700 font-semibold",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(Dp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(ct,{id:"name",type:"text",placeholder:"Enter your full name",value:u,onChange:y=>d(y.target.value),className:"pl-10",required:!t})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{htmlFor:"email",className:"text-orange-600 font-semibold",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ux,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(ct,{id:"email",type:"email",placeholder:"Enter your email",value:o,onChange:y=>i(y.target.value),className:"pl-10",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{htmlFor:"password",className:"text-orange-600 font-semibold",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Cj,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(ct,{id:"password",type:r?"text":"password",placeholder:"Enter your password",value:a,onChange:y=>c(y.target.value),className:"pl-10 pr-10",required:!0}),l.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground hover:text-foreground",children:r?l.jsx(bj,{}):l.jsx(Sj,{})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(BS,{id:"remember",checked:f,onCheckedChange:y=>m(y)}),l.jsx(We,{htmlFor:"remember",className:"text-sm text-orange-600 font-semibold",children:"Remember me"})]}),t&&l.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",onClick:()=>{v({description:"Password reset functionality coming soon!"})},children:"Forgot password?"})]}),l.jsx(le,{type:"submit",className:"w-full",disabled:p,children:p?"Please wait...":t?"Sign In":"Create Account"})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"px-2 text-orange-600 font-semibold bg-white",children:"Or continue with"})})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[l.jsxs(le,{variant:"outline",onClick:w,className:"w-full bg-white/50 text-green-700 font-semibold border-green-300 hover:bg-white/70",children:[l.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),l.jsxs(le,{variant:"outline",className:"w-full bg-white/50 text-orange-600 font-semibold border-orange-300 hover:bg-white/70",disabled:!0,children:[l.jsx(gj,{className:"w-4 h-4 mr-2"}),"Apple"]})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[t?"Don't have an account?":"Already have an account?"," ",l.jsx("button",{type:"button",onClick:()=>n(!t),className:"text-orange-600 hover:underline font-bold",children:t?"Sign up":"Sign in"})]})})]}),l.jsxs("div",{className:"mt-8 text-center text-xs text-muted-foreground",children:["By continuing, you agree to our"," ",l.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})})},zt=h.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));zt.displayName="Card";const ls=h.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",e),...t}));ls.displayName="CardHeader";const cs=h.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",e),...t}));cs.displayName="CardTitle";const yo=h.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:de("text-sm text-muted-foreground",e),...t}));yo.displayName="CardDescription";const ps=h.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:de("p-6 pt-0",e),...t}));ps.displayName="CardContent";const JO=h.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",e),...t}));JO.displayName="CardFooter";const XO=()=>{const[e]=rI(),t=Ha(),[n,r]=h.useState("loading"),[s,o]=h.useState("");h.useEffect(()=>{(async()=>{try{const c=e.get("token_hash"),u=e.get("type"),d=e.get("next")||"/";if(!c||!u){r("error"),o("Invalid confirmation link. Please check your email and try again.");return}if(u==="signup"){const{data:f,error:m}=await q.auth.verifyOtp({token_hash:c,type:"email"});if(m){console.error("Email confirmation error:",m),m.message.includes("expired")?(r("expired"),o("Your confirmation link has expired. Please request a new one.")):(r("error"),o("Failed to confirm your email. Please try again or contact support."));return}f.user&&(r("success"),o("Your email has been confirmed successfully! You can now sign in to your account."),setTimeout(()=>{t("/",{replace:!0})},3e3))}else r("error"),o("Invalid confirmation type.")}catch(c){console.error("Confirmation error:",c),r("error"),o("An unexpected error occurred. Please try again.")}})()},[e,t]);const i=()=>{switch(n){case"loading":return l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(vc,{className:"h-12 w-12 animate-spin mx-auto text-blue-500"}),l.jsx("h2",{className:"text-xl font-semibold",children:"Confirming your email..."}),l.jsx("p",{className:"text-muted-foreground",children:"Please wait while we verify your email address."})]});case"success":return l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx($x,{className:"h-12 w-12 mx-auto text-green-500"}),l.jsx("h2",{className:"text-xl font-semibold text-green-700",children:"Email Confirmed!"}),l.jsx("p",{className:"text-muted-foreground",children:s}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting you to the app in a few seconds..."}),l.jsx(le,{onClick:()=>t("/",{replace:!0}),className:"w-full",children:"Continue to App"})]})]});case"expired":return l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(Zg,{className:"h-12 w-12 mx-auto text-orange-500"}),l.jsx("h2",{className:"text-xl font-semibold text-orange-700",children:"Link Expired"}),l.jsx("p",{className:"text-muted-foreground",children:s}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(le,{onClick:()=>t("/",{replace:!0}),className:"w-full",children:"Go to Sign Up"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"You'll need to create your account again to receive a new confirmation email."})]})]});case"error":default:return l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(Zg,{className:"h-12 w-12 mx-auto text-red-500"}),l.jsx("h2",{className:"text-xl font-semibold text-red-700",children:"Confirmation Failed"}),l.jsx("p",{className:"text-muted-foreground",children:s}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(le,{onClick:()=>t("/",{replace:!0}),className:"w-full",children:"Back to Sign Up"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"If you continue to have issues, please contact support."})]})]})}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 p-4",children:l.jsxs(zt,{className:"w-full max-w-md",children:[l.jsxs(ls,{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx(Ux,{className:"h-8 w-8 text-blue-500"})}),l.jsx(cs,{className:"text-2xl",children:"Email Confirmation"}),l.jsx(yo,{children:"QuickCal AI - Nutrition Tracking App"})]}),l.jsx(ps,{children:i()})]})})},ZO=()=>{const e=Ha(),[t,n]=h.useState(null);return h.useEffect(()=>{(async()=>{try{const{data:{session:s},error:o}=await q.auth.getSession();if(o)throw o;if(s!=null&&s.user)console.log("OAuth login successful, redirecting to dashboard..."),e("/dashboard");else throw new Error("No user session found")}catch(s){console.error("OAuth callback error:",s),n(s.message||"Authentication failed"),setTimeout(()=>{window.location.href="/"},3e3)}})()},[e]),t?l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-md text-center",children:l.jsxs("div",{className:"rounded-lg p-6 border border-red-200 bg-red-50",children:[l.jsx("h1",{className:"text-xl font-bold text-red-700 mb-2",children:"Authentication Failed"}),l.jsx("p",{className:"text-red-600 mb-4",children:t}),l.jsx("p",{className:"text-sm text-gray-600",children:"Redirecting back to login..."})]})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-md text-center",children:l.jsxs("div",{className:"rounded-lg p-6 border",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-xl font-bold mb-2",children:"Completing Sign In..."}),l.jsx("p",{className:"text-gray-600",children:"Please wait while we finalize your Google login."})]})})})};var om="Progress",im=100,[eM]=mn(om),[tM,nM]=eM(om),zS=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=rM,...i}=e;(s||s===0)&&!Qv(s)&&console.error(sM(`${s}`,"Progress"));const a=Qv(s)?s:im;r!==null&&!Jv(r,a)&&console.error(oM(`${r}`,"Progress"));const c=Jv(r,a)?r:null,u=Tc(c)?o(c,a):void 0;return l.jsx(tM,{scope:n,value:c,max:a,children:l.jsx(ne.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Tc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":VS(c,a),"data-value":c??void 0,"data-max":a,...i,ref:t})})});zS.displayName=om;var HS="ProgressIndicator",WS=h.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=nM(HS,n);return l.jsx(ne.div,{"data-state":VS(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});WS.displayName=HS;function rM(e,t){return`${Math.round(e/t*100)}%`}function VS(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Tc(e){return typeof e=="number"}function Qv(e){return Tc(e)&&!isNaN(e)&&e>0}function Jv(e,t){return Tc(e)&&!isNaN(e)&&e<=t&&e>=0}function sM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${im}\`.`}function oM(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${im} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qS=zS,iM=WS;const am=h.forwardRef(({className:e,value:t,...n},r)=>l.jsx(qS,{ref:r,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(iM,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));am.displayName=qS.displayName;class aM{constructor(){$e(this,"isInitialized",!1);$e(this,"currentUser",null)}async initialize(t){if(!this.isInitialized){if(this.currentUser=t,!we.isNativePlatform()){console.log("Push notifications not available on web platform");return}try{if(this.setupListeners(),(await ke.checkPermissions()).receive==="granted"){console.log("Push notification permission already granted");try{await ke.register(),console.log("Push notifications registered successfully")}catch(r){console.error("Error registering push notifications:",r)}this.isInitialized=!0,console.log("Push notifications initialized successfully")}else console.log("Push notification permission not granted yet"),this.isInitialized=!0}catch(n){console.error("Error initializing push notifications:",n),this.isInitialized=!0}}}async requestPermissions(){if(!we.isNativePlatform())return console.log("Push notifications not available on web platform"),!1;try{console.log("Requesting push notification permissions..."),await new Promise(n=>setTimeout(n,100));const t=await ke.requestPermissions();return console.log("Permission status received:",t),t.receive==="granted"?(console.log("Push notification permission granted"),setTimeout(async()=>{try{await ke.register(),console.log("Push notifications registered successfully")}catch(n){console.error("Error registering for push notifications:",n)}},500),!0):(console.log("Push notification permission denied"),!1)}catch(t){return console.error("Error requesting push notification permissions:",t),!1}}setupListeners(){ke.addListener("registration",async t=>{console.log("Push registration success, token:",t.value),await this.savePushToken(t.value)}),ke.addListener("registrationError",t=>{console.error("Push registration error:",t)}),ke.addListener("pushNotificationReceived",t=>{console.log("Push notification received:",t),this.handleForegroundNotification(t)}),ke.addListener("pushNotificationActionPerformed",t=>{console.log("Push notification action performed:",t),this.handleNotificationAction(t)})}async savePushToken(t){if(!this.currentUser){console.log("No user logged in, cannot save push token");return}try{const n=we.getPlatform(),r={platform:n,timestamp:new Date().toISOString()},{error:s}=await q.from("push_notification_tokens").upsert({user_id:this.currentUser.id,token:t,platform:n,device_info:r,is_active:!0,updated_at:new Date().toISOString()},{onConflict:"user_id,token"});s?console.error("Error saving push token:",s):console.log("Push token saved successfully")}catch(n){console.error("Error saving push token:",n)}}handleForegroundNotification(t){console.log("Handling foreground notification:",t),window.dispatchEvent(new CustomEvent("foregroundNotification",{detail:t}))}handleNotificationAction(t){console.log("Handling notification action:",t);const n=t.notification.data;if(n!=null&&n.type)switch(n.type){case"meal_reminder":window.dispatchEvent(new CustomEvent("navigateToCamera"));break;case"health_insight":window.dispatchEvent(new CustomEvent("navigateToDashboard"));break;case"goal_achievement":window.dispatchEvent(new CustomEvent("navigateToProgress"));break;default:window.dispatchEvent(new CustomEvent("openNotifications"));break}}async sendNotification(t,n){try{const{data:r,error:s}=await q.functions.invoke("push-notifications",{body:{userId:t,title:n.title,body:n.body,data:n.data,type:n.type,priority:n.priority}});return s?(console.error("Error sending notification:",s),!1):(console.log("Notification sent successfully:",r),!0)}catch(r){return console.error("Error sending notification:",r),!1}}async sendBulkNotification(t,n){try{const{data:r,error:s}=await q.functions.invoke("push-notifications",{body:{userIds:t,title:n.title,body:n.body,data:n.data,type:n.type,priority:n.priority}});return s?(console.error("Error sending bulk notification:",s),!1):(console.log("Bulk notification sent successfully:",r),!0)}catch(r){return console.error("Error sending bulk notification:",r),!1}}async getNotificationSettings(){if(!this.currentUser)return null;try{const{data:t,error:n}=await q.from("notification_settings").select("*").eq("user_id",this.currentUser.id).single();return n&&n.code!=="PGRST116"?(console.error("Error fetching notification settings:",n),null):t||{meal_reminders:!0,health_insights:!0,goal_achievements:!0,weekly_reports:!0,marketing:!1,quiet_hours_start:"22:00",quiet_hours_end:"08:00",timezone:"UTC"}}catch(t){return console.error("Error fetching notification settings:",t),null}}async updateNotificationSettings(t){if(!this.currentUser)return!1;try{const{error:n}=await q.from("notification_settings").upsert({user_id:this.currentUser.id,...t,updated_at:new Date().toISOString()},{onConflict:"user_id"});return n?(console.error("Error updating notification settings:",n),!1):(console.log("Notification settings updated successfully"),!0)}catch(n){return console.error("Error updating notification settings:",n),!1}}async getNotifications(t=50,n=0){if(!this.currentUser)return[];try{const{data:r,error:s}=await q.from("notifications").select("*").eq("user_id",this.currentUser.id).order("created_at",{ascending:!1}).range(n,n+t-1);return s?(console.error("Error fetching notifications:",s),[]):r||[]}catch(r){return console.error("Error fetching notifications:",r),[]}}async markAsRead(t){try{const{error:n}=await q.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("id",t);return n?(console.error("Error marking notification as read:",n),!1):!0}catch(n){return console.error("Error marking notification as read:",n),!1}}async markAllAsRead(){if(!this.currentUser)return!1;try{const{error:t}=await q.from("notifications").update({is_read:!0,updated_at:new Date().toISOString()}).eq("user_id",this.currentUser.id).eq("is_read",!1);return t?(console.error("Error marking all notifications as read:",t),!1):!0}catch(t){return console.error("Error marking all notifications as read:",t),!1}}async cleanup(){if(we.isNativePlatform())try{await ke.removeAllListeners(),console.log("Push notification listeners removed")}catch(t){console.error("Error cleaning up push notifications:",t)}this.isInitialized=!1,this.currentUser=null}}const hr=new aM;class lM{constructor(){$e(this,"isInitialized",!1);$e(this,"currentUser",null);$e(this,"permissionRequestInProgress",!1)}async initialize(t){if(!this.isInitialized){if(this.currentUser=t,!we.isNativePlatform()){console.log("StablePush: Not on mobile platform");return}try{console.log("StablePush: Initializing..."),this.setupListeners();const n=await ke.checkPermissions();console.log("StablePush: Current permission status:",n),n.receive==="granted"?console.log("StablePush: Permission already granted"):console.log("StablePush: Permission not granted yet"),this.isInitialized=!0,console.log("StablePush: Initialization complete")}catch(n){console.error("StablePush: Initialization error:",n),this.isInitialized=!0}}}setupListeners(){console.log("StablePush: Setting up listeners..."),ke.addListener("registration",async t=>{console.log("StablePush: Registration success, token:",t.value.substring(0,20)+"..."),await this.savePushToken(t.value)}),ke.addListener("registrationError",t=>{console.error("StablePush: Registration error:",t)}),ke.addListener("pushNotificationReceived",t=>{console.log("StablePush: Notification received:",t),this.handleForegroundNotification(t)}),ke.addListener("pushNotificationActionPerformed",t=>{console.log("StablePush: Notification action performed:",t),this.handleNotificationAction(t)})}async requestPermissions(){if(this.permissionRequestInProgress)return console.log("StablePush: Permission request already in progress"),!1;if(!we.isNativePlatform())return console.log("StablePush: Not on mobile platform"),!1;this.permissionRequestInProgress=!0;try{console.log("StablePush: Starting permission request...");const t=await ke.checkPermissions();if(console.log("StablePush: Current status before request:",t),t.receive==="granted")return console.log("StablePush: Permission already granted"),this.permissionRequestInProgress=!1,!0;const n=ke.requestPermissions(),r=new Promise((o,i)=>{setTimeout(()=>i(new Error("Permission request timeout")),1e4)}),s=await Promise.race([n,r]);return console.log("StablePush: Permission request result:",s),s.receive==="granted"?(console.log("StablePush: Permission granted, will register after delay..."),setTimeout(async()=>{try{console.log("StablePush: Starting delayed registration..."),await ke.register(),console.log("StablePush: Delayed registration successful")}catch(o){console.error("StablePush: Delayed registration error:",o)}},1e3),this.permissionRequestInProgress=!1,!0):(console.log("StablePush: Permission denied"),this.permissionRequestInProgress=!1,!1)}catch(t){return console.error("StablePush: Permission request error:",t),this.permissionRequestInProgress=!1,!1}}async savePushToken(t){if(!this.currentUser){console.log("StablePush: No user logged in, cannot save push token");return}try{const n=we.getPlatform(),r={platform:n,timestamp:new Date().toISOString(),capacitorVersion:"7.x"},{error:s}=await q.from("fcm_tokens").upsert({user_id:this.currentUser.id,token:t,platform:n,device_info:r,is_active:!0,updated_at:new Date().toISOString()},{onConflict:"user_id,token"});s?console.error("StablePush: Error saving push token:",s):console.log("StablePush: Push token saved successfully")}catch(n){console.error("StablePush: Error saving push token:",n)}}handleForegroundNotification(t){console.log("StablePush: Handling foreground notification:",t),window.dispatchEvent(new CustomEvent("stableForegroundNotification",{detail:t}))}handleNotificationAction(t){console.log("StablePush: Handling notification action:",t);const n=t.notification.data;if(n!=null&&n.type)switch(n.type){case"meal_reminder":window.dispatchEvent(new CustomEvent("navigateToCamera"));break;case"health_insight":window.dispatchEvent(new CustomEvent("navigateToDashboard"));break;case"goal_achievement":window.dispatchEvent(new CustomEvent("navigateToProgress"));break;default:window.dispatchEvent(new CustomEvent("openNotifications"));break}}isRequestingPermissions(){return this.permissionRequestInProgress}async getPermissionStatus(){if(!we.isNativePlatform())return{receive:"denied"};try{return await ke.checkPermissions()}catch(t){return console.error("StablePush: Error checking permissions:",t),{receive:"denied"}}}async cleanup(){if(we.isNativePlatform())try{await ke.removeAllListeners(),console.log("StablePush: Listeners removed")}catch(t){console.error("StablePush: Error cleaning up:",t)}this.isInitialized=!1,this.currentUser=null,this.permissionRequestInProgress=!1}}const Ed=new lM;class cM{constructor(){$e(this,"channels",new Map);$e(this,"currentUser",null);$e(this,"isConnected",!1);$e(this,"notificationHandlers",new Set);$e(this,"mealLogHandlers",new Set);$e(this,"insightHandlers",new Set)}async initialize(t){if(this.currentUser=t,!t){await this.disconnect();return}await this.connect()}async connect(){if(!(this.isConnected||!this.currentUser))try{await this.subscribeToNotifications(),await this.subscribeToMealLogs(),await this.subscribeToInsights(),this.isConnected=!0,console.log("Real-time service connected successfully")}catch(t){console.error("Error connecting to real-time service:",t)}}async subscribeToNotifications(){if(!this.currentUser)return;const t=`notifications:${this.currentUser.id}`,n=q.channel(t).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${this.currentUser.id}`},r=>{console.log("New notification received:",r);const s=r.new;this.handleNewNotification(s)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${this.currentUser.id}`},r=>{console.log("Notification updated:",r);const s=r.new;this.handleNotificationUpdate(s)}).subscribe(r=>{console.log("Notifications subscription status:",r)});this.channels.set(t,n)}async subscribeToMealLogs(){if(!this.currentUser)return;const t=`meal_logs:${this.currentUser.id}`,n=q.channel(t).on("postgres_changes",{event:"INSERT",schema:"public",table:"meal_logs",filter:`user_id=eq.${this.currentUser.id}`},r=>{console.log("New meal log received:",r);const s=r.new;this.handleNewMealLog(s)}).subscribe(r=>{console.log("Meal logs subscription status:",r)});this.channels.set(t,n)}async subscribeToInsights(){if(!this.currentUser)return;const t=`ai_insights:${this.currentUser.id}`,n=q.channel(t).on("postgres_changes",{event:"INSERT",schema:"public",table:"ai_insights",filter:`user_id=eq.${this.currentUser.id}`},r=>{console.log("New AI insight received:",r);const s=r.new;this.handleNewInsight(s)}).subscribe(r=>{console.log("AI insights subscription status:",r)});this.channels.set(t,n)}handleNewNotification(t){this.notificationHandlers.forEach(n=>{try{n(t)}catch(r){console.error("Error in notification handler:",r)}}),window.dispatchEvent(new CustomEvent("realtimeNotification",{detail:t})),this.showBrowserNotification(t)}handleNotificationUpdate(t){window.dispatchEvent(new CustomEvent("realtimeNotificationUpdate",{detail:t}))}handleNewMealLog(t){this.mealLogHandlers.forEach(n=>{try{n(t)}catch(r){console.error("Error in meal log handler:",r)}}),window.dispatchEvent(new CustomEvent("realtimeMealLog",{detail:t}))}handleNewInsight(t){this.insightHandlers.forEach(n=>{try{n(t)}catch(r){console.error("Error in insight handler:",r)}}),window.dispatchEvent(new CustomEvent("realtimeInsight",{detail:t})),t.priority>=3&&this.showBrowserNotification({id:t.id,user_id:t.user_id,title:t.title,body:t.content,data:{type:"insight",insight_type:t.insight_type},type:"insight",priority:"high",is_read:t.is_read,created_at:t.created_at})}showBrowserNotification(t){if("Notification"in window&&Notification.permission==="granted")try{const n=new Notification(t.title,{body:t.body,icon:"/icon-192x192.png",badge:"/icon-72x72.png",tag:t.id,data:t.data,requireInteraction:t.priority==="high"});n.onclick=()=>{window.focus(),n.close(),t.type==="meal_reminder"?window.dispatchEvent(new CustomEvent("navigateToCamera")):t.type==="health_insight"?window.dispatchEvent(new CustomEvent("navigateToDashboard")):window.dispatchEvent(new CustomEvent("openNotifications"))},t.priority!=="high"&&setTimeout(()=>n.close(),5e3)}catch(n){console.error("Error showing browser notification:",n)}}onNotification(t){return this.notificationHandlers.add(t),()=>{this.notificationHandlers.delete(t)}}onMealLog(t){return this.mealLogHandlers.add(t),()=>{this.mealLogHandlers.delete(t)}}onInsight(t){return this.insightHandlers.add(t),()=>{this.insightHandlers.delete(t)}}async requestBrowserNotificationPermission(){if("Notification"in window){const t=await Notification.requestPermission();return console.log("Browser notification permission:",t),t==="granted"}return!1}async disconnect(){try{for(const[t,n]of this.channels)await q.removeChannel(n),console.log(`Unsubscribed from ${t}`);this.channels.clear(),this.isConnected=!1,this.notificationHandlers.clear(),this.mealLogHandlers.clear(),this.insightHandlers.clear(),console.log("Real-time service disconnected")}catch(t){console.error("Error disconnecting from real-time service:",t)}}isRealtimeConnected(){return this.isConnected}getActiveChannelsCount(){return this.channels.size}}const wl=new cM;function GS(e){const[t,n]=h.useState([]),[r,s]=h.useState(0),[o,i]=h.useState(!1),[a,c]=h.useState(null);h.useEffect(()=>{(async()=>{if(e)try{await wl.initialize(e),await u(),await d(),console.log("Basic notification services initialized for user:",e.id)}catch(x){console.error("Error initializing notification services:",x)}else await hr.cleanup(),await Ed.cleanup(),await wl.disconnect(),n([]),s(0),c(null)})()},[e]),h.useEffect(()=>e?wl.onNotification(x=>{console.log("Received real-time notification:",x),n(_=>[x,..._]),x.is_read||s(_=>_+1),X(x.title,{description:x.body,action:{label:"View",onClick:()=>y(x)}})}):void 0,[e]),h.useEffect(()=>{const g=()=>{window.dispatchEvent(new CustomEvent("openCamera"))},x=()=>{window.dispatchEvent(new CustomEvent("navigateToDashboard"))},_=()=>{window.dispatchEvent(new CustomEvent("openNotificationPanel"))},E=j=>{const k=j.detail;X(k.title,{description:k.body,action:{label:"View",onClick:()=>y(k)}})};return window.addEventListener("navigateToCamera",g),window.addEventListener("navigateToDashboard",x),window.addEventListener("openNotifications",_),window.addEventListener("foregroundNotification",E),()=>{window.removeEventListener("navigateToCamera",g),window.removeEventListener("navigateToDashboard",x),window.removeEventListener("openNotifications",_),window.removeEventListener("foregroundNotification",E)}},[]);const u=h.useCallback(async()=>{if(e){i(!0);try{const g=await hr.getNotifications();n(g);const x=g.filter(_=>!_.is_read).length;s(x)}catch(g){console.error("Error loading notifications:",g),X.error("Failed to load notifications")}finally{i(!1)}}},[e]),d=h.useCallback(async()=>{if(e)try{const g=await hr.getNotificationSettings();c(g)}catch(g){console.error("Error loading notification settings:",g)}},[e]),f=h.useCallback(async(g,x)=>{try{const _=await hr.sendNotification(g,x);return _?X.success("Notification sent successfully"):X.error("Failed to send notification"),_}catch(_){return console.error("Error sending notification:",_),X.error("Failed to send notification"),!1}},[]),m=h.useCallback(async(g,x)=>{try{const _=await hr.sendBulkNotification(g,x);return _?X.success(`Notification sent to ${g.length} users`):X.error("Failed to send bulk notification"),_}catch(_){return console.error("Error sending bulk notification:",_),X.error("Failed to send bulk notification"),!1}},[]),p=h.useCallback(async g=>{try{const x=await hr.markAsRead(g);return x&&(n(_=>_.map(E=>E.id===g?{...E,is_read:!0}:E)),s(_=>Math.max(0,_-1))),x}catch(x){return console.error("Error marking notification as read:",x),!1}},[]),b=h.useCallback(async()=>{try{const g=await hr.markAllAsRead();return g?(n(x=>x.map(_=>({..._,is_read:!0}))),s(0),X.success("All notifications marked as read")):X.error("Failed to mark notifications as read"),g}catch(g){return console.error("Error marking all notifications as read:",g),X.error("Failed to mark notifications as read"),!1}},[]),v=h.useCallback(async g=>{try{const x=await hr.updateNotificationSettings(g);return x?(c(_=>_?{..._,...g}:null),X.success("Notification settings updated")):X.error("Failed to update notification settings"),x}catch(x){return console.error("Error updating notification settings:",x),X.error("Failed to update notification settings"),!1}},[]),S=h.useCallback(async()=>{await u()},[u]),w=h.useCallback(async()=>{try{if(console.log("Hook: Requesting notification permissions with stable service..."),Ed.isRequestingPermissions())return console.log("Hook: Permission request already in progress"),!1;await new Promise(x=>setTimeout(x,300));const g=await Ed.requestPermissions();return console.log("Hook: Stable push permission result:",g),setTimeout(async()=>{try{await wl.requestBrowserNotificationPermission()}catch(x){console.log("Browser notification permission failed:",x)}},500),setTimeout(()=>{g?X.success("Notification permissions granted! ",{description:"You'll now receive meal reminders and health insights"}):X.error("Notification permissions denied",{description:"You can enable them later in settings"})},800),g}catch(g){return console.error("Error requesting permissions:",g),setTimeout(()=>{X.error("Failed to request notification permissions",{description:"Please try again or check your device settings"})},800),!1}},[]),y=g=>{switch(g.is_read||p(g.id),g.type){case"meal_reminder":window.dispatchEvent(new CustomEvent("openCamera"));break;case"health_insight":window.dispatchEvent(new CustomEvent("navigateToDashboard"));break;case"goal_achievement":window.dispatchEvent(new CustomEvent("navigateToProgress"));break;default:console.log("Notification clicked:",g);break}};return{notifications:t,unreadCount:r,isLoading:o,settings:a,sendNotification:f,sendBulkNotification:m,markAsRead:p,markAllAsRead:b,updateSettings:v,refreshNotifications:S,requestPermissions:w}}var Eu="Switch",[uM]=mn(Eu),[dM,fM]=uM(Eu),KS=h.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,p]=h.useState(null),b=ye(t,g=>p(g)),v=h.useRef(!1),S=m?d||!!m.closest("form"):!0,[w,y]=Jo({prop:s,defaultProp:o??!1,onChange:u,caller:Eu});return l.jsxs(dM,{scope:n,checked:w,disabled:a,children:[l.jsx(ne.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":XS(w),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:b,onClick:te(e.onClick,g=>{y(x=>!x),S&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),S&&l.jsx(JS,{control:m,bubbles:!v.current,name:r,value:c,checked:w,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});KS.displayName=Eu;var YS="SwitchThumb",QS=h.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=fM(YS,n);return l.jsx(ne.span,{"data-state":XS(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});QS.displayName=YS;var hM="SwitchBubbleInput",JS=h.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=h.useRef(null),a=ye(i,o),c=nm(n),u=Wp(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const b=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(b)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});JS.displayName=hM;function XS(e){return e?"checked":"unchecked"}var ZS=KS,pM=QS;const us=h.forwardRef(({className:e,...t},n)=>l.jsx(ZS,{className:de("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(pM,{className:de("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));us.displayName=ZS.displayName;function gh(e,[t,n]){return Math.min(n,Math.max(t,e))}var mM=h.createContext(void 0);function e1(e){const t=h.useContext(mM);return e||t||"ltr"}var Cd=0;function t1(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xv()),document.body.insertAdjacentElement("beforeend",e[1]??Xv()),Cd++,()=>{Cd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Cd--}},[])}function Xv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nd="focusScope.autoFocusOnMount",jd="focusScope.autoFocusOnUnmount",Zv={bubbles:!1,cancelable:!0},gM="FocusScope",lm=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=h.useState(null),u=Qe(s),d=Qe(o),f=h.useRef(null),m=ye(t,v=>c(v)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let v=function(g){if(p.paused||!a)return;const x=g.target;a.contains(x)?f.current=x:mr(f.current,{select:!0})},S=function(g){if(p.paused||!a)return;const x=g.relatedTarget;x!==null&&(a.contains(x)||mr(f.current,{select:!0}))},w=function(g){if(document.activeElement===document.body)for(const _ of g)_.removedNodes.length>0&&mr(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",S);const y=new MutationObserver(w);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),y.disconnect()}}},[r,a,p.paused]),h.useEffect(()=>{if(a){ty.add(p);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(Nd,Zv);a.addEventListener(Nd,u),a.dispatchEvent(w),w.defaultPrevented||(vM(SM(n1(a)),{select:!0}),document.activeElement===v&&mr(a))}return()=>{a.removeEventListener(Nd,u),setTimeout(()=>{const w=new CustomEvent(jd,Zv);a.addEventListener(jd,d),a.dispatchEvent(w),w.defaultPrevented||mr(v??document.body,{select:!0}),a.removeEventListener(jd,d),ty.remove(p)},0)}}},[a,u,d,p]);const b=h.useCallback(v=>{if(!n&&!r||p.paused)return;const S=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(S&&w){const y=v.currentTarget,[g,x]=yM(y);g&&x?!v.shiftKey&&w===x?(v.preventDefault(),n&&mr(g,{select:!0})):v.shiftKey&&w===g&&(v.preventDefault(),n&&mr(x,{select:!0})):w===y&&v.preventDefault()}},[n,r,p.paused]);return l.jsx(ne.div,{tabIndex:-1,...i,ref:m,onKeyDown:b})});lm.displayName=gM;function vM(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(mr(r,{select:t}),document.activeElement!==n)return}function yM(e){const t=n1(e),n=ey(t,e),r=ey(t.reverse(),e);return[n,r]}function n1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ey(e,t){for(const n of e)if(!wM(n,{upTo:t}))return n}function wM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xM(e){return e instanceof HTMLInputElement&&"select"in e}function mr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&xM(e)&&t&&e.select()}}var ty=bM();function bM(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ny(e,t),e.unshift(t)},remove(t){var n;e=ny(e,t),(n=e[0])==null||n.resume()}}}function ny(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function SM(e){return e.filter(t=>t.tagName!=="A")}var _M=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qs=new WeakMap,xl=new WeakMap,bl={},Td=0,r1=function(e){return e&&(e.host||r1(e.parentNode))},kM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=r1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},EM=function(e,t,n,r){var s=kM(t,Array.isArray(e)?e:[e]);bl[n]||(bl[n]=new WeakMap);var o=bl[n],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var p=m.getAttribute(r),b=p!==null&&p!=="false",v=(Qs.get(m)||0)+1,S=(o.get(m)||0)+1;Qs.set(m,v),o.set(m,S),i.push(m),v===1&&b&&xl.set(m,!0),S===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),a.clear(),Td++,function(){i.forEach(function(f){var m=Qs.get(f)-1,p=o.get(f)-1;Qs.set(f,m),o.set(f,p),m||(xl.has(f)||f.removeAttribute(r),xl.delete(f)),p||f.removeAttribute(n)}),Td--,Td||(Qs=new WeakMap,Qs=new WeakMap,xl=new WeakMap,bl={})}},s1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=_M(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),EM(r,s,n,"aria-hidden")):function(){return null}},Nn=function(){return Nn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Nn.apply(this,arguments)};function o1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function CM(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Bl="right-scroll-bar-position",zl="width-before-scroll-bar",NM="with-scroll-bars-hidden",jM="--removed-body-scroll-bar-size";function Pd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function TM(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var PM=typeof window<"u"?h.useLayoutEffect:h.useEffect,ry=new WeakMap;function AM(e,t){var n=TM(null,function(r){return e.forEach(function(s){return Pd(s,r)})});return PM(function(){var r=ry.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Pd(a,null)}),o.forEach(function(a){s.has(a)||Pd(a,i)})}ry.set(n,e)},[e]),n}function IM(e){return e}function RM(e,t){t===void 0&&(t=IM);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function OM(e){e===void 0&&(e={});var t=RM(null);return t.options=Nn({async:!0,ssr:!1},e),t}var i1=function(e){var t=e.sideCar,n=o1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Nn({},n))};i1.isSideCarExport=!0;function MM(e,t){return e.useMedium(t),i1}var a1=OM(),Ad=function(){},Cu=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Ad,onWheelCapture:Ad,onTouchMoveCapture:Ad}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noRelative,b=e.noIsolation,v=e.inert,S=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,g=e.gapMode,x=o1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,E=AM([n,t]),j=Nn(Nn({},x),s);return h.createElement(h.Fragment,null,d&&h.createElement(_,{sideCar:a1,removeScrollBar:u,shards:f,noRelative:p,noIsolation:b,inert:v,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:g}),i?h.cloneElement(h.Children.only(a),Nn(Nn({},j),{ref:E})):h.createElement(y,Nn({},j,{className:c,ref:E}),a))});Cu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cu.classNames={fullWidth:zl,zeroRight:Bl};var DM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=DM();return t&&e.setAttribute("nonce",t),e}function $M(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function FM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var UM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=LM())&&($M(t,n),FM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BM=function(){var e=UM();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},l1=function(){var e=BM(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},zM={left:0,top:0,right:0,gap:0},Id=function(e){return parseInt(e||"",10)||0},HM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Id(n),Id(r),Id(s)]},WM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zM;var t=HM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},VM=l1(),Ao="data-scroll-locked",qM=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(NM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ao,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bl," .").concat(Bl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zl," .").concat(zl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ao,`] {
    `).concat(jM,": ").concat(a,`px;
  }
`)},sy=function(){var e=parseInt(document.body.getAttribute(Ao)||"0",10);return isFinite(e)?e:0},GM=function(){h.useEffect(function(){return document.body.setAttribute(Ao,(sy()+1).toString()),function(){var e=sy()-1;e<=0?document.body.removeAttribute(Ao):document.body.setAttribute(Ao,e.toString())}},[])},KM=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;GM();var o=h.useMemo(function(){return WM(s)},[s]);return h.createElement(VM,{styles:qM(o,!t,s,n?"":"!important")})},vh=!1;if(typeof window<"u")try{var Sl=Object.defineProperty({},"passive",{get:function(){return vh=!0,!0}});window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{vh=!1}var Js=vh?{passive:!1}:!1,YM=function(e){return e.tagName==="TEXTAREA"},c1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!YM(e)&&n[t]==="visible")},QM=function(e){return c1(e,"overflowY")},JM=function(e){return c1(e,"overflowX")},oy=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=u1(e,r);if(s){var o=d1(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},XM=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ZM=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},u1=function(e,t){return e==="v"?QM(t):JM(t)},d1=function(e,t){return e==="v"?XM(t):ZM(t)},eD=function(e,t){return e==="h"&&t==="rtl"?-1:1},tD=function(e,t,n,r,s){var o=eD(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,c=t.contains(a),u=!1,d=i>0,f=0,m=0;do{if(!a)break;var p=d1(e,a),b=p[0],v=p[1],S=p[2],w=v-S-o*b;(b||w)&&u1(e,a)&&(f+=w,m+=b);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},_l=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iy=function(e){return[e.deltaX,e.deltaY]},ay=function(e){return e&&"current"in e?e.current:e},nD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sD=0,Xs=[];function oD(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(sD++)[0],o=h.useState(l1)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=CM([e.lockRef.current],(e.shards||[]).map(ay),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var w=_l(v),y=n.current,g="deltaX"in v?v.deltaX:y[0]-w[0],x="deltaY"in v?v.deltaY:y[1]-w[1],_,E=v.target,j=Math.abs(g)>Math.abs(x)?"h":"v";if("touches"in v&&j==="h"&&E.type==="range")return!1;var k=oy(j,E);if(!k)return!0;if(k?_=j:(_=j==="v"?"h":"v",k=oy(j,E)),!k)return!1;if(!r.current&&"changedTouches"in v&&(g||x)&&(r.current=_),!_)return!0;var N=r.current||_;return tD(N,S,v,N==="h"?g:x)},[]),c=h.useCallback(function(v){var S=v;if(!(!Xs.length||Xs[Xs.length-1]!==o)){var w="deltaY"in S?iy(S):_l(S),y=t.current.filter(function(_){return _.name===S.type&&(_.target===S.target||S.target===_.shadowParent)&&nD(_.delta,w)})[0];if(y&&y.should){S.cancelable&&S.preventDefault();return}if(!y){var g=(i.current.shards||[]).map(ay).filter(Boolean).filter(function(_){return _.contains(S.target)}),x=g.length>0?a(S,g[0]):!i.current.noIsolation;x&&S.cancelable&&S.preventDefault()}}},[]),u=h.useCallback(function(v,S,w,y){var g={name:v,delta:S,target:w,should:y,shadowParent:iD(w)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(x){return x!==g})},1)},[]),d=h.useCallback(function(v){n.current=_l(v),r.current=void 0},[]),f=h.useCallback(function(v){u(v.type,iy(v),v.target,a(v,e.lockRef.current))},[]),m=h.useCallback(function(v){u(v.type,_l(v),v.target,a(v,e.lockRef.current))},[]);h.useEffect(function(){return Xs.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Js),document.addEventListener("touchmove",c,Js),document.addEventListener("touchstart",d,Js),function(){Xs=Xs.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Js),document.removeEventListener("touchmove",c,Js),document.removeEventListener("touchstart",d,Js)}},[]);var p=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:rD(s)}):null,p?h.createElement(KM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function iD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aD=MM(a1,oD);var cm=h.forwardRef(function(e,t){return h.createElement(Cu,Nn({},e,{ref:t,sideCar:aD}))});cm.classNames=Cu.classNames;var lD=[" ","Enter","ArrowUp","ArrowDown"],cD=[" ","Enter"],As="Select",[Nu,ju,uD]=ox(As),[vi]=mn(As,[uD,au]),Tu=au(),[dD,Yr]=vi(As),[fD,hD]=vi(As),f1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:b}=e,v=Tu(t),[S,w]=h.useState(null),[y,g]=h.useState(null),[x,_]=h.useState(!1),E=e1(u),[j,k]=Jo({prop:r,defaultProp:s??!1,onChange:o,caller:As}),[N,T]=Jo({prop:i,defaultProp:a,onChange:c,caller:As}),R=h.useRef(null),I=S?b||!!S.closest("form"):!0,[U,O]=h.useState(new Set),K=Array.from(U).map(M=>M.props.value).join(";");return l.jsx(h2,{...v,children:l.jsxs(dD,{required:p,scope:t,trigger:S,onTriggerChange:w,valueNode:y,onValueNodeChange:g,valueNodeHasChildren:x,onValueNodeHasChildrenChange:_,contentId:Co(),value:N,onValueChange:T,open:j,onOpenChange:k,dir:E,triggerPointerDownPosRef:R,disabled:m,children:[l.jsx(Nu.Provider,{scope:t,children:l.jsx(fD,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(M=>{O(B=>new Set(B).add(M))},[]),onNativeOptionRemove:h.useCallback(M=>{O(B=>{const A=new Set(B);return A.delete(M),A})},[]),children:n})}),I?l.jsxs(D1,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:M=>T(M.target.value),disabled:m,form:b,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(U)]},K):null]})})};f1.displayName=As;var h1="SelectTrigger",p1=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Tu(n),i=Yr(h1,n),a=i.disabled||r,c=ye(t,i.onTriggerChange),u=ju(n),d=h.useRef("touch"),[f,m,p]=$1(v=>{const S=u().filter(g=>!g.disabled),w=S.find(g=>g.value===i.value),y=F1(S,v,w);y!==void 0&&i.onValueChange(y.value)}),b=v=>{a||(i.onOpenChange(!0),p()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(xb,{asChild:!0,...o,children:l.jsx(ne.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":L1(i.value)?"":void 0,...s,ref:c,onClick:te(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&b(v)}),onPointerDown:te(s.onPointerDown,v=>{d.current=v.pointerType;const S=v.target;S.hasPointerCapture(v.pointerId)&&S.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:te(s.onKeyDown,v=>{const S=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(S&&v.key===" ")&&lD.includes(v.key)&&(b(),v.preventDefault())})})})});p1.displayName=h1;var m1="SelectValue",g1=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,c=Yr(m1,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=ye(t,c.onValueNodeChange);return He(()=>{u(d)},[u,d]),l.jsx(ne.span,{...a,ref:f,style:{pointerEvents:"none"},children:L1(c.value)?l.jsx(l.Fragment,{children:i}):o})});g1.displayName=m1;var pD="SelectIcon",v1=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(ne.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});v1.displayName=pD;var mD="SelectPortal",y1=e=>l.jsx(Zc,{asChild:!0,...e});y1.displayName=mD;var Is="SelectContent",w1=h.forwardRef((e,t)=>{const n=Yr(Is,e.__scopeSelect),[r,s]=h.useState();if(He(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Fs.createPortal(l.jsx(x1,{scope:e.__scopeSelect,children:l.jsx(Nu.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(b1,{...e,ref:t})});w1.displayName=Is;var tn=10,[x1,Qr]=vi(Is),gD="SelectContentImpl",vD=Qo("SelectContent.RemoveScroll"),b1=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:v,avoidCollisions:S,...w}=e,y=Yr(Is,n),[g,x]=h.useState(null),[_,E]=h.useState(null),j=ye(t,z=>x(z)),[k,N]=h.useState(null),[T,R]=h.useState(null),I=ju(n),[U,O]=h.useState(!1),K=h.useRef(!1);h.useEffect(()=>{if(g)return s1(g)},[g]),t1();const M=h.useCallback(z=>{const[fe,...be]=I().map(re=>re.ref.current),[he]=be.slice(-1),ce=document.activeElement;for(const re of z)if(re===ce||(re==null||re.scrollIntoView({block:"nearest"}),re===fe&&_&&(_.scrollTop=0),re===he&&_&&(_.scrollTop=_.scrollHeight),re==null||re.focus(),document.activeElement!==ce))return},[I,_]),B=h.useCallback(()=>M([k,g]),[M,k,g]);h.useEffect(()=>{U&&B()},[U,B]);const{onOpenChange:A,triggerPointerDownPosRef:C}=y;h.useEffect(()=>{if(g){let z={x:0,y:0};const fe=he=>{var ce,re;z={x:Math.abs(Math.round(he.pageX)-(((ce=C.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(he.pageY)-(((re=C.current)==null?void 0:re.y)??0))}},be=he=>{z.x<=10&&z.y<=10?he.preventDefault():g.contains(he.target)||A(!1),document.removeEventListener("pointermove",fe),C.current=null};return C.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",be,{capture:!0})}}},[g,A,C]),h.useEffect(()=>{const z=()=>A(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[A]);const[P,$]=$1(z=>{const fe=I().filter(ce=>!ce.disabled),be=fe.find(ce=>ce.ref.current===document.activeElement),he=F1(fe,z,be);he&&setTimeout(()=>he.ref.current.focus())}),L=h.useCallback((z,fe,be)=>{const he=!K.current&&!be;(y.value!==void 0&&y.value===fe||he)&&(N(z),he&&(K.current=!0))},[y.value]),F=h.useCallback(()=>g==null?void 0:g.focus(),[g]),G=h.useCallback((z,fe,be)=>{const he=!K.current&&!be;(y.value!==void 0&&y.value===fe||he)&&R(z)},[y.value]),ee=r==="popper"?yh:S1,Q=ee===yh?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:b,hideWhenDetached:v,avoidCollisions:S}:{};return l.jsx(x1,{scope:n,content:g,viewport:_,onViewportChange:E,itemRefCallback:L,selectedItem:k,onItemLeave:F,itemTextRefCallback:G,focusSelectedItem:B,selectedItemText:T,position:r,isPositioned:U,searchRef:P,children:l.jsx(cm,{as:vD,allowPinchZoom:!0,children:l.jsx(lm,{asChild:!0,trapped:y.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:te(s,z=>{var fe;(fe=y.trigger)==null||fe.focus({preventScroll:!0}),z.preventDefault()}),children:l.jsx(Ua,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(ee,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:z=>z.preventDefault(),...w,...Q,onPlaced:()=>O(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:te(w.onKeyDown,z=>{const fe=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!fe&&z.key.length===1&&$(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let he=I().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(z.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ce=z.target,re=he.indexOf(ce);he=he.slice(re+1)}setTimeout(()=>M(he)),z.preventDefault()}})})})})})})});b1.displayName=gD;var yD="SelectItemAlignedPosition",S1=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Yr(Is,n),i=Qr(Is,n),[a,c]=h.useState(null),[u,d]=h.useState(null),f=ye(t,j=>d(j)),m=ju(n),p=h.useRef(!1),b=h.useRef(!0),{viewport:v,selectedItem:S,selectedItemText:w,focusSelectedItem:y}=i,g=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&v&&S&&w){const j=o.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(o.dir!=="rtl"){const ce=T.left-k.left,re=N.left-ce,Le=j.left-re,ht=j.width+Le,H=Math.max(ht,k.width),J=window.innerWidth-tn,Z=gh(re,[tn,Math.max(tn,J-H)]);a.style.minWidth=ht+"px",a.style.left=Z+"px"}else{const ce=k.right-T.right,re=window.innerWidth-N.right-ce,Le=window.innerWidth-j.right-re,ht=j.width+Le,H=Math.max(ht,k.width),J=window.innerWidth-tn,Z=gh(re,[tn,Math.max(tn,J-H)]);a.style.minWidth=ht+"px",a.style.right=Z+"px"}const R=m(),I=window.innerHeight-tn*2,U=v.scrollHeight,O=window.getComputedStyle(u),K=parseInt(O.borderTopWidth,10),M=parseInt(O.paddingTop,10),B=parseInt(O.borderBottomWidth,10),A=parseInt(O.paddingBottom,10),C=K+M+U+A+B,P=Math.min(S.offsetHeight*5,C),$=window.getComputedStyle(v),L=parseInt($.paddingTop,10),F=parseInt($.paddingBottom,10),G=j.top+j.height/2-tn,ee=I-G,Q=S.offsetHeight/2,z=S.offsetTop+Q,fe=K+M+z,be=C-fe;if(fe<=G){const ce=R.length>0&&S===R[R.length-1].ref.current;a.style.bottom="0px";const re=u.clientHeight-v.offsetTop-v.offsetHeight,Le=Math.max(ee,Q+(ce?F:0)+re+B),ht=fe+Le;a.style.height=ht+"px"}else{const ce=R.length>0&&S===R[0].ref.current;a.style.top="0px";const Le=Math.max(G,K+v.offsetTop+(ce?L:0)+Q)+be;a.style.height=Le+"px",v.scrollTop=fe-G+v.offsetTop}a.style.margin=`${tn}px 0`,a.style.minHeight=P+"px",a.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,a,u,v,S,w,o.dir,r]);He(()=>g(),[g]);const[x,_]=h.useState();He(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const E=h.useCallback(j=>{j&&b.current===!0&&(g(),y==null||y(),b.current=!1)},[g,y]);return l.jsx(xD,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:l.jsx(ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});S1.displayName=yD;var wD="SelectPopperPosition",yh=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=tn,...o}=e,i=Tu(n);return l.jsx(bb,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yh.displayName=wD;var[xD,um]=vi(Is,{}),wh="SelectViewport",_1=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Qr(wh,n),i=um(wh,n),a=ye(t,o.onViewportChange),c=h.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Nu.Slot,{scope:n,children:l.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:te(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const b=window.innerHeight-tn*2,v=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),w=Math.max(v,S);if(w<b){const y=w+p,g=Math.min(b,y),x=y-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=x>0?x:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});_1.displayName=wh;var k1="SelectGroup",[bD,SD]=vi(k1),_D=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Co();return l.jsx(bD,{scope:n,id:s,children:l.jsx(ne.div,{role:"group","aria-labelledby":s,...r,ref:t})})});_D.displayName=k1;var E1="SelectLabel",C1=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=SD(E1,n);return l.jsx(ne.div,{id:s.id,...r,ref:t})});C1.displayName=E1;var Pc="SelectItem",[kD,N1]=vi(Pc),j1=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=Yr(Pc,n),c=Qr(Pc,n),u=a.value===r,[d,f]=h.useState(o??""),[m,p]=h.useState(!1),b=ye(t,y=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,y,r,s)}),v=Co(),S=h.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(kD,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:h.useCallback(y=>{f(g=>g||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(Nu.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(ne.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:te(i.onFocus,()=>p(!0)),onBlur:te(i.onBlur,()=>p(!1)),onClick:te(i.onClick,()=>{S.current!=="mouse"&&w()}),onPointerUp:te(i.onPointerUp,()=>{S.current==="mouse"&&w()}),onPointerDown:te(i.onPointerDown,y=>{S.current=y.pointerType}),onPointerMove:te(i.onPointerMove,y=>{var g;S.current=y.pointerType,s?(g=c.onItemLeave)==null||g.call(c):S.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(i.onPointerLeave,y=>{var g;y.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:te(i.onKeyDown,y=>{var x;((x=c.searchRef)==null?void 0:x.current)!==""&&y.key===" "||(cD.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});j1.displayName=Pc;var Ui="SelectItemText",T1=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Yr(Ui,n),a=Qr(Ui,n),c=N1(Ui,n),u=hD(Ui,n),[d,f]=h.useState(null),m=ye(t,w=>f(w),c.onItemTextChange,w=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,b=h.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:S}=u;return He(()=>(v(b),()=>S(b)),[v,S,b]),l.jsxs(l.Fragment,{children:[l.jsx(ne.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Fs.createPortal(o.children,i.valueNode):null]})});T1.displayName=Ui;var P1="SelectItemIndicator",A1=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return N1(P1,n).isSelected?l.jsx(ne.span,{"aria-hidden":!0,...r,ref:t}):null});A1.displayName=P1;var xh="SelectScrollUpButton",I1=h.forwardRef((e,t)=>{const n=Qr(xh,e.__scopeSelect),r=um(xh,e.__scopeSelect),[s,o]=h.useState(!1),i=ye(t,r.onScrollButtonChange);return He(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(O1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});I1.displayName=xh;var bh="SelectScrollDownButton",R1=h.forwardRef((e,t)=>{const n=Qr(bh,e.__scopeSelect),r=um(bh,e.__scopeSelect),[s,o]=h.useState(!1),i=ye(t,r.onScrollButtonChange);return He(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(O1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});R1.displayName=bh;var O1=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Qr("SelectScrollButton",n),i=h.useRef(null),a=ju(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),He(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:te(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:te(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:te(s.onPointerLeave,()=>{c()})})}),ED="SelectSeparator",M1=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(ne.div,{"aria-hidden":!0,...r,ref:t})});M1.displayName=ED;var Sh="SelectArrow",CD=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Tu(n),o=Yr(Sh,n),i=Qr(Sh,n);return o.open&&i.position==="popper"?l.jsx(Sb,{...s,...r,ref:t}):null});CD.displayName=Sh;var ND="SelectBubbleInput",D1=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=h.useRef(null),o=ye(r,s),i=nm(t);return h.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[i,t]),l.jsx(ne.select,{...n,style:{...ux,...n.style},ref:o,defaultValue:t})});D1.displayName=ND;function L1(e){return e===""||e===void 0}function $1(e){const t=Qe(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(i=>{const a=n.current+i;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function F1(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=jD(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function jD(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var TD=f1,U1=p1,PD=g1,AD=v1,ID=y1,B1=w1,RD=_1,z1=C1,H1=j1,OD=T1,MD=A1,W1=I1,V1=R1,q1=M1;const Xi=TD,Zi=PD,Io=h.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(U1,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(AD,{asChild:!0,children:l.jsx(Lx,{className:"h-4 w-4 opacity-50"})})]}));Io.displayName=U1.displayName;const G1=h.forwardRef(({className:e,...t},n)=>l.jsx(W1,{ref:n,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(yj,{className:"h-4 w-4"})}));G1.displayName=W1.displayName;const K1=h.forwardRef(({className:e,...t},n)=>l.jsx(V1,{ref:n,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Lx,{className:"h-4 w-4"})}));K1.displayName=V1.displayName;const Ro=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(ID,{children:l.jsxs(B1,{ref:s,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(G1,{}),l.jsx(RD,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(K1,{})]})}));Ro.displayName=B1.displayName;const DD=h.forwardRef(({className:e,...t},n)=>l.jsx(z1,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));DD.displayName=z1.displayName;const Be=h.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(H1,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(MD,{children:l.jsx(Dx,{className:"h-4 w-4"})})}),l.jsx(OD,{children:t})]}));Be.displayName=H1.displayName;const LD=h.forwardRef(({className:e,...t},n)=>l.jsx(q1,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));LD.displayName=q1.displayName;const $D=({isOpen:e,onClose:t,user:n})=>{const{settings:r,updateSettings:s,requestPermissions:o}=GS(n),[i,a]=h.useState(r),[c,u]=h.useState(!1);h.useEffect(()=>{a(r)},[r]);const d=async()=>{if(i){u(!0);try{await s(i)&&(X.success("Notification settings saved successfully"),t())}catch(p){console.error("Error saving settings:",p),X.error("Failed to save notification settings")}finally{u(!1)}}},f=async()=>{try{console.log("User clicked to request permissions");const p=await o();console.log(p?"Permissions granted successfully":"Permissions denied by user")}catch(p){console.error("Error in permission request:",p),X.error("Failed to request permissions")}},m=(p,b)=>{i&&a(v=>v?{...v,[p]:b}:null)};return!e||!i?null:l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start pt-10",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 max-h-[80vh] overflow-hidden animate-scale-in",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[l.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(jn,{className:"w-5 h-5 text-green-500"}),"Notification Settings"]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(li,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("div",{className:"overflow-y-auto max-h-[60vh] p-4 space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx(zx,{className:"w-5 h-5 text-blue-600"}),l.jsx("h3",{className:"font-semibold text-blue-800",children:"Push Notifications"})]}),l.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Enable push notifications to receive real-time updates about your meals, health insights, and goals."}),l.jsxs(le,{onClick:f,variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[l.jsx(jn,{className:"w-4 h-4 mr-2"}),"Enable Push Notifications"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[l.jsx(Pj,{className:"w-5 h-5 text-gray-600"}),"Notification Types"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(We,{htmlFor:"meal-reminders",className:"font-medium",children:"Meal Reminders"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Get reminded to log your meals"})]}),l.jsx(us,{id:"meal-reminders",checked:i.meal_reminders,onCheckedChange:p=>m("meal_reminders",p)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(We,{htmlFor:"health-insights",className:"font-medium",children:"Health Insights"}),l.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered nutrition insights"})]}),l.jsx(us,{id:"health-insights",checked:i.health_insights,onCheckedChange:p=>m("health_insights",p)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(We,{htmlFor:"goal-achievements",className:"font-medium",children:"Goal Achievements"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Celebrate your progress milestones"})]}),l.jsx(us,{id:"goal-achievements",checked:i.goal_achievements,onCheckedChange:p=>m("goal_achievements",p)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(We,{htmlFor:"weekly-reports",className:"font-medium",children:"Weekly Reports"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Weekly nutrition summaries"})]}),l.jsx(us,{id:"weekly-reports",checked:i.weekly_reports,onCheckedChange:p=>m("weekly_reports",p)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(We,{htmlFor:"marketing",className:"font-medium",children:"Marketing & Tips"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Product updates and health tips"})]}),l.jsx(us,{id:"marketing",checked:i.marketing,onCheckedChange:p=>m("marketing",p)})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[l.jsx(Fx,{className:"w-5 h-5 text-gray-600"}),"Quiet Hours"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(We,{htmlFor:"quiet-start",className:"text-sm font-medium",children:"Start Time"}),l.jsxs(Xi,{value:i.quiet_hours_start,onValueChange:p=>m("quiet_hours_start",p),children:[l.jsx(Io,{children:l.jsx(Zi,{})}),l.jsx(Ro,{children:Array.from({length:24},(p,b)=>{const v=b.toString().padStart(2,"0");return l.jsxs(Be,{value:`${v}:00`,children:[v,":00"]},`${v}:00`)})})]})]}),l.jsxs("div",{children:[l.jsx(We,{htmlFor:"quiet-end",className:"text-sm font-medium",children:"End Time"}),l.jsxs(Xi,{value:i.quiet_hours_end,onValueChange:p=>m("quiet_hours_end",p),children:[l.jsx(Io,{children:l.jsx(Zi,{})}),l.jsx(Ro,{children:Array.from({length:24},(p,b)=>{const v=b.toString().padStart(2,"0");return l.jsxs(Be,{value:`${v}:00`,children:[v,":00"]},`${v}:00`)})})]})]})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"No notifications will be sent during quiet hours"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{htmlFor:"timezone",className:"text-sm font-medium",children:"Timezone"}),l.jsxs(Xi,{value:i.timezone,onValueChange:p=>m("timezone",p),children:[l.jsx(Io,{children:l.jsx(Zi,{})}),l.jsxs(Ro,{children:[l.jsx(Be,{value:"UTC",children:"UTC"}),l.jsx(Be,{value:"America/New_York",children:"Eastern Time"}),l.jsx(Be,{value:"America/Chicago",children:"Central Time"}),l.jsx(Be,{value:"America/Denver",children:"Mountain Time"}),l.jsx(Be,{value:"America/Los_Angeles",children:"Pacific Time"}),l.jsx(Be,{value:"Europe/London",children:"London"}),l.jsx(Be,{value:"Europe/Paris",children:"Paris"}),l.jsx(Be,{value:"Asia/Tokyo",children:"Tokyo"}),l.jsx(Be,{value:"Asia/Shanghai",children:"Shanghai"}),l.jsx(Be,{value:"Australia/Sydney",children:"Sydney"})]})]})]})]}),l.jsxs("div",{className:"p-4 border-t border-gray-100 flex gap-3",children:[l.jsx(le,{variant:"outline",onClick:t,className:"flex-1",disabled:c,children:"Cancel"}),l.jsx(le,{onClick:d,className:"flex-1 bg-green-600 hover:bg-green-700",disabled:c,children:c?"Saving...":"Save Settings"})]})]})})},FD=({isOpen:e,onClose:t,user:n})=>{const[r,s]=h.useState([]),[o,i]=h.useState(!1),[a,c]=h.useState(!1),{notifications:u,markAsRead:d,markAllAsRead:f,refreshNotifications:m}=GS(n);h.useEffect(()=>{e&&n&&(p(),m())},[e,n,m]),h.useEffect(()=>{if(u.length>0){const g=u.map((x,_)=>({id:parseInt(x.id.replace(/-/g,"").substring(0,8),16)||_+1e3,icon:b(x.type),title:x.title,message:x.body,time:v(new Date(x.created_at)),type:x.type,priority:x.priority==="high"?3:x.priority==="normal"?2:1}));s(x=>[...g,...x.filter(E=>E.id<1e3)].sort((E,j)=>j.priority-E.priority))}},[u]);const p=async()=>{if(n){i(!0);try{const{data:g,error:x}=await q.functions.invoke("generate-insights",{body:{userId:n.id,period:"today"}});if(x){console.warn("Generate insights failed, using default notifications:",x),S();return}if(g&&g.insights){const _=g.insights.map((E,j)=>({id:j+1,icon:b(E.insight_type),title:E.title,message:E.content,time:v(new Date(E.created_at)),type:E.insight_type,priority:E.priority||1}));_.sort((E,j)=>j.priority-E.priority),s(_)}else S()}catch(g){console.error("Error fetching insights:",g),S()}finally{i(!1)}}},b=g=>{switch(g){case"goal_achievement":return l.jsx(wa,{className:"w-5 h-5 text-green-500"});case"meal_reminder":return l.jsx(yc,{className:"w-5 h-5 text-orange-500"});case"progress_update":return l.jsx(Oj,{className:"w-5 h-5 text-blue-500"});case"nutrition_tip":return l.jsx(jn,{className:"w-5 h-5 text-purple-500"});default:return l.jsx(jn,{className:"w-5 h-5 text-gray-500"})}},v=g=>{const _=Math.floor((new Date().getTime()-g.getTime())/(1e3*60*60));if(_<1)return"Just now";if(_<24)return`${_} hour${_!==1?"s":""} ago`;const E=Math.floor(_/24);return`${E} day${E!==1?"s":""} ago`},S=()=>{s([{id:1,icon:l.jsx(wa,{className:"w-5 h-5 text-green-500"}),title:"Welcome to QuickCal AI!",message:"Start logging your meals to get personalized insights and recommendations.",time:"Just now",type:"welcome",priority:3},{id:2,icon:l.jsx(yc,{className:"w-5 h-5 text-orange-500"}),title:"Meal Logging Tip",message:"Use the camera feature to quickly scan and log your meals with AI recognition.",time:"Just now",type:"tip",priority:2}])},w=async g=>{if(n&&g.id>=1e3){const x=u.find(_=>parseInt(_.id.replace(/-/g,"").substring(0,8),16)===g.id);x&&await d(x.id)}else if(n&&g.type!=="welcome"&&g.type!=="tip")try{await q.from("ai_insights").update({is_read:!0}).eq("user_id",n.id).eq("title",g.title)}catch(x){console.error("Error marking notification as read:",x)}console.log("Notification clicked:",g.id)},y=async()=>{if(await f(),n)try{await q.from("ai_insights").update({is_read:!0}).eq("user_id",n.id).eq("is_read",!1)}catch(g){console.error("Error marking AI insights as read:",g)}t()};return e?l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start pt-20",children:[l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md mx-4 max-h-[70vh] overflow-hidden animate-scale-in",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[l.jsx(jn,{className:"w-5 h-5 text-green-500"}),"Notifications"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>c(!0),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Notification Settings",children:l.jsx(Tj,{className:"w-5 h-5 text-gray-500"})}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(li,{className:"w-5 h-5 text-gray-500"})})]})]}),l.jsx("div",{className:"overflow-y-auto max-h-[50vh]",children:o?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx(vc,{className:"w-6 h-6 animate-spin text-green-500"}),l.jsx("span",{className:"ml-2 text-gray-600",children:"Loading insights..."})]}):r.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(jn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No new notifications"})]}):r.map(g=>l.jsx("div",{className:"p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>w(g),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:g.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-gray-800 text-sm mb-1",children:g.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-2 leading-relaxed",children:g.message}),l.jsx("p",{className:"text-gray-400 text-xs",children:g.time})]})]})},g.id))}),l.jsx("div",{className:"p-4 border-t border-gray-100",children:l.jsx("button",{className:"w-full py-2 text-center text-green-600 font-medium text-sm hover:bg-green-50 rounded-lg transition-colors",onClick:y,children:"Mark All as Read"})})]}),l.jsx($D,{isOpen:a,onClose:()=>c(!1),user:n})]}):null},ly=({user:e,onCameraClick:t,onMealEdit:n})=>{var _,E;const r=Ha(),{dailyProgress:s,mealPreviews:o,refreshCalorieData:i,isLoading:a}=gi(),[c,u]=h.useState(null),[d,f]=h.useState(!1),[m,p]=h.useState("Start logging your meals to get personalized insights!");h.useEffect(()=>{e&&s.calories>0&&b()},[e,s.calories]);const b=async()=>{if(!(!e||s.calories===0))try{const{data:j,error:k}=await q.functions.invoke("analyze-nutrition",{body:{period:"today",quick:!0}});!k&&j&&j.recommendations&&j.recommendations.length>0&&p(j.recommendations[0])}catch(j){console.warn("Could not fetch AI insight:",j)}},v=((_=c==null?void 0:c.full_name)==null?void 0:_.split(" ")[0])||((E=e==null?void 0:e.email)==null?void 0:E.split("@")[0])||"Alex",[S,w]=h.useState("");function y(){const j=new Date().getHours();return j<12?"Good morning":j<18?"Good afternoon":"Good evening"}h.useEffect(()=>{const j=()=>{w(y())};j();const k=setInterval(j,6e4);return()=>clearInterval(k)},[]);function g(j){switch(j){case"breakfast":return"";case"lunch":return"";case"dinner":return"";case"snack":return"";default:return""}}h.useEffect(()=>{e&&x()},[e]);const x=async()=>{if(!e)return;const{data:j}=await q.from("profiles").select("*").eq("user_id",e.id).single();j&&u(j)};return l.jsxs("div",{className:"p-6 pb-32 space-y-6 max-w-md mx-auto min-h-screen bg-white",children:[l.jsx("div",{className:"text-center py-4 pb-6 mb-2",children:l.jsxs("h1",{className:"text-3xl font-bold text-green-600 inline-flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl",children:""}),"QuickCal AI"]})}),l.jsx("div",{className:"text-center space-y-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{}),l.jsxs("div",{className:"flex-1 text-center",children:[l.jsxs("h2",{className:"text-lg text-gray-600",children:[y(),", ",v,"!"]}),l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Fuel your day with healthy choices"})]}),l.jsxs("button",{className:"p-2 rounded-full bg-gray-50 hover:bg-gray-100 transition-colors","aria-label":"Notifications",onClick:()=>f(!0),children:[l.jsx(jn,{className:"w-6 h-6 text-green-500"}),l.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 rounded-full animate-pulse bg-gradient-to-r from-green-400 to-orange-400"})]})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(le,{onClick:t,className:"w-full h-14 text-xl font-bold text-white bg-green-500 hover:bg-green-600 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Yn,{className:"w-6 h-6 mr-3"}),"Quick Scan"]}),l.jsxs(le,{onClick:()=>r("/health-coach"),className:"w-full h-14 text-xl font-bold text-white bg-gradient-to-r from-green-500 to-orange-500 hover:from-green-600 hover:to-orange-600 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx(Dj,{className:"w-6 h-6 mr-3"}),"AI Health Coach"]})]}),l.jsxs(zt,{className:"p-6 bg-white border-0 shadow-md rounded-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Today's Calorie Insights"}),l.jsx(wa,{className:"w-5 h-5 text-green-500"})]}),l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"w-full text-center",children:[l.jsxs("p",{className:"text-xl font-bold text-green-600 mb-3",children:[Math.round(s.calories)," / ",s.goal," kcal"]}),l.jsx(am,{value:s.calories/s.goal*100,className:"w-full h-3 bg-gray-200"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center mt-4",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("span",{className:"text-lg font-bold text-orange-500",children:[Math.round(s.protein),"g"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Protein"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("span",{className:"text-lg font-bold text-green-500",children:[Math.round(s.carbs),"g"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Carbs"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("span",{className:"text-lg font-bold text-red-500",children:[Math.round(s.fats),"g"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Fat"})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Meals"}),l.jsx("div",{className:"flex flex-col gap-4",children:o.map(j=>l.jsxs(zt,{className:"p-4 bg-white border-0 shadow-md rounded-2xl flex items-center gap-4",children:[l.jsx("div",{className:"w-11 h-11 rounded-lg bg-gray-100 flex-shrink-0 flex items-center justify-center",children:j.imageUrl?l.jsx("img",{src:j.imageUrl,alt:`${j.type} food`,className:"w-11 h-11 object-cover rounded-lg",style:{objectFit:"cover",width:"45px",height:"45px",borderRadius:"8px"},onError:k=>{const N=k.target;N.style.display="none",N.parentElement.innerHTML='<span class="text-2xl">'+g(j.type)+"</span>"}}):l.jsx("span",{className:"text-2xl",children:g(j.type)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-semibold text-gray-900 capitalize text-base mb-1",children:j.type}),l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-1",children:j.calories>0?`${Math.round(j.calories)} kcal  ${j.items} item${j.items!==1?"s":""} logged`:"No items logged. Tap the camera to add your first meal!"}),j.calories>0&&l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Great choice! Let's add more meals to reach your daily goal."})]}),j.calories>0&&l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-lg font-bold text-green-600",children:Math.round(j.calories)}),l.jsx("p",{className:"text-xs text-gray-500",children:"kcal"})]}),l.jsx(le,{variant:"ghost",size:"sm",className:"p-2 text-gray-500 hover:text-gray-700",onClick:j.calories===0?t:()=>n(j.type),"aria-label":j.calories===0?"Add meal":"Edit meal",children:l.jsx(Aj,{className:"w-5 h-5"})})]},j.type))})]}),l.jsx(FD,{isOpen:d,onClose:()=>f(!1),user:e})]})},UD=()=>{const{dailyProgress:e}=gi(),[t,n]=h.useState(new Date),[r,s]=h.useState(new Date),[o,i]=h.useState("Weekly"),[a,c]=h.useState([]),[u,d]=h.useState([]),[f,m]=h.useState(null);h.useEffect(()=>{const k=new Date,N=[];for(let I=6;I>=0;I--){const U=new Date(k);U.setDate(k.getDate()-I);const O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][U.getDay()];N.push({day:O,value:0})}c(N);const T=[],R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let I=11;I>=0;I--){const U=new Date(k);U.setMonth(k.getMonth()-I);const O=R[U.getMonth()]+" "+U.getFullYear().toString().slice(-2);T.push({month:O,value:0})}d(T),p(),b()},[]);const p=async()=>{try{const k=new Date,N=new Date(k);N.setDate(k.getDate()-6);const{data:T}=await q.from("meal_logs").select("calories, logged_at").gte("logged_at",N.toISOString().split("T")[0]).lte("logged_at",k.toISOString().split("T")[0]+"T23:59:59"),R={};(T||[]).forEach(A=>{const C=A.logged_at.split("T")[0];R[C]=(R[C]||0)+(A.calories||0)});const I=[];for(let A=6;A>=0;A--){const C=new Date(k);C.setDate(k.getDate()-A);const P=C.toISOString().split("T")[0],$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][C.getDay()];I.push({day:$,value:R[P]||0})}c(I);const U=new Date(k);U.setFullYear(k.getFullYear()-1),U.setMonth(k.getMonth()+1);const{data:O}=await q.from("meal_logs").select("calories, logged_at").gte("logged_at",U.toISOString().split("T")[0]).lte("logged_at",k.toISOString()),K={};(O||[]).forEach(A=>{const C=new Date(A.logged_at),P=`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}`;K[P]=(K[P]||0)+(A.calories||0)});const M=[],B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let A=11;A>=0;A--){const C=new Date(k);C.setMonth(k.getMonth()-A);const P=`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}`,$=B[C.getMonth()]+" "+C.getFullYear().toString().slice(-2);M.push({month:$,value:K[P]||0})}d(M)}catch(k){console.error("Error fetching real calorie data:",k)}},b=async()=>{try{const{data:k}=await q.from("meal_logs").select("food_name, calories").order("logged_at",{ascending:!1}).limit(1e3);if(!k||k.length===0){m(null);return}const N={};k.forEach(R=>{var U;const I=(U=R.food_name)==null?void 0:U.trim();I&&(N[I]?(N[I].count+=1,N[I].totalCalories+=R.calories||0):N[I]={count:1,totalCalories:R.calories||0})});const T=Object.entries(N).map(([R,I])=>({name:R,calories:Math.round(I.totalCalories/I.count),frequency:I.count})).sort((R,I)=>I.frequency-R.frequency).slice(0,5).map(R=>({...R,emoji:_(R.name)}));m(T)}catch(k){console.error("Error fetching frequent foods:",k),m(null)}},v=["January","February","March","April","May","June","July","August","September","October","November","December"],S=k=>{const N=k.getFullYear(),T=k.getMonth(),R=new Date(N,T,1),U=new Date(N,T+1,0).getDate(),O=R.getDay(),K=[];for(let M=0;M<O;M++)K.push(null);for(let M=1;M<=U;M++)K.push(M);return K},w=k=>{const N=new Date(t);N.setMonth(t.getMonth()+k),n(N)},y=k=>{if(k){const N=new Date(t.getFullYear(),t.getMonth(),k);s(N)}},g=k=>k?new Date(t.getFullYear(),t.getMonth(),k).toDateString()===r.toDateString():!1,x=k=>{if(!k)return!1;const N=new Date;return new Date(t.getFullYear(),t.getMonth(),k).toDateString()===N.toDateString()},_=k=>{const N=k.toLowerCase();return N.includes("chicken")||N.includes("turkey")||N.includes("bird")?"":N.includes("rice")||N.includes("grains")||N.includes("quinoa")?"":N.includes("avocado")||N.includes("guacamole")?"":N.includes("bread")||N.includes("toast")||N.includes("pastry")?"":N.includes("cheese")||N.includes("dairy")?"":N.includes("salad")||N.includes("lettuce")?"":N.includes("fish")||N.includes("salmon")||N.includes("tuna")?"":N.includes("beef")||N.includes("meat")||N.includes("steak")?"":N.includes("vegetable")||N.includes("carrot")||N.includes("broccoli")?"":N.includes("fruit")||N.includes("apple")||N.includes("banana")?"":N.includes("pasta")||N.includes("noodle")?"":N.includes("soup")||N.includes("stew")?"":N.includes("pizza")?"":N.includes("burger")||N.includes("hamburger")?"":N.includes("egg")?"":""},E=k=>{alert(`${k.name} selected! Calories: ${k.calories} kcal/serving`)},j=()=>{const k=o==="Weekly"?a:u,N=e.goal||2e3,T=o==="Weekly"?Math.max(N,Math.max(...k.map(B=>B.value))):Math.max(N*30,Math.max(...k.map(B=>B.value))),R=o==="Weekly",I=k.length,U=16,O=R?(I-1)*8:(I-1)*4,K=R?32:24,M=I*K+O+U*2;return l.jsx("div",{className:"w-full overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",style:{WebkitOverflowScrolling:"touch"},children:l.jsxs("div",{className:"flex items-end justify-between h-40 mb-4 px-4 relative",style:{minWidth:R?"100%":`${M}px`,width:R?"100%":`${Math.max(M,700)}px`},children:[(()=>{const B=o==="Weekly"?N:N*30,C=120-B/T*120;return l.jsx("div",{className:"absolute left-4 right-4 border-t-2 border-dashed border-orange-400 opacity-70 z-10",style:{top:`${C}px`},title:`Goal: ${B.toLocaleString()} calories`,children:l.jsx("span",{className:"absolute -right-2 -top-3 text-xs text-orange-600 font-medium bg-white px-1 rounded",children:"Goal"})})})(),k.map((B,A)=>{const C=Math.max(B.value/T*120,4),P=o==="Weekly"?N:N*30,$=B.value>=P,L=$?"bg-gradient-to-t from-green-500 to-green-400 hover:from-green-600 hover:to-green-500":"bg-gradient-to-t from-orange-500 to-orange-400 hover:from-orange-600 hover:to-orange-500";return l.jsxs("div",{className:"flex flex-col items-center",style:{flex:R?"1":"none",width:R?"auto":`${K}px`,marginRight:A<k.length-1?R?"0":"4px":"0"},children:[l.jsx("div",{className:`${L} rounded-t transition-all duration-300 hover:scale-105 shadow-sm`,style:{height:`${C}px`,width:`${K}px`,minHeight:"4px"},title:`${o==="Weekly"?B.day:B.month}: ${B.value.toLocaleString()} calories ${$?"(Above Goal)":"(Below Goal)"}`}),l.jsx("span",{className:o==="Monthly"?"text-xs text-gray-600 mt-2 whitespace-nowrap transform rotate-0 sm:rotate-0 md:rotate-[-30deg] lg:rotate-[-45deg] origin-center":"text-xs text-gray-600 mt-2 text-center",style:{fontSize:o==="Monthly"?"10px":"11px",width:`${K}px`,display:"block",lineHeight:"1.2"},children:o==="Weekly"?B.day:B.month.slice(0,3)})]},A)})]})})};return l.jsxs("div",{className:"max-w-sm mx-auto min-h-screen pb-32",style:{background:"linear-gradient(135deg, #e0ffe7 0%, #fffbe6 100%)"},children:[l.jsx("div",{className:"text-center py-4",children:l.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Calendar"})}),l.jsxs("div",{className:"px-4 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("button",{onClick:()=>w(-1),className:"p-2",children:l.jsx(Mp,{className:"w-5 h-5 text-gray-600"})}),l.jsxs("h2",{className:"text-lg font-medium",children:[v[t.getMonth()]," ",t.getFullYear()]}),l.jsx("button",{onClick:()=>w(1),className:"p-2",children:l.jsx(gc,{className:"w-5 h-5 text-gray-600"})})]}),l.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(k=>l.jsx("div",{className:"text-center text-xs text-gray-500 py-2 font-medium",children:k},k)),S(t).map((k,N)=>l.jsx("div",{onClick:()=>y(k),className:`text-center py-2 text-sm cursor-pointer rounded transition-colors ${g(k)?"bg-green-500 text-white font-medium":x(k)?"bg-blue-100 text-blue-700 font-medium border border-blue-300":k?"text-gray-700 hover:bg-gray-100":"cursor-default"}`,children:k},N))]})]}),l.jsxs("div",{className:"px-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2 text-center w-full",children:"Graphs"}),l.jsxs("div",{className:"flex bg-gray-100 rounded-full p-1 self-start",children:[l.jsx("button",{onClick:()=>i("Weekly"),className:`px-4 py-1 rounded-full text-sm font-medium transition-colors ${o==="Weekly"?"bg-green-500 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Weekly"}),l.jsx("button",{onClick:()=>i("Monthly"),className:`px-4 py-1 rounded-full text-sm font-medium transition-colors ${o==="Monthly"?"bg-green-500 text-white":"text-gray-600 hover:text-gray-800"}`,children:"Monthly"})]})]}),l.jsxs("div",{className:"relative w-full",children:[l.jsx("div",{className:"absolute left-0 top-0 flex flex-col justify-between h-40 text-xs text-gray-500 z-10",children:(()=>{const k=e.goal||2e3,N=o==="Weekly"?k:k*30,T=R=>R>=1e3?`${(R/1e3).toFixed(0)}k`:R.toString();return l.jsxs(l.Fragment,{children:[l.jsx("span",{children:T(N)}),l.jsx("span",{children:T(Math.round(N*.75))}),l.jsx("span",{children:T(Math.round(N*.5))}),l.jsx("span",{children:T(Math.round(N*.25))}),l.jsx("span",{children:"0"})]})})()}),l.jsx("div",{className:"ml-8 w-full",children:j()})]}),l.jsx("div",{className:"mt-4 px-4 flex justify-center",children:l.jsxs("div",{className:"flex items-center space-x-6 text-xs text-gray-600",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-gradient-to-t from-green-500 to-green-400 rounded"}),l.jsx("span",{children:"Above Goal"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-gradient-to-t from-orange-500 to-orange-400 rounded"}),l.jsx("span",{children:"Below Goal"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-1 border-t-2 border-dashed border-orange-400"}),l.jsx("span",{children:"Goal Line"})]})]})})]}),l.jsxs("div",{className:"px-4 mb-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-800",children:"Frequently Eaten Foods"}),l.jsx("div",{className:"space-y-3",children:f===null?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("p",{className:"text-lg mb-2",children:""}),l.jsx("p",{className:"font-medium mb-1",children:"No frequent foods yet"}),l.jsx("p",{className:"text-sm",children:"Start logging meals to see what's on the menu!"})]}):f.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("p",{className:"text-lg mb-2",children:""}),l.jsx("p",{className:"font-medium mb-1",children:"No frequent foods yet"}),l.jsx("p",{className:"text-sm",children:"Start logging meals to see what's on the menu!"})]}):f.map((k,N)=>l.jsxs("button",{onClick:()=>E(k),className:"flex items-center justify-between w-full p-3 rounded-lg hover:scale-[1.02] transition-transform shadow",style:{background:"linear-gradient(135deg, #e0ffe7 0%, #fffbe6 100%)"},children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center text-2xl mr-3",children:k.emoji}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("div",{className:"font-medium text-gray-800",children:k.name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Average ",k.calories," kcal  Eaten ",k.frequency," time",k.frequency!==1?"s":""]})]})]}),l.jsx(gc,{className:"w-5 h-5 text-gray-400"})]},N))})]}),l.jsx("style",{children:`
      @media (max-width: 640px) {
        .min-w-[520px] { min-width: 420px !important; }
        .ml-8 { margin-left: 0 !important; }
      }
      @media (max-width: 400px) {
        .min-w-[520px] { min-width: 320px !important; }
      }
    `})]})},BD={breakfast:"",lunch:"",dinner:"",snack:""},zD=({user:e})=>{const{dailyProgress:t}=gi(),[n,r]=h.useState(new Date),[s,o]=h.useState(null),[i,a]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState(new Map),m=h.useMemo(()=>t.goal||2e3,[t.goal]),p=h.useMemo(()=>{if(!s||!m)return 0;const g=Math.round(s.totalCalories/m*100);return isNaN(g)||!isFinite(g)?0:g},[s==null?void 0:s.totalCalories,m]);h.useEffect(()=>{e&&!c&&b()},[e]),h.useEffect(()=>{e&&v()},[e,n]),h.useEffect(()=>{if(!e)return;const g=new Date,x=new Date(g);x.setDate(x.getDate()+1),x.setHours(0,0,0,0);const _=x.getTime()-g.getTime(),E=setTimeout(()=>{const j=new Date().toISOString().split("T")[0];f(N=>{const T=new Map(N);return T.delete(j),T});const k=setInterval(()=>{const N=new Date().toISOString().split("T")[0];f(T=>{const R=new Map(T);return R.delete(N),R})},24*60*60*1e3);return()=>clearInterval(k)},_);return()=>clearTimeout(E)},[e]);const b=h.useCallback(async()=>{if(e)try{const{data:g}=await q.from("profiles").select("avatar_url, full_name").eq("user_id",e.id).single();g&&u(g)}catch(g){console.error("Error fetching profile:",g),u({})}},[e==null?void 0:e.id]),v=h.useCallback(async()=>{if(!e)return;const g=n.toISOString().split("T")[0];if(d.has(g)){const x=d.get(g);o(x);return}a(!0);try{const{data:x,error:_}=await q.from("meal_logs").select("id, meal_type, food_name, calories, logged_at").eq("user_id",e.id).gte("logged_at",`${g}T00:00:00`).lte("logged_at",`${g}T23:59:59`).order("logged_at",{ascending:!0});if(_)throw _;const E=S(x||[]);f(j=>new Map(j).set(g,E)),o(E)}catch(x){console.error("Error fetching daily data:",x),o({totalCalories:0,mealBreakdown:{breakfast:{calories:0,items:0},lunch:{calories:0,items:0},dinner:{calories:0,items:0},snack:{calories:0,items:0}},meals:[]})}finally{a(!1)}},[e==null?void 0:e.id,n]),S=h.useCallback(g=>{const x=g.reduce((E,j)=>E+(j.calories||0),0),_=g.reduce((E,j)=>{const k=j.meal_type;return E[k]||(E[k]={calories:0,items:0}),E[k].calories+=j.calories||0,E[k].items+=1,E},{breakfast:{calories:0,items:0},lunch:{calories:0,items:0},dinner:{calories:0,items:0},snack:{calories:0,items:0}});return{totalCalories:x,mealBreakdown:_,meals:g}},[]),w=h.useMemo(()=>n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),[n]);if(!e)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(135deg, #e0ffe7 0%, #fffbe6 100%)"},children:l.jsx("p",{className:"text-gray-600",children:"Please log in to view your food history."})});const y=()=>l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"flex justify-center mb-2 w-full max-w-md mx-auto",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-2xl h-48"})}),l.jsx("div",{className:"space-y-3 px-4",children:[1,2,3].map(g=>l.jsx("div",{className:"bg-gray-200 rounded-xl h-16"},g))})]});return l.jsxs("div",{className:"min-h-screen flex flex-col pb-32 max-w-md mx-auto",style:{background:"linear-gradient(135deg, #e0ffe7 0%, #fffbe6 100%)"},children:[l.jsxs("div",{className:"p-4 mt-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-center mb-4",style:{background:"linear-gradient(90deg, #34d399 0%, #fbbf24 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Food History"}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx(Ox,{className:"w-5 h-5 text-green-600"}),l.jsx("span",{className:"text-gray-700 font-medium",children:w})]})]}),i?l.jsx(y,{}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex justify-center mb-2 w-full max-w-md mx-auto",children:l.jsx("div",{className:"w-full bg-green-50 rounded-2xl shadow p-4 flex flex-col items-center border border-green-100",children:l.jsxs("div",{className:"w-full flex flex-col items-center",children:[l.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center mb-2",children:[l.jsxs("svg",{width:"128",height:"128",viewBox:"0 0 128 128",children:[l.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#e0f2f1",strokeWidth:"8",fill:"none"}),l.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"#00c853",strokeWidth:"8",fill:"none",strokeDasharray:"352",strokeDashoffset:352-Math.min(p,100)/100*352,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s",transformOrigin:"50% 50%",transform:"rotate(-90deg)"}})]}),l.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:l.jsxs("span",{className:"text-3xl font-bold text-green-600",children:[isNaN(p)||!isFinite(p)?0:Math.min(p,100),"%"]})})]}),l.jsx("div",{className:"text-green-700 font-semibold text-lg",children:"Daily Calorie Progress"}),l.jsxs("div",{className:"text-gray-500 text-base",children:[l.jsx("span",{className:"font-bold text-green-600",children:(s==null?void 0:s.totalCalories)||0})," / ",m," kcal"]})]})})}),l.jsx("div",{className:"flex flex-col gap-4 px-2 mt-2 w-full max-w-md mx-auto",children:Object.entries(BD).map(([g,x])=>{var E;const _=((E=s==null?void 0:s.mealBreakdown)==null?void 0:E[g])||{calories:0,items:0};return l.jsxs("div",{className:`flex items-center justify-between rounded-2xl border-0 shadow-md p-3 
                    ${g==="breakfast"?"bg-gradient-to-r from-[#e0ffe7] to-[#fffbe6]":g==="lunch"?"bg-gradient-to-r from-yellow-100 to-yellow-50":g==="dinner"?"bg-gradient-to-r from-blue-100 to-blue-50":"bg-gradient-to-r from-pink-100 to-pink-50"}
                  `,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:x}),l.jsx("span",{className:"font-semibold text-base text-orange-500 capitalize",children:g})]}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsxs("span",{className:"text-green-600 font-bold text-sm",children:[_.calories||0," kcal"]}),l.jsx("span",{className:"text-gray-400 text-xs italic",children:_.items?`${_.items} item${_.items!==1?"s":""}`:"No items"})]})]},g)})}),(s==null?void 0:s.meals)&&s.meals.length>0&&l.jsxs("div",{className:"px-4 mt-4 w-full max-w-md mx-auto",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:["All Meals (",s.meals.length,")"]}),l.jsx("div",{className:"space-y-2",children:s.meals.map(g=>l.jsx("div",{className:"bg-white/80 rounded-lg p-3 shadow-sm",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-800",children:g.food_name}),l.jsx("div",{className:"text-sm text-gray-600 capitalize",children:g.meal_type})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-bold text-green-600",children:[g.calories," kcal"]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date(g.logged_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]})},g.id))})]}),l.jsxs("div",{className:"px-4 mt-6 w-full max-w-md mx-auto",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Mood-Based Recommendations"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-gradient-to-r from-yellow-100 to-yellow-50 rounded-lg p-4 border border-yellow-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-semibold text-yellow-800",children:"Energizing Foods"})]}),l.jsx("p",{className:"text-sm text-yellow-700",children:"Try bananas, almonds, or dark chocolate to boost your energy levels naturally."})]}),l.jsxs("div",{className:"bg-gradient-to-r from-pink-100 to-pink-50 rounded-lg p-4 border border-pink-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-semibold text-pink-800",children:"Rest & Sleep"})]}),l.jsx("p",{className:"text-sm text-pink-700",children:"If you're feeling tired, try oatmeal, cherries, or a warm glass of milk to help promote restful sleep."})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-purple-50 rounded-lg p-4 border border-purple-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-semibold text-purple-800",children:"Celebration"})]}),l.jsx("p",{className:"text-sm text-purple-700",children:"Celebrating something? Enjoy a small treat like dark chocolate or fruit salad, and remember to savor the moment!"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-blue-50 rounded-lg p-4 border border-blue-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-semibold text-blue-800",children:"Calming Options"})]}),l.jsx("p",{className:"text-sm text-blue-700",children:"Consider herbal tea, yogurt with berries, or chamomile for relaxation."})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-green-50 rounded-lg p-4 border border-green-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"font-semibold text-green-800",children:"Brain Boosters"})]}),l.jsx("p",{className:"text-sm text-green-700",children:"Walnuts, blueberries, and fatty fish can help improve focus and memory."})]})]})]})]})]})};var Y1={exports:{}},Q1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ri=h;function HD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WD=typeof Object.is=="function"?Object.is:HD,VD=ri.useState,qD=ri.useEffect,GD=ri.useLayoutEffect,KD=ri.useDebugValue;function YD(e,t){var n=t(),r=VD({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return GD(function(){s.value=n,s.getSnapshot=t,Rd(s)&&o({inst:s})},[e,n,t]),qD(function(){return Rd(s)&&o({inst:s}),e(function(){Rd(s)&&o({inst:s})})},[e]),KD(n),n}function Rd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!WD(e,n)}catch{return!0}}function QD(e,t){return t()}var JD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QD:YD;Q1.useSyncExternalStore=ri.useSyncExternalStore!==void 0?ri.useSyncExternalStore:JD;Y1.exports=Q1;var XD=Y1.exports;function ZD(){return XD.useSyncExternalStore(eL,()=>!0,()=>!1)}function eL(){return()=>{}}var dm="Avatar",[tL]=mn(dm),[nL,J1]=tL(dm),X1=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=h.useState("idle");return l.jsx(nL,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:l.jsx(ne.span,{...r,ref:t})})});X1.displayName=dm;var Z1="AvatarImage",e_=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=J1(Z1,n),a=rL(r,o),c=Qe(u=>{s(u),i.onImageLoadingStatusChange(u)});return He(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(ne.img,{...o,ref:t,src:r}):null});e_.displayName=Z1;var t_="AvatarFallback",n_=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=J1(t_,n),[i,a]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?l.jsx(ne.span,{...s,ref:t}):null});n_.displayName=t_;function cy(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rL(e,{referrerPolicy:t,crossOrigin:n}){const r=ZD(),s=h.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,a]=h.useState(()=>cy(o,e));return He(()=>{a(cy(o,e))},[o,e]),He(()=>{const c=f=>()=>{a(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var r_=X1,s_=e_,o_=n_;const i_=h.forwardRef(({className:e,...t},n)=>l.jsx(r_,{ref:n,className:de("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));i_.displayName=r_.displayName;const a_=h.forwardRef(({className:e,...t},n)=>l.jsx(s_,{ref:n,className:de("aspect-square h-full w-full",e),...t}));a_.displayName=s_.displayName;const l_=h.forwardRef(({className:e,...t},n)=>l.jsx(o_,{ref:n,className:de("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));l_.displayName=o_.displayName;var Pu="Dialog",[c_]=mn(Pu),[sL,vn]=c_(Pu),u_=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),c=h.useRef(null),[u,d]=Jo({prop:r,defaultProp:s??!1,onChange:o,caller:Pu});return l.jsx(sL,{scope:t,triggerRef:a,contentRef:c,contentId:Co(),titleId:Co(),descriptionId:Co(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};u_.displayName=Pu;var d_="DialogTrigger",oL=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=vn(d_,n),o=ye(t,s.triggerRef);return l.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pm(s.open),...r,ref:o,onClick:te(e.onClick,s.onOpenToggle)})});oL.displayName=d_;var fm="DialogPortal",[iL,f_]=c_(fm,{forceMount:void 0}),h_=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=vn(fm,t);return l.jsx(iL,{scope:t,forceMount:n,children:h.Children.map(r,i=>l.jsx(gn,{present:n||o.open,children:l.jsx(Zc,{asChild:!0,container:s,children:i})}))})};h_.displayName=fm;var Ac="DialogOverlay",p_=h.forwardRef((e,t)=>{const n=f_(Ac,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=vn(Ac,e.__scopeDialog);return o.modal?l.jsx(gn,{present:r||o.open,children:l.jsx(lL,{...s,ref:t})}):null});p_.displayName=Ac;var aL=Qo("DialogOverlay.RemoveScroll"),lL=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=vn(Ac,n);return l.jsx(cm,{as:aL,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ne.div,{"data-state":pm(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Rs="DialogContent",m_=h.forwardRef((e,t)=>{const n=f_(Rs,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=vn(Rs,e.__scopeDialog);return l.jsx(gn,{present:r||o.open,children:o.modal?l.jsx(cL,{...s,ref:t}):l.jsx(uL,{...s,ref:t})})});m_.displayName=Rs;var cL=h.forwardRef((e,t)=>{const n=vn(Rs,e.__scopeDialog),r=h.useRef(null),s=ye(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return s1(o)},[]),l.jsx(g_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault())})}),uL=h.forwardRef((e,t)=>{const n=vn(Rs,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return l.jsx(g_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),g_=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=vn(Rs,n),c=h.useRef(null),u=ye(t,c);return t1(),l.jsxs(l.Fragment,{children:[l.jsx(lm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Ua,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":pm(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(dL,{titleId:a.titleId}),l.jsx(hL,{contentRef:c,descriptionId:a.descriptionId})]})]})}),hm="DialogTitle",v_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=vn(hm,n);return l.jsx(ne.h2,{id:s.titleId,...r,ref:t})});v_.displayName=hm;var y_="DialogDescription",w_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=vn(y_,n);return l.jsx(ne.p,{id:s.descriptionId,...r,ref:t})});w_.displayName=y_;var x_="DialogClose",b_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=vn(x_,n);return l.jsx(ne.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>s.onOpenChange(!1))})});b_.displayName=x_;function pm(e){return e?"open":"closed"}var S_="DialogTitleWarning",[a5,__]=SN(S_,{contentName:Rs,titleName:hm,docsSlug:"dialog"}),dL=({titleId:e})=>{const t=__(S_),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},fL="DialogDescriptionWarning",hL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${__(fL).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},pL=u_,mL=h_,k_=p_,E_=m_,C_=v_,N_=w_,gL=b_;const ea=pL,vL=mL,j_=h.forwardRef(({className:e,...t},n)=>l.jsx(k_,{ref:n,className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));j_.displayName=k_.displayName;const Oo=h.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(vL,{children:[l.jsx(j_,{}),l.jsxs(E_,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(gL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(li,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Oo.displayName=E_.displayName;const Ca=({className:e,...t})=>l.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ca.displayName="DialogHeader";const Na=h.forwardRef(({className:e,...t},n)=>l.jsx(C_,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",e),...t}));Na.displayName=C_.displayName;const T_=h.forwardRef(({className:e,...t},n)=>l.jsx(N_,{ref:n,className:de("text-sm text-muted-foreground",e),...t}));T_.displayName=N_.displayName;var Gn;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(Gn||(Gn={}));var ta;(function(e){e.Rear="REAR",e.Front="FRONT"})(ta||(ta={}));var ja;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(ja||(ja={}));class yL extends em{async getPhoto(t){return new Promise(async(n,r)=>{if(t.webUseInput||t.source===Gn.Photos)this.fileInputExperience(t,n,r);else if(t.source===Gn.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=t.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async o=>{o.detail===0?this.fileInputExperience(t,n,r):this.cameraExperience(t,n,r)})}else this.cameraExperience(t,n,r)})}async pickImages(t){return new Promise(async(n,r)=>{this.multipleFileInputExperience(n,r)})}async cameraExperience(t,n,r){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=t.direction===ta.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async o=>{const i=o.detail;i===null?r(new Po("User cancelled photos app")):i instanceof Error?r(i):n(await this._getCameraPhoto(i,t)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch{this.fileInputExperience(t,n,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,n,r)}fileInputExperience(t,n,r){let s=document.querySelector("#_capacitor-camera-input");const o=()=>{var i;(i=s.parentNode)===null||i===void 0||i.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",i=>{const a=s.files[0];let c="jpeg";if(a.type==="image/png"?c="png":a.type==="image/gif"&&(c="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const u=new FileReader;u.addEventListener("load",()=>{if(t.resultType==="dataUrl")n({dataUrl:u.result,format:c});else if(t.resultType==="base64"){const d=u.result.split(",")[1];n({base64String:d,format:c})}o()}),u.readAsDataURL(a)}else n({webPath:URL.createObjectURL(a),format:c}),o()}),s.addEventListener("cancel",i=>{r(new Po("User cancelled photos app")),o()})),s.accept="image/*",s.capture=!0,t.source===Gn.Photos||t.source===Gn.Prompt?s.removeAttribute("capture"):t.direction===ta.Front?s.capture="user":t.direction===ta.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(t,n){let r=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",o=>{const i=[];for(let a=0;a<r.files.length;a++){const c=r.files[a];let u="jpeg";c.type==="image/png"?u="png":c.type==="image/gif"&&(u="gif"),i.push({webPath:URL.createObjectURL(c),format:u})}t({photos:i}),s()}),r.addEventListener("cancel",o=>{n(new Po("User cancelled photos app")),s()})),r.accept="image/*",r.click()}_getCameraPhoto(t,n){return new Promise((r,s)=>{const o=new FileReader,i=t.type.split("/")[1];n.resultType==="uri"?r({webPath:URL.createObjectURL(t),format:i,saved:!1}):(o.readAsDataURL(t),o.onloadend=()=>{const a=o.result;n.resultType==="dataUrl"?r({dataUrl:a,format:i,saved:!1}):r({base64String:a.split(",")[1],format:i,saved:!1})},o.onerror=a=>{s(a)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const _h=qa("Camera",{web:()=>new yL});function wL(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return new Proxy({},{get(r,s){return(o,i,a)=>{const c=e.Capacitor.Plugins[n];if(c===void 0){a(new Error(`Capacitor plugin ${n} not found`));return}if(typeof c[s]!="function"){a(new Error(`Method ${s} not found in Capacitor plugin ${n}`));return}(async()=>{try{const u=await c[s](o);i(u)}catch(u){a(u)}})()}}})}})}function xL(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return e.cordova.plugins[n]}})}function bL(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?wL(window):window.cordova!==void 0&&xL(window))}var kh;(function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE",e.ExternalCache="EXTERNAL_CACHE",e.LibraryNoCloud="LIBRARY_NO_CLOUD",e.Temporary="TEMPORARY"})(kh||(kh={}));var Eh;(function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"})(Eh||(Eh={}));const SL=qa("Filesystem",{web:()=>Us(()=>import("./web-CE6D7Puf.js"),[]).then(e=>new e.FilesystemWeb)});bL();const P_=h.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));P_.displayName="Textarea";const _L=nu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function uy({className:e,variant:t,...n}){return l.jsx("div",{className:de(_L({variant:t}),e),...n})}function kL({user:e}){const{requestPermissions:t,sendNotification:n,notifications:r,unreadCount:s,sendMealReminder:o,sendHealthInsight:i,sendGoalAchievement:a}=tm(e),[c,u]=h.useState("unknown"),[d,f]=h.useState(""),[m,p]=h.useState([]),[b,v]=h.useState(!1),[S,w]=h.useState(""),[y,g]=h.useState(""),[x,_]=h.useState("test"),[E,j]=h.useState("normal"),[k,N]=h.useState(""),[T,R]=h.useState(""),[I,U]=h.useState(""),[O,K]=h.useState("once");h.useEffect(()=>{M(),B()},[e]);const M=async()=>{if(e)try{const{data:F}=await q.from("fcm_tokens").select("*").eq("user_id",e.id).eq("is_active",!0);F&&F.length>0?(u("granted"),f(F[0].token)):u("denied")}catch(F){console.error("Error checking permission status:",F)}},B=async()=>{if(e)try{const{data:F}=await q.from("fcm_tokens").select("token").eq("user_id",e.id).eq("is_active",!0).limit(1);F&&F.length>0&&f(F[0].token)}catch(F){console.error("Error loading FCM token:",F)}},A=async()=>{v(!0);try{await t()?(u("granted"),await B(),X.success("Push notifications enabled!")):(u("denied"),X.error("Push notification permission denied"))}catch(F){console.error("Error requesting permissions:",F),X.error("Failed to request permissions")}finally{v(!1)}},C=(F,G,ee)=>{const Q={id:Date.now().toString(),title:F,body:G,type:ee,status:"pending"};return p(z=>[Q,...z]),Q.id},P=(F,G,ee)=>{p(Q=>Q.map(z=>z.id===F?{...z,status:G,sentAt:ee}:z))},$=async()=>{if(!e||!S||!y){X.error("Please fill in title and body");return}const F=C(S,y,x);v(!0);try{await n(e.id,{title:S,body:y,type:x,priority:E,data:{testId:F,timestamp:new Date().toISOString()}})?(P(F,"sent",new Date().toISOString()),X.success("Notification sent successfully!"),w(""),g("")):(P(F,"failed"),X.error("Failed to send notification"))}catch(G){console.error("Error sending notification:",G),P(F,"failed"),X.error("Error sending notification")}finally{v(!1)}},L=async F=>{if(e){v(!0);try{let G=!1,ee="",Q="";switch(F){case"meal":ee="Meal Reminder",Q="Time to log your lunch!",G=await o(e.id,"lunch");break;case"health":ee="Health Insight",Q="You've been doing great with your nutrition goals this week!",G=await i(e.id,Q);break;case"goal":ee="Goal Achievement",Q="Congratulations! You've reached your daily calorie goal!",G=await a(e.id,Q);break}const z=C(ee,Q,F);G?(P(z,"sent",new Date().toISOString()),X.success(`${F} notification sent!`)):(P(z,"failed"),X.error(`Failed to send ${F} notification`))}catch(G){console.error(`Error sending ${F} notification:`,G),X.error(`Error sending ${F} notification`)}finally{v(!1)}}};return e?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(zt,{children:[l.jsx(ls,{children:l.jsxs(cs,{className:"flex items-center gap-2",children:[l.jsx(jn,{className:"w-5 h-5"}),"Notification Permission Status"]})}),l.jsxs(ps,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"Status:"}),l.jsx(uy,{variant:c==="granted"?"default":"destructive",children:c==="granted"?"Granted":c==="denied"?"Denied":"Unknown"})]}),c!=="granted"&&l.jsxs(le,{onClick:A,disabled:b,children:[l.jsx(zx,{className:"w-4 h-4 mr-2"}),"Enable Notifications"]})]}),d&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{children:"FCM Token (for debugging):"}),l.jsx("div",{className:"p-2 bg-muted rounded text-xs font-mono break-all",children:d})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("span",{children:["Unread Notifications: ",s]}),l.jsxs("span",{children:["Recent Notifications: ",r.length]})]})]})]}),c==="granted"&&l.jsxs(l.Fragment,{children:[l.jsxs(zt,{children:[l.jsxs(ls,{children:[l.jsx(cs,{children:"Quick Test Notifications"}),l.jsx(yo,{children:"Send predefined notifications instantly"})]}),l.jsx(ps,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(le,{onClick:()=>L("meal"),disabled:b,className:"flex items-center gap-2",children:[l.jsx(yc,{className:"w-4 h-4"}),"Meal Reminder"]}),l.jsxs(le,{onClick:()=>L("health"),disabled:b,variant:"outline",className:"flex items-center gap-2",children:[l.jsx(_j,{className:"w-4 h-4"}),"Health Insight"]}),l.jsxs(le,{onClick:()=>L("goal"),disabled:b,variant:"outline",className:"flex items-center gap-2",children:[l.jsx(wa,{className:"w-4 h-4"}),"Goal Achievement"]})]})})]}),l.jsxs(zt,{children:[l.jsxs(ls,{children:[l.jsx(cs,{children:"Send Custom Notification"}),l.jsx(yo,{children:"Create and send a custom notification"})]}),l.jsxs(ps,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{htmlFor:"title",children:"Title"}),l.jsx(ct,{id:"title",value:S,onChange:F=>w(F.target.value),placeholder:"Notification title"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{htmlFor:"type",children:"Type"}),l.jsxs(Xi,{value:x,onValueChange:_,children:[l.jsx(Io,{children:l.jsx(Zi,{})}),l.jsxs(Ro,{children:[l.jsx(Be,{value:"test",children:"Test"}),l.jsx(Be,{value:"meal_reminder",children:"Meal Reminder"}),l.jsx(Be,{value:"health_insight",children:"Health Insight"}),l.jsx(Be,{value:"goal_achievement",children:"Goal Achievement"}),l.jsx(Be,{value:"general",children:"General"})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{htmlFor:"body",children:"Message"}),l.jsx(P_,{id:"body",value:y,onChange:F=>g(F.target.value),placeholder:"Notification message",rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(We,{htmlFor:"priority",children:"Priority"}),l.jsxs(Xi,{value:E,onValueChange:F=>j(F),children:[l.jsx(Io,{children:l.jsx(Zi,{})}),l.jsxs(Ro,{children:[l.jsx(Be,{value:"low",children:"Low"}),l.jsx(Be,{value:"normal",children:"Normal"}),l.jsx(Be,{value:"high",children:"High"})]})]})]}),l.jsxs(le,{onClick:$,disabled:b||!S||!y,children:[l.jsx(Bx,{className:"w-4 h-4 mr-2"}),"Send Notification"]})]})]}),m.length>0&&l.jsxs(zt,{children:[l.jsxs(ls,{children:[l.jsx(cs,{children:"Test Results"}),l.jsx(yo,{children:"Recent notification tests"})]}),l.jsx(ps,{children:l.jsx("div",{className:"space-y-3",children:m.map(F=>l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex-shrink-0 mt-1",children:[F.status==="sent"&&l.jsx($x,{className:"w-4 h-4 text-green-500"}),F.status==="failed"&&l.jsx(wj,{className:"w-4 h-4 text-red-500"}),F.status==="pending"&&l.jsx(Fx,{className:"w-4 h-4 text-yellow-500"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-medium",children:F.title}),l.jsx(uy,{variant:"outline",className:"text-xs",children:F.type})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:F.body}),F.sentAt&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sent: ",new Date(F.sentAt).toLocaleString()]})]})]},F.id))})})]})]})]}):l.jsx(zt,{children:l.jsxs(ls,{children:[l.jsx(cs,{children:"Notification Tester"}),l.jsx(yo,{children:"Please log in to test notifications"})]})})}const EL=()=>{};var dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},CL=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=e[n++],i=e[n++],a=e[n++],c=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++],i=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return t.join("")},I_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const o=e[s],i=s+1<e.length,a=i?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;c||(p=64,i||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(A_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):CL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const o=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,o==null||a==null||u==null||f==null)throw new NL;const m=o<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class NL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jL=function(e){const t=A_(e);return I_.encodeByteArray(t,!0)},R_=function(e){return jL(e).replace(/\./g,"")},TL=function(e){try{return I_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=()=>PL().__FIREBASE_DEFAULTS__,IL=()=>{if(typeof process>"u"||typeof dy>"u")return;const e=dy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},RL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&TL(e[1]);return t&&JSON.parse(t)},OL=()=>{try{return EL()||AL()||IL()||RL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},O_=()=>{var e;return(e=OL())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function M_(){try{return typeof indexedDB=="object"}catch{return!1}}function D_(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;t(((o=s.error)==null?void 0:o.message)||"")}}catch(n){t(n)}})}function DL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL="FirebaseError";class yi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=LL,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,o=this.errors[t],i=o?$L(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new yi(s,a,r)}}function $L(e,t){return e.replace(FL,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const FL=/\{\$([^}]+)}/g;function Ch(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const o=e[s],i=t[s];if(fy(o)&&fy(i)){if(!Ch(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function fy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(e){return e&&e._delegate?e._delegate:e}class Vr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ML;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zL(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(t=is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=is){return this.instances.has(t)}getOptions(t=is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BL(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=is){return this.component?this.component.multipleInstances?t:is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BL(e){return e===is?void 0:e}function zL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new UL(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Te||(Te={}));const WL={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},VL=Te.INFO,qL={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},GL=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=qL[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class KL{constructor(t){this.name=t,this._logLevel=VL,this._logHandler=GL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...t),this._logHandler(this,Te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...t),this._logHandler(this,Te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...t),this._logHandler(this,Te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...t),this._logHandler(this,Te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...t),this._logHandler(this,Te.ERROR,...t)}}const YL=(e,t)=>t.some(n=>e instanceof n);let hy,py;function QL(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JL(){return py||(py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,Nh=new WeakMap,$_=new WeakMap,Od=new WeakMap,gm=new WeakMap;function XL(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{n(Qn(e.result)),s()},i=()=>{r(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&L_.set(n,e)}).catch(()=>{}),gm.set(t,e),t}function ZL(e){if(Nh.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});Nh.set(e,t)}let jh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Nh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||$_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function e$(e){jh=e(jh)}function t$(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Md(this),t,...n);return $_.set(r,t.sort?t.sort():[t]),Qn(r)}:JL().includes(e)?function(...t){return e.apply(Md(this),t),Qn(L_.get(this))}:function(...t){return Qn(e.apply(Md(this),t))}}function n$(e){return typeof e=="function"?t$(e):(e instanceof IDBTransaction&&ZL(e),YL(e,QL())?new Proxy(e,jh):e)}function Qn(e){if(e instanceof IDBRequest)return XL(e);if(Od.has(e))return Od.get(e);const t=n$(e);return t!==e&&(Od.set(e,t),gm.set(t,e)),t}const Md=e=>gm.get(e);function Iu(e,t,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(e,t),a=Qn(i);return r&&i.addEventListener("upgradeneeded",c=>{r(Qn(i.result),c.oldVersion,c.newVersion,Qn(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function Dd(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),Qn(n).then(()=>{})}const r$=["get","getKey","getAll","getAllKeys","count"],s$=["put","add","delete","clear"],Ld=new Map;function my(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=s$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||r$.includes(n)))return;const o=async function(i,...a){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Ld.set(t,o),o}e$(e=>({...e,get:(t,n,r)=>my(t,n)||e.get(t,n,r),has:(t,n)=>!!my(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function i$(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Th="@firebase/app",gy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new KL("@firebase/app"),a$="@firebase/app-compat",l$="@firebase/analytics-compat",c$="@firebase/analytics",u$="@firebase/app-check-compat",d$="@firebase/app-check",f$="@firebase/auth",h$="@firebase/auth-compat",p$="@firebase/database",m$="@firebase/data-connect",g$="@firebase/database-compat",v$="@firebase/functions",y$="@firebase/functions-compat",w$="@firebase/installations",x$="@firebase/installations-compat",b$="@firebase/messaging",S$="@firebase/messaging-compat",_$="@firebase/performance",k$="@firebase/performance-compat",E$="@firebase/remote-config",C$="@firebase/remote-config-compat",N$="@firebase/storage",j$="@firebase/storage-compat",T$="@firebase/firestore",P$="@firebase/ai",A$="@firebase/firestore-compat",I$="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="[DEFAULT]",R$={[Th]:"fire-core",[a$]:"fire-core-compat",[c$]:"fire-analytics",[l$]:"fire-analytics-compat",[d$]:"fire-app-check",[u$]:"fire-app-check-compat",[f$]:"fire-auth",[h$]:"fire-auth-compat",[p$]:"fire-rtdb",[m$]:"fire-data-connect",[g$]:"fire-rtdb-compat",[v$]:"fire-fn",[y$]:"fire-fn-compat",[w$]:"fire-iid",[x$]:"fire-iid-compat",[b$]:"fire-fcm",[S$]:"fire-fcm-compat",[_$]:"fire-perf",[k$]:"fire-perf-compat",[E$]:"fire-rc",[C$]:"fire-rc-compat",[N$]:"fire-gcs",[j$]:"fire-gcs-compat",[T$]:"fire-fst",[A$]:"fire-fst-compat",[P$]:"fire-vertex","fire-js":"fire-js",[I$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,O$=new Map,Ah=new Map;function vy(e,t){try{e.container.addComponent(t)}catch(n){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Os(e){const t=e.name;if(Ah.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;Ah.set(t,e);for(const n of Ic.values())vy(n,e);for(const n of O$.values())vy(n,e);return!0}function vm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Au("app","Firebase",M$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}function F_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Ph,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw Fr.create("bad-app-name",{appName:String(s)});if(n||(n=O_()),!n)throw Fr.create("no-options");const o=Ic.get(s);if(o){if(Ch(n,o.options)&&Ch(r,o.config))return o;throw Fr.create("duplicate-app",{appName:s})}const i=new HL(s);for(const c of Ah.values())i.addComponent(c);const a=new D$(n,r,i);return Ic.set(s,a),a}function L$(e=Ph){const t=Ic.get(e);if(!t&&e===Ph&&O_())return F_();if(!t)throw Fr.create("no-app",{appName:e});return t}function Ur(e,t,n){let r=R$[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const i=[`Unable to register library "${r}" with version "${t}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&i.push("and"),o&&i.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(i.join(" "));return}Os(new Vr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="firebase-heartbeat-database",F$=1,Ta="firebase-heartbeat-store";let $d=null;function U_(){return $d||($d=Iu($$,F$,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ta)}catch(n){console.warn(n)}}}}).catch(e=>{throw Fr.create("idb-open",{originalErrorMessage:e.message})})),$d}async function U$(e){try{const n=(await U_()).transaction(Ta),r=await n.objectStore(Ta).get(B_(e));return await n.done,r}catch(t){if(t instanceof yi)rr.warn(t.message);else{const n=Fr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});rr.warn(n.message)}}}async function yy(e,t){try{const r=(await U_()).transaction(Ta,"readwrite");await r.objectStore(Ta).put(t,B_(e)),await r.done}catch(n){if(n instanceof yi)rr.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(r.message)}}}function B_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=1024,z$=30;class H${constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wy();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>z$){const i=q$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wy(),{heartbeatsToSend:r,unsentEntries:s}=W$(this._heartbeatsCache.heartbeats),o=R_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return rr.warn(n),""}}}function wy(){return new Date().toISOString().substring(0,10)}function W$(e,t=B$){const n=[];let r=e.slice();for(const s of e){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),xy(n)>t){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xy(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M_()?D_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return yy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return yy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function xy(e){return R_(JSON.stringify({version:2,heartbeats:e})).length}function q$(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(e){Os(new Vr("platform-logger",t=>new o$(t),"PRIVATE")),Os(new Vr("heartbeat",t=>new H$(t),"PRIVATE")),Ur(Th,gy,e),Ur(Th,gy,"esm2020"),Ur("fire-js","")}G$("");var K$="firebase",Y$="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(K$,Y$,"app");const z_="@firebase/installations",ym="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=1e4,W_=`w:${ym}`,V_="FIS_v2",Q$="https://firebaseinstallations.googleapis.com/v1",J$=60*60*1e3,X$="installations",Z$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ms=new Au(X$,Z$,e4);function q_(e){return e instanceof yi&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_({projectId:e}){return`${Q$}/projects/${e}/installations`}function K_(e){return{token:e.token,requestStatus:2,expiresIn:n4(e.expiresIn),creationTime:Date.now()}}async function Y_(e,t){const r=(await t.json()).error;return Ms.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Q_({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function t4(e,{refreshToken:t}){const n=Q_(e);return n.append("Authorization",r4(t)),n}async function J_(e){const t=await e();return t.status>=500&&t.status<600?e():t}function n4(e){return Number(e.replace("s","000"))}function r4(e){return`${V_} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=G_(e),s=Q_(e),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const i={fid:n,authVersion:V_,appId:e.appId,sdkVersion:W_},a={method:"POST",headers:s,body:JSON.stringify(i)},c=await J_(()=>fetch(r,a));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:K_(u.authToken)}}else throw await Y_("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=/^[cdef][\w-]{21}$/,Ih="";function a4(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=l4(e);return i4.test(n)?n:Ih}catch{return Ih}}function l4(e){return o4(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function ek(e,t){const n=Ru(e);tk(n,t),c4(n,t)}function tk(e,t){const n=Z_.get(e);if(n)for(const r of n)r(t)}function c4(e,t){const n=u4();n&&n.postMessage({key:e,fid:t}),d4()}let ms=null;function u4(){return!ms&&"BroadcastChannel"in self&&(ms=new BroadcastChannel("[Firebase] FID Change"),ms.onmessage=e=>{tk(e.data.key,e.data.fid)}),ms}function d4(){Z_.size===0&&ms&&(ms.close(),ms=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="firebase-installations-database",h4=1,Ds="firebase-installations-store";let Fd=null;function wm(){return Fd||(Fd=Iu(f4,h4,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ds)}}})),Fd}async function Rc(e,t){const n=Ru(e),s=(await wm()).transaction(Ds,"readwrite"),o=s.objectStore(Ds),i=await o.get(n);return await o.put(t,n),await s.done,(!i||i.fid!==t.fid)&&ek(e,t.fid),t}async function nk(e){const t=Ru(e),r=(await wm()).transaction(Ds,"readwrite");await r.objectStore(Ds).delete(t),await r.done}async function Ou(e,t){const n=Ru(e),s=(await wm()).transaction(Ds,"readwrite"),o=s.objectStore(Ds),i=await o.get(n),a=t(i);return a===void 0?await o.delete(n):await o.put(a,n),await s.done,a&&(!i||i.fid!==a.fid)&&ek(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(e){let t;const n=await Ou(e.appConfig,r=>{const s=p4(r),o=m4(e,s);return t=o.registrationPromise,o.installationEntry});return n.fid===Ih?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function p4(e){const t=e||{fid:a4(),registrationStatus:0};return rk(t)}function m4(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ms.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=g4(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:v4(e)}:{installationEntry:t}}async function g4(e,t){try{const n=await s4(e,t);return Rc(e.appConfig,n)}catch(n){throw q_(n)&&n.customData.serverCode===409?await nk(e.appConfig):await Rc(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function v4(e){let t=await by(e.appConfig);for(;t.registrationStatus===1;)await X_(100),t=await by(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await xm(e);return r||n}return t}function by(e){return Ou(e,t=>{if(!t)throw Ms.create("installation-not-found");return rk(t)})}function rk(e){return y4(e)?{fid:e.fid,registrationStatus:0}:e}function y4(e){return e.registrationStatus===1&&e.registrationTime+H_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4({appConfig:e,heartbeatServiceProvider:t},n){const r=x4(e,n),s=t4(e,n),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const i={installation:{sdkVersion:W_,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(i)},c=await J_(()=>fetch(r,a));if(c.ok){const u=await c.json();return K_(u)}else throw await Y_("Generate Auth Token",c)}function x4(e,{fid:t}){return`${G_(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(e,t=!1){let n;const r=await Ou(e.appConfig,o=>{if(!sk(o))throw Ms.create("not-registered");const i=o.authToken;if(!t&&_4(i))return o;if(i.requestStatus===1)return n=b4(e,t),o;{if(!navigator.onLine)throw Ms.create("app-offline");const a=E4(o);return n=S4(e,a),a}});return n?await n:r.authToken}async function b4(e,t){let n=await Sy(e.appConfig);for(;n.authToken.requestStatus===1;)await X_(100),n=await Sy(e.appConfig);const r=n.authToken;return r.requestStatus===0?bm(e,t):r}function Sy(e){return Ou(e,t=>{if(!sk(t))throw Ms.create("not-registered");const n=t.authToken;return C4(n)?{...t,authToken:{requestStatus:0}}:t})}async function S4(e,t){try{const n=await w4(e,t),r={...t,authToken:n};return await Rc(e.appConfig,r),n}catch(n){if(q_(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nk(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Rc(e.appConfig,r)}throw n}}function sk(e){return e!==void 0&&e.registrationStatus===2}function _4(e){return e.requestStatus===2&&!k4(e)}function k4(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+J$}function E4(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function C4(e){return e.requestStatus===1&&e.requestTime+H_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(e){const t=e,{installationEntry:n,registrationPromise:r}=await xm(t);return r?r.catch(console.error):bm(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(e,t=!1){const n=e;return await T4(n),(await bm(n,t)).token}async function T4(e){const{registrationPromise:t}=await xm(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(e){if(!e||!e.options)throw Ud("App Configuration");if(!e.name)throw Ud("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ud(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Ud(e){return Ms.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="installations",A4="installations-internal",I4=e=>{const t=e.getProvider("app").getImmediate(),n=P4(t),r=vm(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},R4=e=>{const t=e.getProvider("app").getImmediate(),n=vm(t,ok).getImmediate();return{getId:()=>N4(n),getToken:s=>j4(n,s)}};function O4(){Os(new Vr(ok,I4,"PUBLIC")),Os(new Vr(A4,R4,"PRIVATE"))}O4();Ur(z_,ym);Ur(z_,ym,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="/firebase-messaging-sw.js",D4="/firebase-cloud-messaging-push-scope",ik="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",L4="https://fcmregistrations.googleapis.com/v1",ak="google.c.a.c_id",$4="google.c.a.c_l",F4="google.c.a.ts",U4="google.c.a.e",_y=1e4;var ky;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(ky||(ky={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Pa;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Pa||(Pa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function B4(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let o=0;o<r.length;++o)s[o]=r.charCodeAt(o);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="fcm_token_details_db",z4=5,Ey="fcm_token_object_Store";async function H4(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(Bd))return null;let t=null;return(await Iu(Bd,z4,{upgrade:async(r,s,o,i)=>{if(s<2||!r.objectStoreNames.contains(Ey))return;const a=i.objectStore(Ey),c=await a.index("fcmSenderId").get(e);if(await a.clear(),!!c){if(s===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;t={token:u.fcmToken,createTime:u.createTime??Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:zn(u.vapidKey)}}}else if(s===3){const u=c;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:zn(u.auth),p256dh:zn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:zn(u.vapidKey)}}}else if(s===4){const u=c;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:zn(u.auth),p256dh:zn(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:zn(u.vapidKey)}}}}}})).close(),await Dd(Bd),await Dd("fcm_vapid_details_db"),await Dd("undefined"),W4(t)?t:null}function W4(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="firebase-messaging-database",q4=1,Aa="firebase-messaging-store";let zd=null;function lk(){return zd||(zd=Iu(V4,q4,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Aa)}}})),zd}async function G4(e){const t=ck(e),r=await(await lk()).transaction(Aa).objectStore(Aa).get(t);if(r)return r;{const s=await H4(e.appConfig.senderId);if(s)return await Sm(e,s),s}}async function Sm(e,t){const n=ck(e),s=(await lk()).transaction(Aa,"readwrite");return await s.objectStore(Aa).put(t,n),await s.done,t}function ck({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},dt=new Au("messaging","Messaging",K4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(e,t){const n=await km(e),r=uk(t),s={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(_m(e.appConfig),s)).json()}catch(i){throw dt.create("token-subscribe-failed",{errorInfo:i==null?void 0:i.toString()})}if(o.error){const i=o.error.message;throw dt.create("token-subscribe-failed",{errorInfo:i})}if(!o.token)throw dt.create("token-subscribe-no-token");return o.token}async function Q4(e,t){const n=await km(e),r=uk(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${_m(e.appConfig)}/${t.token}`,s)).json()}catch(i){throw dt.create("token-update-failed",{errorInfo:i==null?void 0:i.toString()})}if(o.error){const i=o.error.message;throw dt.create("token-update-failed",{errorInfo:i})}if(!o.token)throw dt.create("token-update-no-token");return o.token}async function J4(e,t){const r={method:"DELETE",headers:await km(e)};try{const o=await(await fetch(`${_m(e.appConfig)}/${t}`,r)).json();if(o.error){const i=o.error.message;throw dt.create("token-unsubscribe-failed",{errorInfo:i})}}catch(s){throw dt.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function _m({projectId:e}){return`${L4}/projects/${e}/registrations`}async function km({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function uk({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:t,p256dh:e}};return r!==ik&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=7*24*60*60*1e3;async function Z4(e){const t=await tF(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:zn(t.getKey("auth")),p256dh:zn(t.getKey("p256dh"))},r=await G4(e.firebaseDependencies);if(r){if(nF(r.subscriptionOptions,n))return Date.now()>=r.createTime+X4?eF(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await J4(e.firebaseDependencies,r.token)}catch(s){console.warn(s)}return Cy(e.firebaseDependencies,n)}else return Cy(e.firebaseDependencies,n)}async function eF(e,t){try{const n=await Q4(e.firebaseDependencies,t),r={...t,token:n,createTime:Date.now()};return await Sm(e.firebaseDependencies,r),n}catch(n){throw n}}async function Cy(e,t){const r={token:await Y4(e,t),createTime:Date.now(),subscriptionOptions:t};return await Sm(e,r),r.token}async function tF(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:B4(t)})}function nF(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,s=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&s&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return rF(t,e),sF(t,e),oF(t,e),t}function rF(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const s=t.notification.image;s&&(e.notification.image=s);const o=t.notification.icon;o&&(e.notification.icon=o)}function sF(e,t){t.data&&(e.data=t.data)}function oF(e,t){var s,o,i,a;if(!t.fcmOptions&&!((s=t.notification)!=null&&s.click_action))return;e.fcmOptions={};const n=((o=t.fcmOptions)==null?void 0:o.link)??((i=t.notification)==null?void 0:i.click_action);n&&(e.fcmOptions.link=n);const r=(a=t.fcmOptions)==null?void 0:a.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(e){return typeof e=="object"&&!!e&&ak in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(e){if(!e||!e.options)throw Hd("App Configuration Object");if(!e.name)throw Hd("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Hd(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Hd(e){return dt.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=aF(t);this.firebaseDependencies={app:t,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(e){try{e.swRegistration=await navigator.serviceWorker.register(M4,{scope:D4}),e.swRegistration.update().catch(()=>{}),await uF(e.swRegistration)}catch(t){throw dt.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function uF(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${_y} ms`)),_y),s=e.installing||e.waiting;e.active?(clearTimeout(r),t()):s?s.onstatechange=o=>{var i;((i=o.target)==null?void 0:i.state)==="activated"&&(s.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(e,t){if(!t&&!e.swRegistration&&await cF(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw dt.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=ik)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(e,t){if(!navigator)throw dt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw dt.create("permission-blocked");return await fF(e,t==null?void 0:t.vapidKey),await dF(e,t==null?void 0:t.serviceWorkerRegistration),Z4(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hF(e,t,n){const r=pF(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[ak],message_name:n[$4],message_time:n[F4],message_device_time:Math.floor(Date.now()/1e3)})}function pF(e){switch(e){case Pa.NOTIFICATION_CLICKED:return"notification_open";case Pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Pa.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Ny(n)):e.onMessageHandler.next(Ny(n)));const r=n.data;iF(r)&&r[U4]==="1"&&await hF(e,n.messageType,r)}const jy="@firebase/messaging",Ty="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=e=>{const t=new lF(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>mF(t,n)),t},vF=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>dk(t,r)}};function yF(){Os(new Vr("messaging",gF,"PUBLIC")),Os(new Vr("messaging-internal",vF,"PRIVATE")),Ur(jy,Ty),Ur(jy,Ty,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(){try{await D_()}catch{return!1}return typeof window<"u"&&M_()&&DL()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(e,t){if(!navigator)throw dt.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(e=L$()){return fk().then(t=>{if(!t)throw dt.create("unsupported-browser")},t=>{throw dt.create("indexed-db-unsupported")}),vm(mm(e),"messaging").getImmediate()}async function bF(e,t){return e=mm(e),dk(e,t)}function SF(e,t){return e=mm(e),wF(e,t)}yF();const _F={apiKey:"AIzaSyDdIx65oYnxkr3RFTkSx3Rn5VF0zBZBK7U",authDomain:"aiscan-c77ac.firebaseapp.com",projectId:"aiscan-c77ac",storageBucket:"aiscan-c77ac.firebasestorage.app",messagingSenderId:"1058311246857",appId:"1:1058311246857:web:f0615b61f864be691f54d8"},kF="BKxvxhk5dLvpFJUn0m5oHI3UiSK-cxI-1qQ0GQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";class EF{constructor(){$e(this,"app",null);$e(this,"messaging",null);$e(this,"currentUser",null);$e(this,"isInitialized",!1)}async initialize(t){if(this.isInitialized)return!0;this.currentUser=t;try{return await fk()?(this.app=F_(_F),this.messaging=xF(this.app),this.setupMessageListener(),this.isInitialized=!0,console.log("WebFCM: Initialized successfully"),console.log("FCM started"),!0):(console.log("WebFCM: Not supported in this browser"),!1)}catch(n){return console.error("WebFCM: Initialization error:",n),console.log("FCM startup failed:",n.message),!1}}async requestPermissions(){if(!this.messaging)return console.log("WebFCM: Not initialized"),!1;try{if(await Notification.requestPermission()==="granted"){console.log("WebFCM: Permission granted");const n=await this.getToken();if(n)return await this.saveTokenToDatabase(n),!0}else console.log("WebFCM: Permission denied");return!1}catch(t){return console.error("WebFCM: Permission request error:",t),!1}}async getToken(){if(!this.messaging)return null;try{const t=await bF(this.messaging,{vapidKey:kF});return t?(console.log("WebFCM: Token obtained:",t.substring(0,30)+"..."),t):(console.log("WebFCM: No registration token available"),null)}catch(t){return console.error("WebFCM: Error getting token:",t),null}}setupMessageListener(){this.messaging&&SF(this.messaging,t=>{console.log("WebFCM: Message received in foreground:",t),t.notification&&this.showNotification(t.notification.title||"QuickCal AI",t.notification.body||"",t.data),window.dispatchEvent(new CustomEvent("fcm-message",{detail:t}))})}showNotification(t,n,r){"serviceWorker"in navigator&&"Notification"in window?navigator.serviceWorker.ready.then(s=>{s.showNotification(t,{body:n,icon:"/icon-192x192.png",badge:"/icon-72x72.png",data:r,actions:[{action:"open",title:"Open App"}]})}):"Notification"in window&&Notification.permission==="granted"&&new Notification(t,{body:n,icon:"/icon-192x192.png",data:r})}async saveTokenToDatabase(t){if(this.currentUser)try{const{error:n}=await q.from("fcm_tokens").upsert({user_id:this.currentUser.id,token:t,platform:"web",device_info:{platform:"web",userAgent:navigator.userAgent,timestamp:new Date().toISOString()},app_version:"1.0.0",is_active:!0,last_used:new Date().toISOString(),updated_at:new Date().toISOString()},{onConflict:"user_id,token"});if(n){console.error("WebFCM: Error saving token with new schema:",n),console.log("WebFCM: Trying fallback with old schema...");const{error:r}=await q.from("fcm_tokens").upsert({user_id:this.currentUser.id,token:t,device_type:"web",device_id:navigator.userAgent.substring(0,50),updated_at:new Date().toISOString()},{onConflict:"user_id,token"});if(r)throw console.error("WebFCM: Error saving token with fallback schema:",r),new Error("Failed to save FCM token to database");console.log("WebFCM: Token saved successfully with fallback schema")}else console.log("WebFCM: Token saved successfully with new schema")}catch(n){throw console.error("WebFCM: Error saving token:",n),n}}async cleanup(){this.currentUser=null,this.isInitialized=!1,console.log("WebFCM: Cleaned up")}static isSupported(){return"Notification"in window&&"serviceWorker"in navigator}static getPermissionStatus(){return Notification.permission}}const Pi=new EF;class Hl{constructor(){$e(this,"currentUser",null);$e(this,"isInitialized",!1)}async initialize(t){var n;if(this.isInitialized&&((n=this.currentUser)==null?void 0:n.id)===(t==null?void 0:t.id))return!0;this.currentUser=t;try{if(we.isNativePlatform())return console.log("UnifiedFCM: Initializing mobile FCM"),await Sn.initialize(t),this.isInitialized=!0,console.log("UnifiedFCM: Mobile FCM started successfully"),!0;{console.log("UnifiedFCM: Initializing web FCM");const r=await Pi.initialize(t);return this.isInitialized=r,r&&console.log("UnifiedFCM: Web FCM started successfully"),r}}catch(r){return console.error("UnifiedFCM: Initialization error:",r),!1}}async requestPermissions(){if(!this.isInitialized)return console.log("UnifiedFCM: Not initialized"),!1;try{return we.isNativePlatform()?(console.log("UnifiedFCM: Requesting mobile permissions"),await Sn.requestPermissions()):(console.log("UnifiedFCM: Requesting web permissions"),await Pi.requestPermissions())}catch(t){return console.error("UnifiedFCM: Permission request error:",t),!1}}async cleanup(){this.currentUser=null,this.isInitialized=!1;try{we.isNativePlatform()?await Sn.cleanup():await Pi.cleanup()}catch(t){console.error("UnifiedFCM: Cleanup error:",t)}}isSupported(){return we.isNativePlatform()?!0:Pi.constructor.isSupported()}getPermissionStatus(){return we.isNativePlatform()?"unknown":Pi.constructor.getPermissionStatus()}static isMobile(){return we.isNativePlatform()}static isWeb(){return!we.isNativePlatform()}static getPlatform(){return we.isNativePlatform()?we.getPlatform():"web"}}const Wl=new Hl,Ln={isMobile:Hl.isMobile,isWeb:Hl.isWeb,getPlatform:Hl.getPlatform,isSupported:()=>Wl.isSupported()},Zs="#22c55e",Wd="#f59e42",CF=({user:e,onLogout:t})=>{var be,he,ce,re,Le,ht;const{calorieIntake:n,dailyProgress:r,updateCalorieGoal:s}=gi(),[o,i]=h.useState(null),[a,c]=h.useState(null),u=h.useRef(null),[d,f]=h.useState(null),[m,p]=h.useState({}),[b,v]=h.useState(!1),[S,w]=h.useState(!1),[y,g]=h.useState(!0),[x,_]=h.useState(!1),[E,j]=h.useState(!1),[k,N]=h.useState(!1),[T,R]=h.useState(!1),[I,U]=h.useState(!1),[O,K]=h.useState(!1),{toast:M}=Xc(),{theme:B,setTheme:A}=nx();(be=o==null?void 0:o.full_name)!=null&&be.split(" ")[0]||(he=e==null?void 0:e.email)!=null&&he.split("@")[0],tm(e),h.useEffect(()=>{const H=async()=>{if(!Ln.isSupported()||!e){U(!1);return}try{if(Wl.getPermissionStatus()==="granted"){const{data:ge}=await q.from("fcm_tokens").select("id").eq("user_id",e.id).limit(1);U(ge&&ge.length>0)}else U(!1)}catch(Z){console.error("Error checking notification status:",Z),U(!1)}};H();const J=()=>{H()};return window.addEventListener("focus",J),()=>window.removeEventListener("focus",J)},[e]);const C=async()=>{if(!Ln.isSupported()){M({title:"Not Supported",description:"Push notifications are not supported in this browser.",variant:"destructive"});return}if(!e){M({title:"Authentication Required",description:"Please log in to manage notification settings.",variant:"destructive"});return}K(!0);try{I?await $():await P()}catch(H){console.error("Error toggling notification permissions:",H);let J="Failed to toggle notification permissions.";H.message.includes("database")?J="Database error occurred. Please try again.":H.message.includes("permission")?J="Permission denied. Please check your browser settings.":H.message.includes("token")&&(J="Failed to manage notification token. Please try again."),M({title:"Error",description:J,variant:"destructive"})}finally{K(!1)}},P=async()=>{try{if(!e)throw new Error("User not authenticated");if(!await Wl.initialize(e)){M({title:"Initialization Failed",description:"Could not initialize push notifications. Please check your internet connection.",variant:"destructive"});return}if(await Wl.requestPermissions()){await new Promise(Z=>setTimeout(Z,1e3));try{const{data:Z,error:ge}=await q.from("fcm_tokens").select("id").eq("user_id",e.id).limit(1);ge?(console.error("Database error when checking tokens:",ge),U(!0),M({title:"Notifications Enabled",description:`Push notifications enabled on ${Ln.getPlatform()}. Database sync may take a moment.`})):Z&&Z.length>0?(U(!0),M({title:"Success!",description:`Push notifications enabled successfully on ${Ln.getPlatform()}.`})):(U(!0),M({title:"Notifications Enabled",description:`Push notifications enabled on ${Ln.getPlatform()}. Token registration in progress.`}))}catch(Z){console.error("Database check error:",Z),U(!0),M({title:"Notifications Enabled",description:`Push notifications enabled on ${Ln.getPlatform()}.`})}}else{const ge=Ln.getPlatform()==="web"?"You can enable notifications in your browser settings.":"You can enable notifications later in your device settings.";M({title:"Permission Denied",description:ge,variant:"destructive"})}}catch(H){throw console.error("Error enabling notifications:",H),H.message.includes("network")||H.message.includes("fetch")?new Error("Network error occurred. Please check your internet connection and try again."):H.message.includes("database")||H.message.includes("Database")?new Error("Database connection issue. Notifications may still work, please try again later."):H}},$=async()=>{try{if(!e)throw new Error("User not authenticated");try{const{error:H}=await q.from("fcm_tokens").update({is_active:!1}).eq("user_id",e.id);if(H){console.log("Error with is_active update, trying delete:",H);const{error:J}=await q.from("fcm_tokens").delete().eq("user_id",e.id);if(J)throw console.error("Error deleting FCM tokens:",J),new Error("Failed to disable notifications in database")}else await q.from("fcm_tokens").delete().eq("user_id",e.id)}catch(H){console.error("Database error when disabling notifications:",H)}U(!1),M({title:"Disabled",description:"Push notifications have been disabled. You will no longer receive notifications."})}catch(H){if(console.error("Error disabling notifications:",H),U(!1),H.message.includes("database")||H.message.includes("Database"))M({title:"Notifications Disabled",description:"Notifications disabled locally. Database sync may take a moment."});else throw H}},L=async()=>{try{console.log("Checking storage access...");const{data:H,error:J}=await q.storage.from("avatars").list("",{limit:1});return J?(console.error("Storage access error:",J),!1):(console.log("Storage access successful:",H),!0)}catch(H){return console.error("Storage check failed:",H),!1}},F=async()=>{var H,J;try{if(console.log("Starting gallery photo selection..."),typeof window<"u"&&!window.Capacitor){console.log("Web environment detected, using file input fallback"),(H=u.current)==null||H.click(),N(!1);return}const Z=await _h.getPhoto({quality:90,allowEditing:!0,resultType:ja.DataUrl,source:Gn.Photos});if(console.log("Image selected from gallery:",Z),Z.dataUrl){console.log("Converting image data URL to file...");const qe=await(await fetch(Z.dataUrl)).blob();if(qe.size>5*1024*1024){M({title:"File too large",description:"Please select an image smaller than 5MB.",variant:"destructive"}),N(!1);return}const ot=Date.now(),Ae=new File([qe],`avatar-${ot}.jpg`,{type:"image/jpeg",lastModified:ot});console.log("File created:",{name:Ae.name,size:Ae.size,type:Ae.type,lastModified:Ae.lastModified}),c(Z.dataUrl),console.log("Starting upload to Supabase...");try{const pt=await G(Ae);pt?(console.log("Upload successful, URL:",pt),setTimeout(()=>{c(pt+"?t="+Date.now())},500),M({title:"Success! ",description:"Profile picture updated successfully."})):(console.log("Upload failed, reverting preview"),c((o==null?void 0:o.avatar_url)||null),M({title:"Upload Failed",description:"Failed to upload image. Please check your connection and try again.",variant:"destructive"}))}catch(pt){console.error("Upload process error:",pt),c((o==null?void 0:o.avatar_url)||null),M({title:"Upload Error",description:`Upload failed: ${pt.message||"Unknown error"}`,variant:"destructive"})}}else console.log("No image data received"),M({title:"No Image Selected",description:"Please select an image to upload.",variant:"destructive"})}catch(Z){console.error("Gallery selection error:",Z),console.log("Falling back to file input due to error"),(J=u.current)==null||J.click(),N(!1),M({title:"Using File Browser",description:"Gallery access unavailable, using file browser instead."})}N(!1)},G=async H=>{if(!e)return M({title:"Error",description:"You must be logged in to upload a profile picture.",variant:"destructive"}),null;if(H.size>5*1024*1024)return M({title:"File too large",description:"Please select an image smaller than 5MB.",variant:"destructive"}),null;if(!H.type.startsWith("image/"))return M({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"}),null;j(!0);try{console.log("Starting avatar upload process for user:",e.id);const J=H.name.split(".").pop()||"jpg",Z=`avatar-${Date.now()}.${J}`,ge=`${e.id}/${Z}`;if(console.log("Upload details:",{fileName:Z,filePath:ge,fileSize:H.size,fileType:H.type}),!await L())return M({title:"Storage Error",description:"Unable to access storage. Please check your connection and try again.",variant:"destructive"}),null;console.log("Using service role for upload...");const ot=_u("https://yqmzguttrtsrwoeghnab.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlxbXpndXR0cnRzcndvZWdobmFiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NjQwMjg4MiwiZXhwIjoyMDcxOTc4ODgyfQ.YNLTeKxOT2JlYQsF05KPKIHDConWWtIr7haly18Uicw",{auth:{autoRefreshToken:!1,persistSession:!1}}),{data:Ae,error:pt}=await ot.storage.from("avatars").upload(ge,H,{cacheControl:"3600",upsert:!0,contentType:H.type||"image/jpeg"});if(pt)return console.error("Service role upload error:",pt),M({title:"Upload failed",description:`Upload error: ${pt.message}`,variant:"destructive"}),null;console.log("Service role upload successful:",Ae);const{data:{publicUrl:mt}}=ot.storage.from("avatars").getPublicUrl(ge);console.log("Generated public URL:",mt);const{error:Jr}=await ot.from("profiles").update({avatar_url:mt}).eq("user_id",e.id);return Jr?(console.error("Profile update error:",Jr),M({title:"Update failed",description:`Profile update error: ${Jr.message}`,variant:"destructive"}),null):(console.log("Profile updated successfully with service role"),i(Xr=>({...Xr,avatar_url:mt})),p(Xr=>({...Xr,avatar_url:mt})),console.log("Local state updated with new avatar URL"),mt)}catch(J){return console.error("Avatar upload error:",J),M({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"}),null}finally{j(!1)}};h.useEffect(()=>{if(!e)return;(async()=>{const{data:J}=await q.from("profiles").select("*").eq("user_id",e.id).single();J&&(i(J),p(J),J.avatar_url&&c(J.avatar_url))})().finally(()=>g(!1))},[e]);const ee=async()=>{_(!0);const{error:H}=await q.from("profiles").update(m).eq("user_id",e.id);H||(i(m),m.daily_calorie_goal&&m.daily_calorie_goal!==(o==null?void 0:o.daily_calorie_goal)&&await s(m.daily_calorie_goal),f(null),v(!1)),_(!1)},Q=async()=>{await q.auth.signOut(),t?t():window.location.reload()},z=async()=>{if(e){_(!0);try{const{data:H}=await q.from("profiles").select("*").eq("user_id",e.id).single(),{data:J}=await q.from("meal_logs").select("*").eq("user_id",e.id),Z=fe(H,J||[]),ge=`QuickCal_Data_${new Date().toISOString().slice(0,10)}.csv`;if(we.isNativePlatform())try{await SL.writeFile({path:ge,data:Z,directory:kh.Documents,encoding:Eh.UTF8}),M({title:"Export Successful",description:`Data exported to Documents/${ge}`})}catch(qe){console.error("Mobile export error:",qe),M({title:"Export Failed",description:"Could not save file to device storage",variant:"destructive"})}else{const qe=new Blob([Z],{type:"text/csv"}),ot=URL.createObjectURL(qe),Ae=document.createElement("a");Ae.href=ot,Ae.download=ge,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(ot),M({title:"Export Successful",description:`Data downloaded as ${ge}`})}}catch(H){console.error("Export error:",H),M({title:"Export Failed",description:"Could not export your data",variant:"destructive"})}_(!1)}},fe=(H,J)=>{const Z=[];return Z.push("QuickCal AI - Personal Data Export"),Z.push(`Export Date: ${new Date().toLocaleDateString()}`),Z.push(""),Z.push("=== PROFILE INFORMATION ==="),H&&(Z.push(`Name: ${H.full_name||"Not set"}`),Z.push(`Email: ${H.email||"Not set"}`),Z.push(`Age: ${H.age||"Not set"}`),Z.push(`Gender: ${H.gender||"Not set"}`),Z.push(`Height: ${H.height_cm?H.height_cm+" cm":"Not set"}`),Z.push(`Weight: ${H.weight_kg?H.weight_kg+" kg":"Not set"}`),Z.push(`Activity Level: ${H.activity_level||"Not set"}`),Z.push(`Daily Calorie Goal: ${H.daily_calorie_goal||"Not set"}`),Z.push(`Goal: ${H.goal||"Not set"}`)),Z.push(""),Z.push("=== MEAL HISTORY ==="),J&&J.length>0?(Z.push("Date,Meal Type,Food Name,Calories,Protein,Carbs,Fats,Portion"),J.forEach(ge=>{const qe=new Date(ge.created_at).toLocaleDateString(),ot=ge.meal_type||"Unknown",Ae=ge.food_name||"Unknown Food",pt=ge.calories||0,mt=ge.protein||0,Jr=ge.carbs||0,Xr=ge.fats||0,_t=ge.portion||"Unknown";Z.push(`${qe},${ot},${Ae},${pt},${mt}g,${Jr}g,${Xr}g,${_t}`)})):Z.push("No meal history found"),Z.join(`
`)};return y?l.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"Loading..."}):l.jsxs("div",{className:"p-6 pb-32 max-w-md mx-auto min-h-screen bg-white",children:[l.jsx("div",{className:"flex justify-end items-center mb-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[B==="dark"?l.jsx(Nj,{className:"w-4 h-4 text-yellow-500"}):l.jsx(Ij,{className:"w-4 h-4 text-orange-500"}),l.jsx("span",{className:"font-medium text-sm text-muted-foreground",children:B==="dark"?"Dark Mode":"Light Mode"})]}),l.jsx(us,{checked:B==="dark",onCheckedChange:H=>A(H?"dark":"light"),className:"scale-75"})]})}),l.jsx("div",{className:"text-center font-bold text-lg mb-4 mt-2",style:{color:Wd},children:"Profile & Settings"}),l.jsxs(zt,{className:"rounded-xl p-4 mb-4 border-2 border-[${accentOrange}] bg-gradient-to-br from-orange-50 via-white to-green-50",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsxs(i_,{className:`w-16 h-16 border-2 border-[${Zs}] shadow-md`,children:[l.jsx(a_,{src:a||(o==null?void 0:o.avatar_url)||void 0,className:"object-cover w-full h-full",onLoad:()=>{console.log("Avatar image loaded successfully")},onError:()=>{console.log("Avatar image failed to load, showing fallback"),c(null)}}),l.jsx(l_,{className:"bg-gradient-to-br from-green-100 to-green-200 text-green-700 text-xl font-semibold",children:((ce=o==null?void 0:o.full_name)==null?void 0:ce.split(" ").map(H=>H[0]).join(""))||((re=e==null?void 0:e.email)==null?void 0:re[0])||"U"})]}),l.jsx("input",{ref:u,type:"file",accept:"image/*,image/jpeg,image/jpg,image/png,image/gif,image/webp",capture:"environment",className:"hidden",onChange:async H=>{var Z;const J=(Z=H.target.files)==null?void 0:Z[0];if(J){if(J.size>5*1024*1024){M({title:"File too large",description:"Please select an image smaller than 5MB.",variant:"destructive"}),H.target.value="";return}if(!J.type.startsWith("image/")){M({title:"Invalid file type",description:"Please select an image file.",variant:"destructive"}),H.target.value="";return}const ge=new FileReader;ge.onload=ot=>{var Ae;c((Ae=ot.target)==null?void 0:Ae.result)},ge.readAsDataURL(J);const qe=await G(J);qe?(c(qe),M({title:"Success!",description:"Profile picture updated successfully."})):c((o==null?void 0:o.avatar_url)||null)}H.target.value=""}}),l.jsx("button",{className:`absolute -bottom-1 -right-1 w-8 h-8 ${E?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 active:bg-green-700"} text-white rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-110 active:scale-95`,onClick:()=>{E||(navigator.vibrate&&navigator.vibrate(50),N(!0))},disabled:E,title:"Change profile picture","aria-label":"Change profile picture",children:E?l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx(Yn,{className:"w-4 h-4"})})]}),l.jsxs("div",{children:[d?l.jsx(ct,{className:"font-semibold text-lg mb-1",value:m.full_name||"",onChange:H=>p(J=>({...J,full_name:H.target.value})),placeholder:"Full Name"}):l.jsx("div",{className:"font-semibold text-lg",children:(o==null?void 0:o.full_name)||((Le=e==null?void 0:e.email)==null?void 0:Le.split("@")[0])}),l.jsx("div",{className:"text-muted-foreground text-sm",children:e==null?void 0:e.email})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:["Calorie Intake: ",l.jsx("span",{style:{color:Zs},children:n})," / ",l.jsx("span",{style:{color:Wd},children:r.goal||2200})," kcal"]}),l.jsx(am,{value:Math.min(n/(r.goal||2200)*100,100),className:"h-2",style:{background:"#f3f3f3"}})]})]}),l.jsxs("div",{className:"bg-card rounded-xl divide-y border-2 border-[${accentGreen}] mb-4",children:[l.jsx(eo,{icon:l.jsx(ev,{className:"w-5 h-5 text-[${accentOrange}]"}),label:"Personal Details",onClick:()=>{f("personal"),v(!0),p(o)}}),l.jsx(eo,{icon:l.jsx(wa,{className:"w-5 h-5 text-[${accentGreen}]"}),label:"Goals",onClick:()=>{f("goals"),v(!0),p(o)}}),l.jsx(eo,{icon:l.jsx(yc,{className:"w-5 h-5 text-[${accentOrange}]"}),label:"Dietary Preferences",onClick:()=>{f("diet"),v(!0),p(o)}}),l.jsx(eo,{icon:l.jsx(ev,{className:"w-5 h-5 text-[${accentGreen}]"}),label:"Body Details",onClick:()=>{f("body"),v(!0),p(o)}}),Ln.isSupported()&&l.jsxs(l.Fragment,{children:[l.jsx(eo,{icon:l.jsx(jn,{className:"w-5 h-5",style:{color:I?Zs:Wd}}),label:O?"Updating Notifications...":`${I?"Disable":"Enable"} Push Notifications (${Ln.getPlatform()})`,onClick:C,disabled:O}),l.jsx(eo,{icon:l.jsx(jn,{className:"w-5 h-5",style:{color:I?Zs:"#9ca3af"}}),label:I?"Test Notifications":"Test Notifications (Enable notifications first)",onClick:I?()=>R(!0):void 0,disabled:!I})]})]}),l.jsx("div",{className:"bg-card rounded-xl border-2 border-[${accentOrange}] p-4 mb-4 flex flex-col items-center",children:l.jsxs(le,{variant:"outline",className:"w-full flex items-center justify-center gap-2 text-green-700 border-green-600 hover:bg-green-50",onClick:z,children:[l.jsx(xj,{className:"w-5 h-5"})," Export My Data"]})}),l.jsx("div",{className:"bg-card rounded-xl border-2 border-red-400 p-4 mt-4 flex flex-col items-center",children:l.jsx(le,{onClick:Q,className:"w-full flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white text-base h-12 font-semibold",children:"Logout"})}),l.jsx(ea,{open:b,onOpenChange:H=>{v(H),H||f(null)},children:l.jsxs(Oo,{className:"w-full max-w-sm p-0 overflow-visible",style:{overflow:"visible"},children:[d==="personal"&&l.jsxs("div",{className:"bg-white border-2 border-[${accentOrange}] rounded-xl p-2 sm:p-4 pb-4 relative",children:[l.jsx("div",{className:"mb-2 font-semibold text-[${accentOrange}]",children:"Personal Details"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Full Name"}),l.jsx(ct,{className:"w-full",value:m.full_name||"",onChange:H=>p(J=>({...J,full_name:H.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Email"}),l.jsx(ct,{className:"w-full",value:(e==null?void 0:e.email)||"",disabled:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Date of Birth"}),l.jsx(ct,{className:"w-full",value:m.date_of_birth||"",onChange:H=>p(J=>({...J,date_of_birth:H.target.value})),placeholder:"YYYY-MM-DD"})]})]}),l.jsx("div",{className:"mt-6 px-2 sm:px-4 pb-2 pt-2 bg-white flex",children:l.jsx(le,{onClick:ee,disabled:x,className:"bg-[${accentGreen}] hover:bg-green-100 text-black font-bold flex-1 h-12 shadow-lg text-lg rounded-xl border border-green-300",children:x?"Saving...":"Save"})})]}),d==="body"&&l.jsxs("div",{className:`bg-white border-2 border-[${Zs}] rounded-xl p-2 sm:p-4 pb-4 relative`,children:[l.jsx("div",{className:`mb-2 font-semibold text-[${Zs}]`,children:"Body Details"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Gender"}),l.jsx(ct,{className:"w-full",value:m.gender||"",onChange:H=>p(J=>({...J,gender:H.target.value})),placeholder:"e.g. Male, Female, Other"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Height (cm)"}),l.jsx(ct,{className:"w-full",type:"number",value:m.height_cm||"",onChange:H=>p(J=>({...J,height_cm:parseInt(H.target.value)}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Weight (kg)"}),l.jsx(ct,{className:"w-full",type:"number",value:m.weight_kg||"",onChange:H=>p(J=>({...J,weight_kg:parseInt(H.target.value)}))})]})]}),l.jsx("div",{className:"mt-6 px-2 sm:px-4 pb-2 pt-2 bg-white flex",children:l.jsx(le,{onClick:ee,disabled:x,className:"bg-[${accentGreen}] hover:bg-green-100 text-black font-bold flex-1 h-12 shadow-lg text-lg rounded-xl border border-green-300",children:x?"Saving...":"Save"})})]}),d==="goals"&&l.jsxs("div",{className:"bg-white border-2 border-[${accentGreen}] rounded-xl p-2 sm:p-4 pb-4 relative",children:[l.jsx("div",{className:"mb-2 font-semibold text-[${accentGreen}]",children:"Set Your Goals"}),l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Daily Calorie Goal"}),l.jsx(ct,{className:"w-full",type:"number",value:m.daily_calorie_goal||"",onChange:H=>p(J=>({...J,daily_calorie_goal:parseInt(H.target.value)}))})]})}),l.jsx("div",{className:"mt-6 px-2 sm:px-4 pb-2 pt-2 bg-white flex",children:l.jsx(le,{onClick:ee,disabled:x,className:"bg-[${accentGreen}] hover:bg-green-100 text-black font-bold flex-1 h-12 shadow-lg text-lg rounded-xl border border-green-300",children:x?"Saving...":"Save"})})]}),d==="diet"&&l.jsxs("div",{className:"bg-white border-2 border-[${accentOrange}] rounded-xl p-2 sm:p-4 pb-4 relative",children:[l.jsx("div",{className:"mb-2 font-semibold text-[${accentOrange}]",children:"Dietary Preferences"}),l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Favorite Foods"}),l.jsx(ct,{className:"w-full",value:((ht=m.dietary_preferences)==null?void 0:ht.join(", "))||"",onChange:H=>p(J=>({...J,dietary_preferences:H.target.value.split(",").map(Z=>Z.trim())})),placeholder:"e.g. vegan, gluten_free, pizza"})]})}),l.jsx("div",{className:"mt-6 px-2 sm:px-4 pb-2 pt-2 bg-white flex",children:l.jsx(le,{onClick:ee,disabled:x,className:"bg-[${accentGreen}] hover:bg-green-100 text-black font-bold flex-1 h-12 shadow-lg text-lg rounded-xl border border-green-300",children:x?"Saving...":"Save"})})]})]})}),l.jsx(ea,{open:k,onOpenChange:N,children:l.jsxs(Oo,{className:"max-w-sm mx-auto border-0 shadow-2xl",style:{background:"linear-gradient(135deg, #e0ffe7 0%, #fffbe6 50%, #fef3e2 100%)",borderRadius:"20px"},children:[l.jsx(Ca,{children:l.jsx(Na,{className:"text-center text-xl font-bold",style:{background:"linear-gradient(90deg, #22c55e 0%, #f59e42 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Choose Photo Source"})}),l.jsxs("div",{className:"space-y-4 pt-6 pb-2",children:[l.jsxs(le,{onClick:F,className:"w-full h-14 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white flex items-center justify-center gap-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 active:scale-95 font-semibold text-lg",disabled:E,style:{background:E?"#9ca3af":"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)"},children:[E?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx(Ej,{className:"w-6 h-6"}),E?"Uploading...":"Choose from Gallery"]}),l.jsxs(le,{onClick:()=>N(!1),className:"w-full h-12 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white flex items-center justify-center gap-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 active:scale-95 font-semibold",style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)"},children:[l.jsx(li,{className:"w-5 h-5"}),"Cancel"]})]})]})}),l.jsx(ea,{open:T,onOpenChange:R,children:l.jsxs(Oo,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Ca,{children:l.jsx(Na,{children:" Notification Testing"})}),l.jsx(kL,{user:e})]})})]})};function eo({icon:e,label:t,onClick:n,disabled:r}){return l.jsxs("button",{type:"button",onClick:r?void 0:n,disabled:r,className:`w-full flex items-center px-4 py-3 transition group focus:outline-none ${r?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-orange-50"}`,children:[l.jsx("span",{className:"mr-4",children:e}),l.jsx("span",{className:"flex-1 font-medium",children:t}),l.jsx(gc,{className:`text-muted-foreground ${r?"":"group-hover:text-[${accentOrange}]"}`})]})}const Py=()=>{const t=new Date().getHours();return t>=5&&t<11?"breakfast":t>=11&&t<16?"lunch":t>=16&&t<19?"snack":t>=19&&t<22?"dinner":"snack"},NF=({isOpen:e,onClose:t,onMealLogged:n})=>{const{refreshCalorieData:r}=gi(),[s,o]=h.useState(!1),[i,a]=h.useState(!0),[c,u]=h.useState(null),[d,f]=h.useState(null),[m,p]=h.useState(Py()),[b,v]=h.useState(100),[S,w]=h.useState("Summary"),[y,g]=h.useState(!1),x=h.useRef(null),_=h.useRef(null),E=h.useRef(null),j=h.useRef(null);h.useEffect(()=>{e?(y||p(Py()),a(!0),u(null),f(null),v(100),w("Summary")):T()},[e]);const k=async()=>{try{if(we.isNativePlatform()){const C=await _h.getPhoto({quality:90,allowEditing:!1,resultType:ja.DataUrl,source:Gn.Camera});C.dataUrl&&(u(C.dataUrl),a(!1),U(C.dataUrl))}else{const C=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});x.current&&(x.current.srcObject=C,j.current=C,a(!1))}}catch(C){console.error("Error accessing camera:",C);const P=we.isNativePlatform()?"Could not access camera. Please check app permissions in your device settings.":"Could not access camera. Please check browser permissions or use photo upload instead.";X.error(P)}},N=()=>{if(!x.current||!_.current)return;const C=_.current,P=x.current,$=C.getContext("2d");if(!$)return;C.width=P.videoWidth,C.height=P.videoHeight,$.drawImage(P,0,0);const L=C.toDataURL("image/jpeg",.8);u(L),T(),U(L)},T=()=>{j.current&&(j.current.getTracks().forEach(C=>C.stop()),j.current=null)},R=async C=>{var P;try{if(we.isNativePlatform()){const $=await _h.getPhoto({quality:90,allowEditing:!1,resultType:ja.DataUrl,source:Gn.Photos});$.dataUrl&&(u($.dataUrl),a(!1),U($.dataUrl))}else{const $=(P=C==null?void 0:C.target.files)==null?void 0:P[0];if(!$)return;if(!$.type.startsWith("image/")){X.error("Please select a valid image file");return}const L=new FileReader;L.onload=F=>{var ee;const G=(ee=F.target)==null?void 0:ee.result;u(G),a(!1),U(G)},L.readAsDataURL($)}}catch($){console.error("Error selecting photo:",$),X.error("Could not access photo library. Please check app permissions.")}},I=async C=>{var L,F,G,ee;const P="AIzaSyCa7L7vIFZaCi4iXRUAkF34u4JTXXcirlo",$=C.includes(",")?C.split(",")[1]:C;try{console.log(" Calling real Gemini AI for food identification...");const Q=new AbortController,z=setTimeout(()=>Q.abort(),1e4),fe=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${P}`,{method:"POST",headers:{"Content-Type":"application/json"},signal:Q.signal,body:JSON.stringify({contents:[{parts:[{text:`Analyze this food image and identify the main food item. You are a professional nutritionist AI. Return ONLY a valid JSON object with this exact structure:

{
  "food_name": "exact name of the main food item you see",
  "confidence": 0.95,
  "portion_estimate": 150,
  "foods": [
    {
      "name": "food item name",
      "quantity": "estimated portion in grams",
      "calories_per_100g": [ACTUAL_CALORIES_PER_100G],
      "protein_per_100g": [ACTUAL_PROTEIN_PER_100G],
      "carbs_per_100g": [ACTUAL_CARBS_PER_100G],
      "fats_per_100g": [ACTUAL_FATS_PER_100G],
      "fiber_per_100g": [ACTUAL_FIBER_PER_100G],
      "sugar_per_100g": [ACTUAL_SUGAR_PER_100G],
      "sodium_per_100g": [ACTUAL_SODIUM_PER_100G]
    }
  ]
}

IMPORTANT:
- Be very accurate with food identification
- Provide REAL nutritional values per 100g based on the actual food you see
- Do NOT use placeholder or example values
- Research accurate nutrition data for the specific food item
- Return ONLY the JSON object, no other text`},{inline_data:{mime_type:"image/jpeg",data:$}}]}]})});if(clearTimeout(z),!fe.ok)throw new Error(`Gemini API error: ${fe.status}`);const be=await fe.json();if(!be.candidates||!((ee=(G=(F=(L=be.candidates[0])==null?void 0:L.content)==null?void 0:F.parts)==null?void 0:G[0])!=null&&ee.text))throw new Error("Invalid Gemini response structure");const he=be.candidates[0].content.parts[0].text;let ce=he.match(/\{[\s\S]*\}/);if(!ce){const Le=he.match(/```json\s*([\s\S]*?)\s*```/);Le&&(ce=[Le[1]])}if(!ce)throw new Error("No JSON found in Gemini response");const re=JSON.parse(ce[0]);if(!re.food_name||!re.foods||!Array.isArray(re.foods))throw new Error("Invalid AI response structure");return re.confidence>1&&(re.confidence=re.confidence/100),re.confidence<.5&&(re.confidence=.75),console.log(" Real AI recognition successful:",re.food_name),re}catch(Q){throw console.error(" Real Gemini AI error:",Q),Q}},U=async C=>{var P,$;o(!0);try{console.log(" Starting food recognition workflow..."),console.log(" Image data length:",C.length),X.loading("Analyzing food with AI...");let L=null,F=null,G=0;G++,console.log(` Attempt ${G}: Using edge function...`);try{const Q=await Promise.race([q.functions.invoke("recognize-food",{body:{imageData:C}}),new Promise((z,fe)=>setTimeout(()=>fe(new Error("Edge function timeout")),8e3))]);if(console.log("Edge function result:",Q),Q.data&&!Q.error)L=Q.data,console.log(" Edge function successful");else throw new Error(((P=Q.error)==null?void 0:P.message)||"Edge function returned no data")}catch(Q){console.log(" Edge function failed:",Q.message),G++,console.log(` Attempt ${G}: Using direct Gemini AI...`);try{L=await I(C),console.log(" Direct Gemini AI successful")}catch(z){console.log(" Direct Gemini failed:",z.message),console.log(" All food recognition methods failed"),F=z}}if(X.dismiss(),console.log(" Final AI Response:",{data:L,error:F}),!L){console.error(" No data from any recognition method"),X.error("Unable to analyze food. Please ensure the image shows food clearly and try again.");return}if(!L.foods||!Array.isArray(L.foods)||L.foods.length===0){console.warn(" Invalid food data structure"),X.error("Food analysis returned invalid data. Please try again with a clearer image.");return}L.food_name||(L.food_name=(($=L.foods[0])==null?void 0:$.name)||"Unknown Food"),L.confidence||(L.confidence=.8),L.portion_estimate||(L.portion_estimate=150),console.log(" Food recognition successful:",{foodName:L.food_name,confidence:L.confidence,foodsCount:L.foods.length,attempts:G}),f(L),v(L.portion_estimate||150);const ee=Math.round((L.confidence||.8)*100);X.success(`Food identified: ${L.food_name} (${ee}% confidence)`)}catch(L){console.error(" Unexpected error in processImage:",L),X.dismiss(),X.error("Unable to analyze food. Please ensure the image shows food clearly and try again.")}finally{o(!1)}},O=(C,P)=>{const $=P/100;return{calories:Math.round(C.calories_per_100g*$),protein:Math.round(C.protein_per_100g*$*10)/10,carbs:Math.round(C.carbs_per_100g*$*10)/10,fats:Math.round(C.fats_per_100g*$*10)/10}},K=async()=>{if(d){o(!0),X.loading("Logging meal...");try{let C=crypto.randomUUID();try{const{data:{session:Q}}=await q.auth.getSession();if(Q!=null&&Q.user)C=Q.user.id;else{const{data:z}=await q.auth.signInAnonymously();z!=null&&z.user?C=z.user.id:C=crypto.randomUUID()}}catch{console.log("Using generated UUID for meal logging"),C=crypto.randomUUID()}let P=null;if(c)try{const Q=M(c,"meal-photo.jpg"),z=`${C}/${Date.now()}-meal.jpg`,{error:fe}=await q.storage.from("meal-photos").upload(z,Q);if(!fe){const{data:{publicUrl:be}}=q.storage.from("meal-photos").getPublicUrl(z);P=be}}catch{console.log("Photo upload failed, continuing without photo")}const $=d.foods[0],L=O($,b),{createClient:F}=await Us(async()=>{const{createClient:Q}=await Promise.resolve().then(()=>aO);return{createClient:Q}},void 0),G=F("https://yqmzguttrtsrwoeghnab.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlxbXpndXR0cnRzcndvZWdobmFiIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NjQwMjg4MiwiZXhwIjoyMDcxOTc4ODgyfQ.YNLTeKxOT2JlYQsF05KPKIHDConWWtIr7haly18Uicw"),{error:ee}=await G.from("meal_logs").insert({user_id:C,food_name:d.food_name,meal_type:m,portion_grams:b,calories:L.calories,protein:L.protein,carbs:L.carbs,fats:L.fats,ai_confidence_score:d.confidence,photo_url:P});if(ee){console.error("Insert error:",ee),X.error("Failed to log meal. Please try again.");return}X.success("Meal logged successfully!"),await r(),n(),B()}catch(C){console.error("Logging error:",C),X.error("Failed to log meal. Please try again.")}finally{o(!1),X.dismiss()}}},M=(C,P)=>{var Q;const $=C.split(","),L=((Q=$[0].match(/:(.*?);/))==null?void 0:Q[1])||"",F=atob($[1]);let G=F.length;const ee=new Uint8Array(G);for(;G--;)ee[G]=F.charCodeAt(G);return new File([ee],P,{type:L})},B=()=>{T(),u(null),f(null),a(!0),o(!1),t()},A=()=>{u(null),f(null),a(!0)};return h.useEffect(()=>{if(d){document.body.style.overflow="auto";const C=document.querySelector('meta[name="viewport"]');C&&C.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no")}else document.body.style.overflow="unset";return()=>{document.body.style.overflow="unset"}},[d]),l.jsx(ea,{open:e,onOpenChange:d?void 0:B,children:d?l.jsx("div",{className:"fixed inset-0 z-50 bg-gradient-to-br from-green-100 via-orange-50 to-green-50",style:{zIndex:9999},children:l.jsx("div",{className:"w-full h-full flex flex-col",children:l.jsxs("div",{className:"w-full h-screen max-w-md mx-auto bg-white flex flex-col shadow-2xl",style:{maxHeight:"100vh"},children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-white border-b border-gray-200 shadow-sm flex-shrink-0",children:[l.jsx(le,{onClick:B,variant:"ghost",size:"icon",className:"mr-2 hover:bg-gray-100",children:l.jsx(Rx,{className:"h-5 w-5 text-gray-600"})}),l.jsxs("div",{className:"flex-1 text-center",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Scan Results"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round((d.confidence||.8)*100),"% confidence"]})]}),l.jsx(le,{onClick:A,variant:"ghost",size:"icon",className:"ml-2 hover:bg-gray-100",children:l.jsx(tv,{className:"h-5 w-5 text-gray-600"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",style:{flex:1,minHeight:0,overflowY:"auto",scrollBehavior:"smooth",WebkitOverflowScrolling:"touch"},children:l.jsxs("div",{className:"pb-40",children:[l.jsx("div",{className:"relative w-full px-6 py-4",children:l.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-lg bg-gray-100 mx-auto max-w-sm",children:[l.jsxs("div",{className:"w-full",style:{paddingBottom:"75%"},children:[" ",l.jsx("img",{src:c,alt:"Scanned food",className:"absolute inset-0 w-full h-full object-cover object-center",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover"}})]}),l.jsx("div",{className:"absolute top-3 left-3 right-3 flex flex-wrap gap-2",children:d.foods.slice(0,2).map((C,P)=>l.jsxs("div",{className:"inline-block bg-white/95 backdrop-blur-sm text-gray-800 px-3 py-1.5 rounded-full text-sm font-medium shadow-lg border border-white/20",children:[l.jsx("span",{className:"font-semibold",children:C.name}),l.jsxs("span",{className:"text-gray-500 ml-1",children:["(",C.quantity,")"]})]},C.name+P))})]})}),l.jsxs("div",{className:"px-6 py-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"Nutrition Facts"}),l.jsx("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 rounded-xl p-4 max-w-sm mx-auto",children:(()=>{const C=O(d.foods[0],b);return[{label:"Calories",value:C.calories,unit:"",color:"text-red-600",bg:"bg-red-50"},{label:"Protein",value:C.protein,unit:"g",color:"text-blue-600",bg:"bg-blue-50"},{label:"Carbs",value:C.carbs,unit:"g",color:"text-green-600",bg:"bg-green-50"},{label:"Fat",value:C.fats,unit:"g",color:"text-orange-600",bg:"bg-orange-50"}].map(P=>l.jsxs("div",{className:`${P.bg} rounded-lg p-3 text-center`,children:[l.jsxs("div",{className:`text-2xl font-bold ${P.color}`,children:[P.value,P.unit]}),l.jsx("div",{className:"text-sm text-gray-600 font-medium mt-1",children:P.label})]},P.label))})()})]}),l.jsx("div",{className:"px-6 py-2",children:l.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1 max-w-sm mx-auto",children:["Summary","Details","Tips"].map(C=>l.jsx("button",{onClick:()=>w(C),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all duration-200 ${S===C?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:C},C))})}),l.jsxs("div",{className:"px-6 py-3 max-w-sm mx-auto w-full",children:[S==="Summary"&&l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-xl border border-blue-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:d.food_name}),l.jsxs("span",{className:"text-sm font-semibold text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:[Math.round(d.confidence*100),"% confidence"]})]}),l.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:["This food contains ",Math.round(d.foods[0].calories_per_100g*(b/100))," calories per ",b,"g serving.",d.foods[0].protein_per_100g>10&&" High in protein for muscle support.",d.foods[0].fiber_per_100g>3&&" Good source of dietary fiber.",d.foods[0].calories_per_100g<100&&" Low-calorie option for weight management."]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Key Nutritional Information"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:(()=>{const C=O(d.foods[0],b);return[{label:"Calories",value:C.calories,unit:"kcal",color:"text-red-600",bg:"bg-red-50",icon:""},{label:"Protein",value:C.protein,unit:"g",color:"text-blue-600",bg:"bg-blue-50",icon:""},{label:"Carbs",value:C.carbs,unit:"g",color:"text-green-600",bg:"bg-green-50",icon:""},{label:"Fat",value:C.fats,unit:"g",color:"text-orange-600",bg:"bg-orange-50",icon:""}].map(P=>l.jsxs("div",{className:`${P.bg} rounded-lg p-3 text-center border border-gray-100`,children:[l.jsx("div",{className:"text-lg mb-1",children:P.icon}),l.jsxs("div",{className:`text-xl font-bold ${P.color}`,children:[P.value,P.unit]}),l.jsx("div",{className:"text-xs text-gray-600 font-medium",children:P.label})]},P.label))})()})]}),l.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:" Portion Size Information"}),l.jsxs("p",{className:"text-xs text-gray-600",children:["Current serving: ",b,"g  Estimated portion: ",d.portion_estimate||b,"g  Per 100g: ",Math.round(d.foods[0].calories_per_100g)," calories"]})]}),l.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Key Nutrients"}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:(()=>{const C=d.foods[0];return[{icon:"",name:"Fiber",value:`${Math.round((C.fiber_per_100g||2.8)*(b/100)*10)/10}g`,color:"text-amber-700"},{icon:"",name:"Sodium",value:`${Math.round((C.sodium_per_100g||.002)*(b/100)*1e3)}mg`,color:"text-red-700"},{icon:"",name:"Sugar",value:`${Math.round((C.sugar_per_100g||3.98)*(b/100)*10)/10}g`,color:"text-pink-700"}].map($=>l.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-gray-100",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-lg",children:$.icon}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:$.name})]}),l.jsx("span",{className:`text-sm font-semibold ${$.color}`,children:$.value})]},$.name))})()})]}),S==="Details"&&l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4 space-y-3",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[l.jsx("h5",{className:"text-sm font-semibold text-blue-800 mb-1",children:" Food Analysis"}),l.jsxs("p",{className:"text-xs text-blue-700",children:[d.food_name," identified with ",Math.round(d.confidence*100),"% confidence. Portion size: ",b,"g serving."]})]}),l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[l.jsx("h5",{className:"text-sm font-semibold text-green-800 mb-1",children:" Serving Information"}),l.jsxs("p",{className:"text-xs text-green-700",children:["This ",b,"g serving provides ",Math.round(d.foods[0].calories_per_100g*(b/100))," calories.",d.foods[0].protein_per_100g>15?" High protein content.":" Moderate protein content."]})]}),l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[l.jsx("h5",{className:"text-sm font-semibold text-purple-800 mb-1",children:" Food Origin & Profile"}),l.jsx("p",{className:"text-xs text-purple-700",children:(()=>{const C=d.food_name.toLowerCase();return C.includes("apple")?"Apples are cultivated worldwide, rich in fiber and vitamin C. Best eaten fresh or cooked.":C.includes("banana")?"Bananas are tropical fruits, excellent source of potassium and natural sugars.":C.includes("chicken")?"Chicken is a lean protein source, versatile and widely consumed globally.":C.includes("rice")?"Rice is a staple grain crop, primary carbohydrate source for billions worldwide.":C.includes("fish")?"Fish provides high-quality protein and omega-3 fatty acids for heart health.":`${d.food_name} is a nutritious food choice with balanced macronutrients.`})()})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Complete Nutritional Breakdown"}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:l.jsxs("p",{className:"text-xs font-semibold text-gray-600",children:["Per ",b,"g serving"]})}),l.jsx("div",{className:"p-3 space-y-2",children:(()=>{const C=d.foods[0],P=b/100,$={calories:2e3,protein:50,carbs:300,fat:65,fiber:25,sodium:2300};return[{name:"Calories",value:Math.round(C.calories_per_100g*P),unit:"kcal",icon:"",dailyValue:Math.round(C.calories_per_100g*P/$.calories*100)},{name:"Total Protein",value:Math.round(C.protein_per_100g*P*10)/10,unit:"g",icon:"",dailyValue:Math.round(C.protein_per_100g*P/$.protein*100)},{name:"Total Carbohydrates",value:Math.round(C.carbs_per_100g*P*10)/10,unit:"g",icon:"",dailyValue:Math.round(C.carbs_per_100g*P/$.carbs*100)},{name:"Total Fat",value:Math.round(C.fats_per_100g*P*10)/10,unit:"g",icon:"",dailyValue:Math.round(C.fats_per_100g*P/$.fat*100)},{name:"Dietary Fiber",value:Math.round((C.fiber_per_100g||2.8)*P*10)/10,unit:"g",icon:"",dailyValue:Math.round((C.fiber_per_100g||2.8)*P/$.fiber*100)},{name:"Sodium",value:Math.round((C.sodium_per_100g||.002)*P*1e3),unit:"mg",icon:"",dailyValue:Math.round((C.sodium_per_100g||.002)*P*1e3/$.sodium*100)},{name:"Total Sugars",value:Math.round((C.sugar_per_100g||3.98)*P*10)/10,unit:"g",icon:"",dailyValue:null}].map(F=>l.jsxs("div",{className:"flex items-center justify-between py-2 px-2 hover:bg-gray-50 rounded",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx("span",{className:"text-lg",children:F.icon}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:F.name})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[F.value," ",F.unit]}),F.dailyValue!==null&&l.jsxs("div",{className:"text-xs text-gray-500",children:[F.dailyValue,"% DV"]})]})]},F.name))})()})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Vitamins & Minerals"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:(()=>{const C=d.food_name.toLowerCase();let P=[];return C.includes("apple")?P=[{name:"Vitamin C",amount:"Good source",icon:""},{name:"Potassium",amount:"Moderate",icon:""},{name:"Vitamin K",amount:"Low",icon:""},{name:"Folate",amount:"Low",icon:""}]:C.includes("banana")?P=[{name:"Potassium",amount:"Excellent",icon:""},{name:"Vitamin B6",amount:"Good source",icon:""},{name:"Vitamin C",amount:"Moderate",icon:""},{name:"Magnesium",amount:"Good source",icon:""}]:C.includes("chicken")?P=[{name:"Protein",amount:"Excellent",icon:""},{name:"Niacin (B3)",amount:"Excellent",icon:""},{name:"Phosphorus",amount:"Good source",icon:""},{name:"Selenium",amount:"Excellent",icon:""}]:P=[{name:"Various vitamins",amount:"Present",icon:""},{name:"Essential minerals",amount:"Present",icon:""},{name:"Antioxidants",amount:"Varies",icon:""},{name:"Trace elements",amount:"Present",icon:""}],P.map(($,L)=>l.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-2 border border-green-100",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm",children:$.icon}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-gray-800",children:$.name}),l.jsx("p",{className:"text-xs text-gray-600",children:$.amount})]})]})},L))})()})]}),l.jsx("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:"Nutritional Facts"}),l.jsx("div",{className:"space-y-3",children:(()=>{const C=d.foods[0],P=b/100;return[{name:"Total Calories",value:Math.round(C.calories_per_100g*P),unit:"kcal",icon:""},{name:"Total Protein",value:Math.round(C.protein_per_100g*P*10)/10,unit:"g",icon:""},{name:"Total Carbohydrates",value:Math.round(C.carbs_per_100g*P*10)/10,unit:"g",icon:""},{name:"Total Fat",value:Math.round(C.fats_per_100g*P*10)/10,unit:"g",icon:""},{name:"Dietary Fiber",value:Math.round((C.fiber_per_100g||2.8)*P*10)/10,unit:"g",icon:""},{name:"Total Sugars",value:Math.round((C.sugar_per_100g||3.98)*P*10)/10,unit:"g",icon:""},{name:"Sodium",value:Math.round((C.sodium_per_100g||.002)*P*1e3),unit:"mg",icon:""}].map(L=>l.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-white rounded-lg border border-gray-100 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xl",children:L.icon}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:L.name})]}),l.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[L.value," ",L.unit]})]},L.name))})()})]}),S==="Tips"&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-base font-semibold text-gray-800 mb-3",children:[d.food_name," Tips & Suggestions"]}),l.jsx("div",{className:"space-y-4",children:(()=>{const C=d.food_name.toLowerCase();let P=[];if(C.includes("star")||C.includes("carambola"))P=[{icon:"",title:"Consumption Recommendations",tip:"Best eaten fresh as a snack or added to fruit salads. Pair with other tropical fruits for enhanced flavor. Can be juiced or used as garnish."},{icon:"",title:"Storage & Preparation",tip:"Store ripe star fruit in refrigerator for 2-3 days. Keep unripe fruit at room temperature until yellow. Simply wash and slice crosswise - no peeling needed."},{icon:"",title:"Health Benefits",tip:"Rich in vitamin C and antioxidants. Low in calories, high in fiber. Supports immune system and digestive health."},{icon:"",title:"Best Time to Consume",tip:"Excellent as a mid-morning or afternoon snack. Great post-workout for hydration and natural sugars."}];else if(C.includes("apple"))P=[{icon:"",title:"Heart Health Benefits",tip:"Apples contain soluble fiber that helps lower cholesterol levels. Antioxidants support cardiovascular health."},{icon:"",title:"Dental Health",tip:"The natural acids in apples help clean teeth and freshen breath. Chewing stimulates saliva production."},{icon:"",title:"Energy & Metabolism",tip:"Natural sugars provide quick energy without blood sugar spikes. Fiber helps maintain steady energy levels."},{icon:"",title:"Consumption Tips",tip:"Eat with skin for maximum fiber. Great with nut butter for balanced snack. Store in refrigerator for longer freshness."}];else if(C.includes("banana"))P=[{icon:"",title:"Muscle Function",tip:"High potassium content supports proper muscle function and prevents cramps. Essential for athletes."},{icon:"",title:"Pre-Workout Fuel",tip:"Perfect natural energy source before exercise. Easy to digest carbohydrates for quick energy."},{icon:"",title:"Sleep & Recovery",tip:"Contains tryptophan which can help improve sleep quality. Magnesium supports muscle relaxation."},{icon:"",title:"Brain Health",tip:"Vitamin B6 supports brain function and mood regulation. Natural sugars fuel cognitive performance."}];else if(C.includes("chicken")||C.includes("meat")||C.includes("beef")||C.includes("pork"))P=[{icon:"",title:"Muscle Building & Repair",tip:"High-quality complete protein containing all essential amino acids for muscle growth and repair. Ideal for post-workout recovery."},{icon:"",title:"Metabolism Boost",tip:"Protein requires more energy to digest (thermic effect), boosting metabolism. Helps maintain lean muscle mass."},{icon:"",title:"Satiety & Weight Management",tip:"Keeps you feeling full longer, reducing overall calorie intake. Pair with vegetables for balanced nutrition."},{icon:"",title:"Preparation Tips",tip:"Choose lean cuts, grill or bake instead of frying. Marinate for enhanced flavor and tenderness. Cook to safe internal temperatures."}];else if(C.includes("rice")||C.includes("bread")||C.includes("pasta")||C.includes("grain"))P=[{icon:"",title:"Energy Source",tip:"Provides quick energy from carbohydrates for daily activities. Choose whole grain varieties for sustained energy release."},{icon:"",title:"Brain Fuel",tip:"Glucose from carbs is the brain's preferred energy source. Essential for cognitive function and concentration."},{icon:"",title:"Pre-Exercise Fuel",tip:"Great fuel before workouts or physical activities. Consume 1-3 hours before exercise for optimal performance."},{icon:"",title:"Fiber Benefits",tip:"Whole grain versions provide fiber for digestive health. Helps regulate blood sugar and cholesterol levels."}];else if(C.includes("vegetable")||C.includes("salad")||C.includes("broccoli")||C.includes("spinach"))P=[{icon:"",title:"Nutrient Density",tip:"Packed with vitamins, minerals, and antioxidants while being low in calories. Excellent source of folate, vitamin K, and iron."},{icon:"",title:"Disease Prevention",tip:"Antioxidants help protect against chronic diseases, cancer, and inflammation. Supports immune system function."},{icon:"",title:"Digestive Health",tip:"High fiber content supports digestive health and beneficial gut bacteria. Helps maintain healthy weight."},{icon:"",title:"Preparation Tips",tip:"Steam or saut lightly to preserve nutrients. Add to smoothies, salads, or stir-fries. Pair with healthy fats for better absorption."}];else if(C.includes("fish")||C.includes("salmon")||C.includes("tuna"))P=[{icon:"",title:"Brain Health",tip:"Omega-3 fatty acids (EPA & DHA) support cognitive function, memory, and may reduce risk of dementia."},{icon:"",title:"Heart Health",tip:"Healthy fats help reduce cardiovascular disease risk, lower blood pressure, and improve cholesterol profile."},{icon:"",title:"Lean Protein Source",tip:"High-quality protein with lower saturated fat content. Essential amino acids for muscle maintenance and growth."},{icon:"",title:"Consumption Guidelines",tip:"Aim for 2-3 servings per week. Choose wild-caught when possible. Grill, bake, or steam for healthiest preparation."}];else{const $=d.foods[0],L=$.protein_per_100g>15,F=($.fiber_per_100g||0)>5,G=$.calories_per_100g<100;P=[{icon:"",title:"Nutritional Analysis",tip:`This food provides ${Math.round($.calories_per_100g*(b/100))} calories per ${b}g serving. ${L?"Excellent protein source for muscle support. ":""}${F?"Good source of dietary fiber for digestive health. ":""}${G?"Low-calorie option ideal for weight management.":"Moderate calorie content for balanced nutrition."}`},{icon:"",title:"Optimal Consumption Times",tip:L?"Ideal for post-workout recovery, breakfast, or as part of main meals to support muscle maintenance.":G?"Perfect as a healthy snack between meals or when managing calorie intake.":"Versatile food that can be enjoyed throughout the day as part of a balanced diet."},{icon:"",title:"Pairing & Preparation",tip:L?"Pair with colorful vegetables and whole grains for a complete, balanced meal with all macronutrients.":"Combine with protein sources and healthy fats for better satiety, nutrient absorption, and balanced nutrition."},{icon:"",title:"Health Benefits",tip:`${$.carbs_per_100g>20?"Good energy source from carbohydrates. ":""}${$.fats_per_100g>5?"Contains beneficial fats for hormone production and nutrient absorption. ":""}${($.fiber_per_100g||0)>2?"Fiber content supports digestive health and blood sugar regulation.":"Provides essential nutrients for overall health and wellbeing."}`}]}return P.map(($,L)=>l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-2xl",children:$.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-800 mb-1",children:$.title}),l.jsx("p",{className:"text-sm text-gray-600",children:$.tip})]})]})},L))})()})]})]}),l.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 mt-auto",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-sm mx-auto",children:[l.jsxs("div",{children:[l.jsx(We,{htmlFor:"meal-type",className:"text-sm font-medium text-gray-700 mb-2 block",children:"Meal Type"}),l.jsx("div",{className:"relative",children:l.jsxs("select",{id:"meal-type",value:m,onChange:C=>{const P=C.target.value;console.log("Meal type changed from",m,"to",P),p(P),g(!0),console.log("New meal type after setMealType:",P)},className:"w-full h-11 bg-white border-gray-200 border rounded-md px-3 pr-8 focus:ring-2 focus:ring-green-500 focus:border-green-500 appearance-none font-medium text-gray-900 hover:border-gray-400 transition-colors",style:{backgroundImage:`url("data:image/svg+xml;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'><path stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M7 7.5l3 3 3-3'/></svg>")`,backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em"},children:[l.jsx("option",{value:"breakfast",children:" Breakfast"}),l.jsx("option",{value:"lunch",children:" Lunch"}),l.jsx("option",{value:"dinner",children:" Dinner"}),l.jsx("option",{value:"snack",children:" Snack"})]})})]}),l.jsxs("div",{children:[l.jsx(We,{htmlFor:"portion",className:"text-sm font-medium text-gray-700 mb-2 block",children:"Portion (g)"}),l.jsx(ct,{id:"portion",type:"number",value:b,onChange:C=>v(Number(C.target.value)),min:1,max:2e3,className:"h-11 bg-white border-gray-200 text-center font-medium"})]})]})}),l.jsx("div",{className:"px-6 py-4 bg-white",children:l.jsx("div",{className:"max-w-sm mx-auto",children:l.jsx(le,{onClick:K,className:"w-full h-12 text-base font-semibold bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",disabled:s,children:s?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),"Log Meals"]})})})})]})})]})})}):l.jsxs(Oo,{className:d?"hidden":"max-w-md max-h-[90vh] overflow-y-auto",style:d?{}:{background:"linear-gradient(135deg, #e0ffe7 0%, #fffbe6 100%)"},children:[l.jsxs(Ca,{children:[l.jsxs(Na,{className:"flex items-center gap-2",style:{background:"linear-gradient(90deg, #34d399 0%, #fbbf24 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[l.jsx(Yn,{className:"h-5 w-5",style:{color:"#34d399"}}),"Scan Food"]}),l.jsx(T_,{className:"text-sm text-gray-600",children:"Take a photo of your food to automatically identify and log nutrition information."})]}),l.jsxs("div",{className:d?"w-screen h-screen flex flex-col justify-center items-center space-y-4 bg-white/90 p-0 m-0":"space-y-4",style:d?{minHeight:"100vh",minWidth:"100vw",borderRadius:0,boxShadow:"none",padding:0,margin:0}:{},children:[i&&!c&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs(le,{onClick:k,className:"w-full flex items-center gap-2",style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:"white",fontWeight:"bold"},variant:"default",children:[l.jsx(Yn,{className:"h-4 w-4"}),we.isNativePlatform()?"Take Photo":"Scan Photo"]}),l.jsxs(le,{onClick:()=>{var C;we.isNativePlatform()?R():(C=E.current)==null||C.click()},className:"w-full flex items-center gap-2",style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",color:"white",fontWeight:"bold"},variant:"default",children:[l.jsx(Mj,{className:"h-4 w-4"}),"Upload Photo"]}),l.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:R,className:"hidden"})]}),!i&&!c&&!we.isNativePlatform()&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("video",{ref:x,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg"}),l.jsx("canvas",{ref:_,className:"hidden"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(le,{onClick:N,className:"flex-1",children:[l.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Capture"]}),l.jsx(le,{onClick:B,variant:"outline",children:l.jsx(li,{className:"h-4 w-4"})})]})]}),c&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:c,alt:"Captured food",className:"w-full rounded-lg"}),!d&&l.jsx(le,{onClick:A,variant:"outline",size:"sm",className:"absolute top-2 right-2",children:l.jsx(tv,{className:"h-4 w-4"})})]}),s&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzing food..."})]})]})]})]})})},jF=[{id:"home",icon:kj,label:"Home"},{id:"insights",icon:Mx,label:"Insights"},{id:"camera",icon:Yn,label:"Scan",isCenter:!0},{id:"history",icon:Ox,label:"History"},{id:"profile",icon:Dp,label:"Profile"}],TF=({activeTab:e,onTabChange:t})=>l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border",children:l.jsx("div",{className:"flex items-center justify-around py-2 px-4 max-w-md mx-auto",children:jF.map(n=>{const r=n.icon,s=e===n.id,o=n.isCenter;return l.jsxs(le,{variant:"ghost",onClick:()=>t(n.id),className:`
                flex flex-col items-center p-2 min-w-0 transition-all duration-200
                ${o?`w-16 h-16 rounded-full bg-gradient-primary hover:shadow-green -mt-6 shadow-lg
                     ${s?"scale-110":"hover:scale-105"}`:`flex-1 hover:bg-accent
                     ${s?"text-primary":"text-muted-foreground hover:text-foreground"}`}
              `,children:[l.jsx(r,{className:`
                  ${o?"w-6 h-6 text-white":`w-5 h-5 mb-1 transition-colors ${s?"text-primary":""}`}
                `}),!o&&l.jsx("span",{className:`text-xs font-medium ${s?"text-primary":""}`,children:n.label})]},n.id)})})}),PF=()=>{const e=mu();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function AF(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Em="ScrollArea",[hk]=mn(Em),[IF,Kt]=hk(Em),pk=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,c]=h.useState(null),[u,d]=h.useState(null),[f,m]=h.useState(null),[p,b]=h.useState(null),[v,S]=h.useState(null),[w,y]=h.useState(0),[g,x]=h.useState(0),[_,E]=h.useState(!1),[j,k]=h.useState(!1),N=ye(t,R=>c(R)),T=e1(s);return l.jsx(IF,{scope:n,type:r,dir:T,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:b,scrollbarXEnabled:_,onScrollbarXEnabledChange:E,scrollbarY:v,onScrollbarYChange:S,scrollbarYEnabled:j,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:x,children:l.jsx(ne.div,{dir:T,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":g+"px",...e.style}})})});pk.displayName=Em;var mk="ScrollAreaViewport",gk=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=Kt(mk,n),a=h.useRef(null),c=ye(t,a,i.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(ne.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});gk.displayName=mk;var Mn="ScrollAreaScrollbar",Cm=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kt(Mn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return h.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?l.jsx(RF,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(OF,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(vk,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(Nm,{...r,ref:t}):null});Cm.displayName=Mn;var RF=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kt(Mn,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(gn,{present:n||o,children:l.jsx(vk,{"data-state":o?"visible":"hidden",...r,ref:t})})}),OF=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kt(Mn,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Du(()=>c("SCROLL_END"),100),[a,c]=AF("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),h.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,o,c,i]),l.jsx(gn,{present:n||a!=="hidden",children:l.jsx(Nm,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:te(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:te(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),vk=h.forwardRef((e,t)=>{const n=Kt(Mn,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=h.useState(!1),a=e.orientation==="horizontal",c=Du(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return si(n.viewport,c),si(n.content,c),l.jsx(gn,{present:r||o,children:l.jsx(Nm,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Nm=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Kt(Mn,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[a,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Sk(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,p){return UF(m,i.current,a,p)}return n==="horizontal"?l.jsx(MF,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,p=Ay(m,a,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?l.jsx(DF,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,p=Ay(m,a);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),MF=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Kt(Mn,e.__scopeScrollArea),[i,a]=h.useState(),c=h.useRef(null),u=ye(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(wk,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const m=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),kk(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Mc(i.paddingLeft),paddingEnd:Mc(i.paddingRight)}})}})}),DF=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Kt(Mn,e.__scopeScrollArea),[i,a]=h.useState(),c=h.useRef(null),u=ye(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(wk,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const m=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),kk(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Mc(i.paddingTop),paddingEnd:Mc(i.paddingBottom)}})}})}),[LF,yk]=hk(Mn),wk=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,p=Kt(Mn,n),[b,v]=h.useState(null),S=ye(t,N=>v(N)),w=h.useRef(null),y=h.useRef(""),g=p.viewport,x=r.content-r.viewport,_=Qe(d),E=Qe(c),j=Du(f,10);function k(N){if(w.current){const T=N.clientX-w.current.left,R=N.clientY-w.current.top;u({x:T,y:R})}}return h.useEffect(()=>{const N=T=>{const R=T.target;(b==null?void 0:b.contains(R))&&_(T,x)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[g,b,x,_]),h.useEffect(E,[r,E]),si(b,j),si(p.content,j),l.jsx(LF,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:Qe(o),onThumbPointerUp:Qe(i),onThumbPositionChange:E,onThumbPointerDown:Qe(a),children:l.jsx(ne.div,{...m,ref:S,style:{position:"absolute",...m.style},onPointerDown:te(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),w.current=b.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(N))}),onPointerMove:te(e.onPointerMove,k),onPointerUp:te(e.onPointerUp,N=>{const T=N.target;T.hasPointerCapture(N.pointerId)&&T.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),Oc="ScrollAreaThumb",xk=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=yk(Oc,e.__scopeScrollArea);return l.jsx(gn,{present:n||s.hasThumb,children:l.jsx($F,{ref:t,...r})})}),$F=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=Kt(Oc,n),i=yk(Oc,n),{onThumbPositionChange:a}=i,c=ye(t,f=>i.onThumbChange(f)),u=h.useRef(void 0),d=Du(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const f=o.viewport;if(f){const m=()=>{if(d(),!u.current){const p=BF(f,a);u.current=p,a()}};return a(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[o.viewport,d,a]),l.jsx(ne.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:te(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),b=f.clientX-p.left,v=f.clientY-p.top;i.onThumbPointerDown({x:b,y:v})}),onPointerUp:te(e.onPointerUp,i.onThumbPointerUp)})});xk.displayName=Oc;var jm="ScrollAreaCorner",bk=h.forwardRef((e,t)=>{const n=Kt(jm,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(FF,{...e,ref:t}):null});bk.displayName=jm;var FF=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Kt(jm,n),[o,i]=h.useState(0),[a,c]=h.useState(0),u=!!(o&&a);return si(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),si(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?l.jsx(ne.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Mc(e){return e?parseInt(e,10):0}function Sk(e,t){const n=e/t;return isNaN(n)?0:n}function Mu(e){const t=Sk(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function UF(e,t,n,r="ltr"){const s=Mu(n),o=s/2,i=t||o,a=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return _k([c,u],f)(e)}function Ay(e,t,n="ltr"){const r=Mu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,c=n==="ltr"?[0,i]:[i*-1,0],u=gh(e,c);return _k([0,i],[0,a])(u)}function _k(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function kk(e,t){return e>0&&e<t}var BF=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Du(e,t){const n=Qe(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function si(e,t){const n=Qe(t);He(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var Ek=pk,zF=gk,HF=bk;const Ck=h.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(Ek,{ref:r,className:de("relative overflow-hidden",e),...n,children:[l.jsx(zF,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(Nk,{}),l.jsx(HF,{})]}));Ck.displayName=Ek.displayName;const Nk=h.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Cm,{ref:r,orientation:t,className:de("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(xk,{className:"relative flex-1 rounded-full bg-border"})}));Nk.displayName=Cm.displayName;class Rh{static async callGeminiAPI(t,n){return console.log(" AI Health Coach providing personalized nutrition guidance"),this.generateIntelligentFallback(t)}static async callGeminiViaProxy(t){try{const n=`${window.location.origin}/api/gemini-proxy`,r=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t})});return r.ok?await r.json():null}catch{return null}}static generateIntelligentFallback(t){return t.toLowerCase(),t.includes("meal plan")||t.includes("planning")?` **Your Personalized 7-Day Meal Plan**

Based on your nutrition goals, here's a healthy, balanced meal plan with approximately 2,000 calories per day:

** Monday (2,100 cal):**
 Breakfast: Oatmeal with berries & nuts (320 cal)
 Lunch: Grilled chicken breast with quinoa & mixed greens (450 cal)  
 Dinner: Baked salmon with sweet potatoes & broccoli (380 cal)
 Snacks: Greek yogurt with apple (350 cal) + dark chocolate square (100 cal)

** Tuesday (1,950 cal):**
 Breakfast: Greek yogurt parfait with granola (360 cal)
 Lunch: Turkey wrap with veggies & hummus (420 cal)
 Dinner: Stir-fried tofu with brown rice & vegetables (390 cal)
 Snacks: Handful almonds (200 cal) + banana (150 cal)

** Wednesday (2,150 cal):**
 Breakfast: Whole grain toast with avocado (380 cal) 
 Lunch: Vegetable stir-fry with chickpeas (400 cal)
 Dinner: Grilled lean steak with salad & quinoa (450 cal)
 Snacks: Cottage cheese (200 cal) + orange (150 cal)

** Tip:** Focus on protein + veggies at each meal. Drink 8 glasses of water daily. Track your actual calories using the app to make adjustments!`:t.includes("recipe")||t.includes("cook")?` **Healthy Recipe Suggestions**

Here are 3 nutritious recipes you can make right now:

** Mediterranean Quinoa Bowl** (380 cal)
  cup cooked quinoa
 Mixed greens, cherry tomatoes, cucumber
 Grilled chicken breast (4 oz)
 Light feta cheese & lemon dressing
*Cook quinoa, top with fresh ingredients. Add grilled protein for complete nutrition.*

** Baked Chicken Stir-Fry** (320 cal)
 4 oz chicken breast, diced  
 Broccoli, bell peppers, carrots
 1 tsp olive oil, garlic, ginger
 Serve over cauliflower rice
*Stir-fry for 10 min to preserve nutrients. Season with herbs instead of salt.*

** Salmon Poke Bowl** (450 cal)
 5 oz fresh salmon, diced
 Edamame, cucumber, avocado, seaweed
 Brown rice base
 Sesame ginger dressing (light)
*Sushi-grade salmon with simple ingredients. High in omega-3s for heart health.*

** Cooking Tip:** Use minimal oil and focus on colorful vegetables in every meal!`:t.includes("analyze")||t.includes("pattern")?` **Your Nutrition Pattern Analysis**

After reviewing your recent eating habits, here are my insights:

** What's Working Great:**
 Balanced macronutrients (protein + carbs + fats)
 Consistent meal timing throughout the day
 Good variety in vegetable intake
 Adequate calorie distribution for energy needs

** Areas for Improvement:**
 Could add one more serving of fiber daily (aim for 25g total)
 Consider increasing omega-3 sources (fish, nuts, seeds)
 Track hydration - aim for 8-10 glasses of water daily
 Consider meal prepping to avoid impulsive choices

** Your Nutrition Quality Score: 78/100**
*You're doing excellent! Keep focusing on whole foods and consistency.*

** Top Recommendations:**
1. Add a vegetable side to every dinner meal
2. Include fatty fish twice weekly for omega-3s  
3. Track your actual water intake daily
4. Try meal prepping on weekends for better choices

*Keep up the great work - nutrition is all about sustainable habits!*`:t.includes("nutrition advice")||t.includes("recommend")?` **Your Personalized Nutrition Recommendations**

Here are my top suggestions based on your current habits:

** Focus on Protein + Veggies First**  
Every meal should include a palm-sized portion of protein (chicken, fish, beans, tofu) plus half your plate being vegetables. This keeps you full and provides essential nutrients.

** Stay Hydrated**
Aim for 8-10 glasses of water daily! Dehydration can feel like hunger. Keep water by your side and aim for it to be your primary drink.

** Eat the Rainbow**  
Include colorful vegetables in every meal - red, green, orange, purple. They provide different nutrients and keep meals interesting!

** Smart Snacking Strategy**  
Choose snacks with protein + fiber (nuts, yogurt, apples with peanut butter) to maintain blood sugar and stay satisfied between meals.

** Meal Timing Matters**  
Try not to go longer than 4-5 hours between meals. Regular timing helps regulate metabolism and energy.

** Specific Actions:**
 For breakfast: Try oatmeal with nuts and fruit (fiber + protein combo)
 For lunch: Salad with grilled protein topped with avocado and seeds  
 For dinner: Lean protein, steamed veggies, and a small carb like quinoa
 For snacks: Greek yogurt with berries, or apple with handful almonds

**Remember:** Nutrition is about progress, not perfection. Small consistent changes lead to big results over time!`:t.includes("snack")||t.includes("snacks")?` **Healthy Snack Ideas** (Under 200 calories each)

** Simple & Nutritious:**
 Greek yogurt (plain, low-fat) with fresh berries (150 cal)
 Apple slices with 1 tbsp natural peanut butter (180 cal)  
 Carrot sticks with hummus (120 cal)
 Hard-boiled egg with cherry tomatoes (140 cal)
 Handful almonds (about 20-25) (160 cal)

** Protein-Packed Options:**
 Cottage cheese with cucumber slices (120 cal)
 Turkey or chicken roll-ups with spinach (150 cal)
 Protein shake made with Greek yogurt base (180 cal)
 Edamame (steamed soybeans) (120 cal)
 Tuna stuffed mini bell peppers (140 cal)

** Fun & Easy:**
 Fresh fruit salad with mint (100 cal)
 Dark chocolate square + 5 walnut halves (180 cal)
 Veggie sticks with tzatziki (100 cal)
 Popcorn (air-popped, lightly seasoned) (150 cal)
 Homemade trail mix (nuts, dried fruit, small dark chocolate) (200 cal)

** Snack Smart:**
Choose snacks with protein + fiber = they'll keep you satisfied longer!
Don't eat mindlessly - portion out your snacks in advance.`:t.includes("breakfast")||t.includes("morning")?` **Healthy Breakfast Options**

A great breakfast provides energy and sets you up for success all day:

** High Protein Options (Great for muscle maintenance):**
 Greek yogurt parfait with granola and mixed berries (350 cal)
 Veggie omelet with spinach, tomatoes, and feta (280 cal)
 Overnight oats with chia seeds, nuts, and fruit (320 cal)

** Quick Energy Choices:**
 Whole grain toast with avocado and poached egg (380 cal)
 Smoothie with spinach, banana, protein powder, almond milk (250 cal)
 Cottage cheese with pineapple and almonds (280 cal)

** Time-Saving Options:**
 Overnight chia pudding (300 cal, prep night before)
 Hard-boiled eggs and whole fruit (250 cal)
 Protein muffins (made ahead, 200 cal each)

** Pro Tip:** Include protein, fiber, and a bit of healthy fat in your breakfast to stay full until lunch!`:t.includes("lunch")||t.includes("dinner")||t.includes("meal")?` **Balanced Meal Ideas**

Here's what makes a perfect balanced meal:

** Protein Options:**

** Lean Proteins:**
 Grilled chicken breast (120g = 165 cal)
 Turkey or ham (sliced lean, 80g = 100 cal)  
 Baked white fish like tilapia (120g = 115 cal)
 Toasted tofu (100g = 130 cal)
 Eggs (2 boiled = 160 cal)

** Main Dish Complements:**

** Veggies (Focus on colorful variety):**
 Broccoli, kale, spinach - vitamin powerhouses
 Bell peppers, carrots - great for eyes
 Tomatoes, zucchini - hydrating options
 Brussels sprouts, cauliflower - fiber rich

** Whole Grains:**
 Quinoa, brown rice, farro (about  cup cooked)
 Whole wheat bread or pasta (in moderation)
 Sweet potatoes or acorn squash

** Flavor Boosters:**
 Fresh herbs instead of salt (oregano, rosemary, thyme)
 Lemon juice, vinegars for dressings
 Garlic, ginger for immune support

** Sample Balanced Meals:**
 **Lunch:** Grilled chicken salad with mixed greens, quinoa, avocado (420 cal)
 **Dinner:** Baked salmon with sweet potato and steamed broccoli (460 cal)

Remember: Variety is key! Try new vegetables and lean proteins weekly.`:` **Your Personal Nutrition Coach Here!**

Hi! I'm Dr. Nutrition, your AI health coach. I can help you with:

** Meal Planning:**
*"What's a good meal plan for weight loss?"*

** Recipe Ideas:**
*"I have chicken and vegetables, what can I cook?"*

** Nutrition Analysis:**
*"How healthy is my current diet?"*

** Specific Advice:**
*"What's a good breakfast for energy?"*
*"Healthy snacks under 200 calories?"*
*"Tips for eating at restaurants?"*

** Today's Quick Tip:**
Aim to include a rainbow of vegetables across your day - different colors mean different nutrients, and it makes meals more enjoyable!

*What aspect of nutrition are you curious about right now?*`}static async analyzeFoodImage(t){return this.callGeminiAPI(`Analyze this food image and identify the main food item. You are a professional nutritionist AI. Return ONLY a valid JSON object with this exact structure...

{
  "food_name": "exact name of the main food item you see",
  "confidence": 0.95,
  "portion_estimate": 150,
  "foods": [
    {
      "name": "food item name",
      "quantity": "estimated portion in grams",
      "calories_per_100g": actual_number,
      "protein_per_100g": actual_number,
      "carbs_per_100g": actual_number,
      "fats_per_100g": actual_number
    }
  ]
}

IMPORTANT: Return ONLY the JSON object, no other text.`,t)}static async generateMealPlan(t,n){const r=`Create a personalized 7-day meal plan for this user:

USER PROFILE:
- Daily calories: ${t.daily_calorie_goal||2e3}
- Gender: ${t.gender||"Not specified"}
- Age: ${t.age||"Not specified"}
- Weight: ${t.weight_kg||"Not specified"}kg
- Height: ${t.height_cm||"Not specified"}cm
- Activity level: ${t.activity_level||"moderate"}
- Dietary preferences: ${n.join(", ")||"None"}

Return a JSON object with this structure:
{
  "meal_plan": [
    {
      "day": "Monday",
      "meals": [
        {
          "meal_type": "breakfast",
          "food_name": "example breakfast",
          "calories": 350,
          "notes": "high protein"
        }
      ],
      "daily_total": 1800
    }
  ]
}`;return this.callGeminiAPI(r)}static async provideNutritionAdvice(t,n){const r=`Analyze this user's recent meals and provide personalized nutrition advice:

RECENT MEALS (last 7 days):
${t.map(s=>`- ${s.meal_type}: ${s.food_name} (${s.calories} cal)`).join(`
`)}

USER PROFILE:
- Daily goal: ${n.daily_calorie_goal||2e3} calories
- Current average: ${t.reduce((s,o)=>s+o.calories,0)/Math.max(1,t.length)} calories/day

Provide 2-3 specific, actionable nutrition recommendations. Be encouraging and professional.`;return this.callGeminiAPI(r)}static async suggestRecipes(t,n){const r=`Suggest 3 healthy recipes using these ingredients: ${t.join(", ")}

Dietary preferences: ${n.join(", ")||"None"}

Return JSON:
{
  "recipes": [
    {
      "name": "Recipe Name",
      "ingredients": ["ing1", "ing2"],
      "instructions": "step 1. step 2.",
      "nutrition": {"calories": 250, "protein": 20, "carbs": 30}
    }
  ]
}`;return this.callGeminiAPI(r)}static async analyzeNutritionPatterns(t){const n=`Analyze this user's eating patterns over the last week and provide insights:

MEALS DATA:
${t.slice(0,50).map(r=>`${new Date(r.logged_at).toDateString()}: ${r.meal_type} - ${r.food_name} (${r.calories} calories)`).join(`
`)}

Provide JSON analysis:
{
  "insights": ["insight1", "insight2", "insight3"],
  "recommendations": ["suggestion1", "suggestion2"],
  "nutrition_quality_score": 85
}`;return this.callGeminiAPI(n)}static async getAIResponse(t,n){const r=`You are a professional nutrition coach. Answer this question: "${t}"

${n?`USER CONTEXT:
- Daily calorie goal: ${n.daily_goal||2e3}
- Recent meals count: ${n.recent_meal_count||0}
- Current progress: ${n.calorie_intake||0} calories consumed today`:""}

Provide helpful, encouraging nutrition advice. Focus on specific, actionable recommendations.`;return this.callGeminiAPI(r)}}$e(Rh,"API_KEY","AIzaSyCa7L7vIFZaCi4iXRUAkF34u4JTXXcirlo"),$e(Rh,"BASE_URL","https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash-exp:generateContent");const Ai=Rh;function WF({onClose:e}){const[t,n]=h.useState([{id:"1",role:"assistant",content:"Hi! I'm your personal Health Coach. I can help you with diet recommendations, meal planning, and nutrition advice based on your goals and eating patterns. What would you like to know?",timestamp:new Date}]),[r,s]=h.useState(""),[o,i]=h.useState(!1),[a,c]=h.useState(!1),[u,d]=h.useState(null),f=h.useRef(null),{dailyProgress:m,calorieIntake:p}=gi(),{toast:b}=Xc();h.useEffect(()=>{a||v()},[a]);const v=async()=>{try{const{data:y}=await q.auth.getUser();let g=null;if(y.user){const{data:E}=await q.from("profiles").select("*").eq("user_id",y.user.id).single();g=E}const x=new Date;x.setDate(x.getDate()-7);const{data:_}=await q.from("meal_logs").select("*").gte("logged_at",x.toISOString().split("T")[0]).order("logged_at",{ascending:!1}).limit(50);d({profile:g,recentMeals:_||[],dailyProgress:m,calorieIntake:p}),c(!0)}catch(y){console.error("Error fetching user data:",y),c(!0)}};h.useEffect(()=>{if(f.current){const y=f.current.querySelector("[data-radix-scroll-area-viewport]");y&&(y.scrollTop=y.scrollHeight)}},[t]);const S=async()=>{var g,x;if(!r.trim()||o)return;const y={id:Date.now().toString(),role:"user",content:r.trim(),timestamp:new Date};n(_=>[..._,y]),s(""),i(!0);try{let _;const E=y.content.toLowerCase();if(E.includes("meal plan")||E.includes("planning")||E.includes("plan")){const k=(u==null?void 0:u.profile)||{daily_calorie_goal:2e3,gender:"Not specified",age:"Not specified",dietary_preferences:[]},N=((g=u==null?void 0:u.profile)==null?void 0:g.dietary_preferences)||E.match(/(vegan|gluten.free|keto|low.carb|high.protein)/gi)||[];_=await Ai.generateMealPlan(k,N),_=JSON.stringify(_,null,2)}else if(E.includes("recipe")||E.includes("cook")||E.includes("ingredient")){const k=E.match(/(\w+)/g)||[];_=await Ai.suggestRecipes(k,((x=u==null?void 0:u.profile)==null?void 0:x.dietary_preferences)||[]),_=JSON.stringify(_,null,2)}else if(E.includes("analysis")||E.includes("pattern")||E.includes("eating"))_=await Ai.analyzeNutritionPatterns((u==null?void 0:u.recentMeals)||[]),_=`Nutrition Analysis: ${JSON.stringify(_,null,2)}`;else{const k=(u==null?void 0:u.recentMeals)||[],N=(u==null?void 0:u.profile)||{daily_calorie_goal:(m==null?void 0:m.goal)||2e3};k.length>0?_=await Ai.provideNutritionAdvice(k,N):_=await Ai.getAIResponse(y.content,{daily_goal:(m==null?void 0:m.goal)||2e3,recent_meal_count:0,calorie_intake:p||0})}const j={id:(Date.now()+1).toString(),role:"assistant",content:_||"I'd love to help you with that! Can you provide more details about your nutrition goals or current eating habits?",timestamp:new Date};n(k=>[...k,j])}catch(_){console.error("Error getting AI response:",_);let E="Response Error",j="Failed to get response from health coach.",k="I'm having trouble connecting right now. Can you try asking a shorter question? I'm here to help with your nutrition goals!";_.message.includes("timeout")?(E="Request Timeout",j="The AI is taking too long to respond. Try a shorter question.",k="The request is taking longer than expected. Try asking a simpler question or check your internet connection."):_.message.includes("network")||_.message.includes("fetch")?(E="Connection Issue",j="Please check your internet connection and try again.",k="I'm having trouble connecting to my knowledge base. Please check your internet connection and try again."):_.message.includes("Invalid AI response")&&(E="Processing Error",j="The AI response was invalid. Please try rephrasing your question.",k="I couldn't understand my response analysis. Can you ask your question differently?"),b({title:E,description:j,variant:"destructive"});const N={id:(Date.now()+1).toString(),role:"assistant",content:k,timestamp:new Date};n(T=>[...T,N])}finally{i(!1)}},w=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),S())};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#e0ffe7] to-[#fffbe6] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 pt-6",children:[e&&l.jsxs("button",{className:"flex items-center gap-2 bg-white/90 hover:bg-white rounded-full px-4 py-2 shadow-md hover:shadow-lg transition-all duration-200",onClick:e,"aria-label":"Back to Home",children:[l.jsx(Rx,{className:"w-5 h-5 text-green-700"}),l.jsx("span",{className:"text-sm font-medium text-green-700",children:"Back"})]}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-xl font-bold text-green-800",children:"AI Health Coach"}),l.jsx("p",{className:"text-sm text-green-600",children:"Your Personal Nutrition Assistant"})]}),l.jsx("div",{className:"flex-1"})]}),l.jsxs("div",{className:"flex flex-col flex-1 h-full pb-4 px-2",children:[l.jsx(zt,{className:"flex-1 flex flex-col shadow-lg bg-white/50 backdrop-blur-sm border-green-200",children:l.jsx(ps,{className:"flex-1 flex flex-col p-4 gap-4",children:l.jsx(Ck,{ref:f,className:"flex-1 pr-2 max-h-[60vh] overflow-y-auto",children:l.jsxs("div",{className:"space-y-4 p-1",children:[t.map(y=>l.jsxs("div",{className:`flex gap-3 ${y.role==="user"?"flex-row-reverse":"flex-row"}`,children:[l.jsx("div",{className:`
                      w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-1
                      ${y.role==="user"?"bg-secondary text-secondary-foreground":"bg-primary text-primary-foreground"}
                    `,children:y.role==="user"?l.jsx(Dp,{className:"w-3 h-3"}):l.jsx(Xg,{className:"w-3 h-3"})}),l.jsxs("div",{className:`
                      rounded-2xl px-4 py-2 text-sm break-words
                      ${y.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted text-muted-foreground"}
                    `,children:[l.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:y.content}),l.jsx("p",{className:`text-xs mt-1 opacity-70 ${y.role==="user"?"text-right":"text-left"}`,children:y.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},y.id)),o&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-primary text-primary-foreground flex items-center justify-center flex-shrink-0 mt-1",children:l.jsx(Xg,{className:"w-3 h-3"})}),l.jsx("div",{className:"bg-muted text-muted-foreground rounded-2xl px-4 py-2 text-sm",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vc,{className:"w-3 h-3 animate-spin"}),l.jsx("span",{children:"Health Coach is thinking..."})]})})]})]})})})}),l.jsxs("div",{className:"px-2 sm:px-4 pb-4 pt-4 flex gap-2 bg-gradient-to-t from-white/90 to-transparent backdrop-blur-sm",children:[l.jsx(ct,{value:r,onChange:y=>s(y.target.value),onKeyPress:w,placeholder:"Ask about diet, nutrition, or meal recommendations...",disabled:o,className:"flex-1"}),l.jsx(le,{onClick:S,disabled:!r.trim()||o,size:"icon",children:o?l.jsx(vc,{className:"w-4 h-4 animate-spin"}):l.jsx(Bx,{className:"w-4 h-4"})})]})]})]})}function VF(){const e=Ha(),t=()=>{e(-1)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#e0ffe7] to-[#fffbe6] flex flex-col",children:l.jsx(WF,{onClose:t})})}const qF=({isOpen:e,onClose:t,mealType:n,user:r,onMealUpdated:s})=>{const[o,i]=h.useState([]),[a,c]=h.useState(!1),[u,d]=h.useState(null);h.useEffect(()=>{e&&r&&n&&f()},[e,r,n]);const f=async()=>{if(!(!r||!n)){c(!0);try{const v=new Date().toISOString().split("T")[0],{data:S,error:w}=await q.from("meal_logs").select("id, food_name, calories, protein, carbs, photo_url, logged_at").eq("user_id",r.id).eq("meal_type",n).gte("logged_at",`${v}T00:00:00`).lte("logged_at",`${v}T23:59:59`).order("logged_at",{ascending:!1});if(w){console.error("Error fetching meal items:",w);return}i(S||[])}catch(v){console.error("Error fetching meal items:",v)}finally{c(!1)}}},m=async v=>{if(confirm("Are you sure you want to delete this food item?"))try{const{error:S}=await q.from("meal_logs").delete().eq("id",v);if(S){console.error("Error deleting meal item:",S),alert("Failed to delete item");return}await f(),s()}catch(S){console.error("Error deleting meal item:",S),alert("Failed to delete item")}},p=v=>{alert("Edit functionality would be implemented here"),d(v)},b=v=>{switch(v){case"breakfast":return"";case"lunch":return"";case"dinner":return"";case"snack":return"";default:return""}};return l.jsx(ea,{open:e,onOpenChange:t,children:l.jsxs(Oo,{className:"max-w-md max-h-[80vh] overflow-hidden",children:[l.jsx(Ca,{children:l.jsxs(Na,{className:"flex items-center gap-3 text-xl",children:[l.jsx("span",{className:"text-2xl",children:b(n)}),l.jsxs("div",{children:[l.jsx("span",{className:"capitalize",children:n}),l.jsx("p",{className:"text-sm font-normal text-gray-500 mt-1",children:a?"Loading...":`${o.length} item${o.length!==1?"s":""}`})]})]})}),l.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:a?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):o.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Yn,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{className:"font-medium mb-1",children:"No items found"}),l.jsxs("p",{className:"text-sm",children:["No ",n," items logged today"]})]}):l.jsx("div",{className:"space-y-3 p-6",children:o.map(v=>l.jsx(zt,{className:"p-4 border-0 shadow-sm",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:v.photo_url?l.jsx("img",{src:v.photo_url,alt:v.food_name,className:"w-full h-full object-cover rounded-lg"}):l.jsx("span",{className:"text-xl",children:b(n)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-medium text-gray-900 truncate",children:v.food_name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[v.calories," kcal",(v.protein||v.carbs||v.fat)&&l.jsxs("span",{className:"ml-1",children:[v.protein&&`P:${v.protein}g `,v.carbs&&`C:${v.carbs}g `,v.fat&&`F:${v.fat}g`]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(v.logged_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),l.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>p(v.id),className:"p-2 text-gray-500 hover:text-blue-500",children:l.jsx(jj,{className:"w-4 h-4"})}),l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>m(v.id),className:"p-2 text-gray-500 hover:text-red-500",children:l.jsx(Rj,{className:"w-4 h-4"})})]})]})},v.id))})}),l.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-100",children:[l.jsx(le,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),o.length>0&&l.jsxs(le,{onClick:()=>{alert("Add new item functionality would be implemented here")},className:"flex-1 bg-green-500 hover:bg-green-600",children:[l.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Add Item"]})]})]})})},GF=new sA,KF=()=>{const[e,t]=h.useState("splash"),[n,r]=h.useState(null),[s,o]=h.useState(!1),[i,a]=h.useState(!1),[c,u]=h.useState(0),[d,f]=h.useState(!1),[m,p]=h.useState(""),b=uO("home");tm(n),h.useEffect(()=>{n?console.log("App: FCM initialization triggered for user:",n.id):console.log("App: No user authenticated, FCM will not initialize")},[n]);const S=SO({onBackGesture:()=>{b.canGoBack&&(a(!0),b.goBack())},enableBackGesture:b.canGoBack,enableForwardGesture:!1});h.useEffect(()=>{const{data:{subscription:I}}=q.auth.onAuthStateChange((O,K)=>{r((K==null?void 0:K.user)??null),K!=null&&K.user&&e==="auth"&&t("main")});return(async()=>{try{const{data:{session:O}}=await q.auth.getSession();r((O==null?void 0:O.user)??null)}catch(O){console.error("Session check error:",O)}})(),()=>I.unsubscribe()},[]);const w=()=>{const I=localStorage.getItem("hasSeenOnboarding")==="true";t(I?n?"main":"auth":"onboarding")},y=()=>{localStorage.setItem("hasSeenOnboarding","true"),t(n?"main":"auth")},g=()=>{t("main")},x=()=>{o(!0)},_=()=>{o(!1),b.navigateTo("home"),u(I=>I+1)},E=I=>{I==="camera"?x():b.navigateTo(I)},j=()=>{r(null),t("auth"),b.navigateTo("home")},k=I=>{p(I),f(!0)},N=()=>{f(!1),p(""),u(I=>I+1)},T=()=>{u(I=>I+1)},R=()=>{switch(b.currentTab){case"home":return l.jsx(ly,{user:n,onCameraClick:x,onMealEdit:k},c);case"insights":return l.jsx(UD,{});case"history":return l.jsx(zD,{user:n},c);case"profile":return l.jsx(CF,{user:n,onLogout:j});default:return l.jsx(ly,{user:n,onCameraClick:x,onMealEdit:k},c)}};return l.jsx(iA,{client:GF,children:l.jsx(fN,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:l.jsxs(A2,{children:[l.jsx(yT,{}),l.jsx(qT,{}),l.jsx(nI,{children:l.jsx("div",{...S,children:l.jsxs(XA,{children:[l.jsx(to,{path:"/",element:l.jsxs(l.Fragment,{children:[e==="splash"&&l.jsx(LO,{onComplete:w}),e==="onboarding"&&l.jsx(FO,{onComplete:y}),e==="auth"&&l.jsx(QO,{onAuthenticated:g}),e==="main"&&l.jsx(Yv,{user:n,children:l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx("main",{className:"flex-1 overflow-y-auto",children:R()}),l.jsx(TF,{activeTab:b.currentTab,onTabChange:E}),l.jsx(NF,{user:n,isOpen:s,onClose:()=>o(!1),onMealLogged:_}),l.jsx(RO,{show:i,onAnimationComplete:()=>a(!1)}),l.jsx(qF,{isOpen:d,onClose:N,mealType:m,user:n,onMealUpdated:T})]})})]})}),l.jsx(to,{path:"/health-coach",element:l.jsx(Yv,{user:n,children:l.jsx(VF,{})})}),l.jsx(to,{path:"/auth/callback",element:l.jsx(ZO,{})}),l.jsx(to,{path:"/auth/confirm",element:l.jsx(XO,{})}),l.jsx(to,{path:"*",element:l.jsx(PF,{})})]})})})]})})})};tx(document.getElementById("root")).render(l.jsx(KF,{}));export{Eh as E,em as W,PO as b};
